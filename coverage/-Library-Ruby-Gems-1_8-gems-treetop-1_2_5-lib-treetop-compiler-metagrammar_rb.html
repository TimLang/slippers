<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang='en' xml:lang='en' xmlns='http://www.w3.org/1999/xhtml'><head><title>/Library/Ruby/Gems/1.8/gems/treetop-1.2.5/lib/treetop/compiler/metagrammar.rb - C0 code coverage information</title>
    <style type='text/css'>body { background-color: rgb(240, 240, 245); }</style>
    <style type='text/css'>span.cross-ref-title {
 font-size: 140%;
}
span.cross-ref a {
 text-decoration: none;
}
span.cross-ref {
 background-color:#f3f7fa;
 border: 1px dashed #333;
 margin: 1em;
 padding: 0.5em;
 overflow: hidden;
}
a.crossref-toggle {
 text-decoration: none;
}
span.marked0 {
 background-color: rgb(185, 210, 200);
 display: block;
}
span.marked1 {
 background-color: rgb(190, 215, 205);
 display: block;
}
span.inferred0 {
 background-color: rgb(175, 200, 200);
 display: block;
}
span.inferred1 {
 background-color: rgb(180, 205, 205);
 display: block;
}
span.uncovered0 {
 background-color: rgb(225, 110, 110);
 display: block;
}
span.uncovered1 {
 background-color: rgb(235, 120, 120);
 display: block;
}
span.overview {
 border-bottom: 8px solid black;
}
div.overview {
 border-bottom: 8px solid black;
}
body {
 font-family: verdana, arial, helvetica;
}
div.footer {
 font-size: 68%;
 margin-top: 1.5em;
}
h1, h2, h3, h4, h5, h6 {
 margin-bottom: 0.5em;
}
h5 {
 margin-top: 0.5em;
}
.hidden {
 display: none;
}
div.separator {
 height: 10px;
}
/* Commented out for better readability, esp. on IE */
/*
table tr td, table tr th {
 font-size: 68%;
}
td.value table tr td {
 font-size: 11px;
}
*/
table.percent_graph {
 height: 12px;
 border: #808080 1px solid;
 empty-cells: show;
}
table.percent_graph td.covered {
 height: 10px;
 background: #00f000;
}
table.percent_graph td.uncovered {
 height: 10px;
 background: #e00000;
}
table.percent_graph td.NA {
 height: 10px;
 background: #eaeaea;
}
table.report {
 border-collapse: collapse;
 width: 100%;
}
table.report td.heading {
 background: #dcecff;
 border: #d0d0d0 1px solid;
 font-weight: bold;
 text-align: center;
}
table.report td.heading:hover {
 background: #c0ffc0;
}
table.report td.text {
 border: #d0d0d0 1px solid;
}
table.report td.value,
table.report td.lines_total,
table.report td.lines_code {
 text-align: right;
 border: #d0d0d0 1px solid;
}
table.report tr.light {
 background-color: rgb(240, 240, 245);
}
table.report tr.dark {
 background-color: rgb(230, 230, 235);
}
</style>
    <script type='text/javascript'>
// <![CDATA[
  function toggleCode( id ) {
    if ( document.getElementById )
      elem = document.getElementById( id );
    else if ( document.all )
      elem = eval( "document.all." + id );
    else
      return false;

    elemStyle = elem.style;
    
    if ( elemStyle.display != "block" ) {
      elemStyle.display = "block"
    } else {
      elemStyle.display = "none"
    }

    return true;
  }
  
  // Make cross-references hidden by default
  document.writeln( "<style type=\"text/css\">span.cross-ref { display: none }</style>" )
  // ]]>
</script>
    <style type='text/css'>span.run0 {
  background-color: rgb(178, 204, 255);
  display: block;
}
span.run1 {
  background-color: rgb(178, 206, 255);
  display: block;
}
span.run2 {
  background-color: rgb(178, 209, 255);
  display: block;
}
span.run3 {
  background-color: rgb(178, 211, 255);
  display: block;
}
span.run4 {
  background-color: rgb(178, 214, 255);
  display: block;
}
span.run5 {
  background-color: rgb(178, 218, 255);
  display: block;
}
span.run6 {
  background-color: rgb(178, 220, 255);
  display: block;
}
span.run7 {
  background-color: rgb(178, 223, 255);
  display: block;
}
span.run8 {
  background-color: rgb(178, 225, 255);
  display: block;
}
span.run9 {
  background-color: rgb(178, 228, 255);
  display: block;
}
span.run10 {
  background-color: rgb(178, 232, 255);
  display: block;
}
span.run11 {
  background-color: rgb(178, 234, 255);
  display: block;
}
span.run12 {
  background-color: rgb(178, 237, 255);
  display: block;
}
span.run13 {
  background-color: rgb(178, 239, 255);
  display: block;
}
span.run14 {
  background-color: rgb(178, 242, 255);
  display: block;
}
span.run15 {
  background-color: rgb(178, 246, 255);
  display: block;
}
span.run16 {
  background-color: rgb(178, 248, 255);
  display: block;
}
span.run17 {
  background-color: rgb(178, 251, 255);
  display: block;
}
span.run18 {
  background-color: rgb(178, 253, 255);
  display: block;
}
span.run19 {
  background-color: rgb(178, 255, 253);
  display: block;
}
span.run20 {
  background-color: rgb(178, 255, 249);
  display: block;
}
span.run21 {
  background-color: rgb(178, 255, 247);
  display: block;
}
span.run22 {
  background-color: rgb(178, 255, 244);
  display: block;
}
span.run23 {
  background-color: rgb(178, 255, 242);
  display: block;
}
span.run24 {
  background-color: rgb(178, 255, 239);
  display: block;
}
span.run25 {
  background-color: rgb(178, 255, 235);
  display: block;
}
span.run26 {
  background-color: rgb(178, 255, 233);
  display: block;
}
span.run27 {
  background-color: rgb(178, 255, 230);
  display: block;
}
span.run28 {
  background-color: rgb(178, 255, 228);
  display: block;
}
span.run29 {
  background-color: rgb(178, 255, 225);
  display: block;
}
span.run30 {
  background-color: rgb(178, 255, 221);
  display: block;
}
span.run31 {
  background-color: rgb(178, 255, 219);
  display: block;
}
span.run32 {
  background-color: rgb(178, 255, 216);
  display: block;
}
span.run33 {
  background-color: rgb(178, 255, 214);
  display: block;
}
span.run34 {
  background-color: rgb(178, 255, 211);
  display: block;
}
span.run35 {
  background-color: rgb(178, 255, 207);
  display: block;
}
span.run36 {
  background-color: rgb(178, 255, 205);
  display: block;
}
span.run37 {
  background-color: rgb(178, 255, 202);
  display: block;
}
span.run38 {
  background-color: rgb(178, 255, 200);
  display: block;
}
span.run39 {
  background-color: rgb(178, 255, 197);
  display: block;
}
span.run40 {
  background-color: rgb(178, 255, 193);
  display: block;
}
span.run41 {
  background-color: rgb(178, 255, 191);
  display: block;
}
span.run42 {
  background-color: rgb(178, 255, 188);
  display: block;
}
span.run43 {
  background-color: rgb(178, 255, 186);
  display: block;
}
span.run44 {
  background-color: rgb(178, 255, 183);
  display: block;
}
span.run45 {
  background-color: rgb(178, 255, 179);
  display: block;
}
span.run46 {
  background-color: rgb(179, 255, 178);
  display: block;
}
span.run47 {
  background-color: rgb(182, 255, 178);
  display: block;
}
span.run48 {
  background-color: rgb(184, 255, 178);
  display: block;
}
span.run49 {
  background-color: rgb(187, 255, 178);
  display: block;
}
span.run50 {
  background-color: rgb(191, 255, 178);
  display: block;
}
span.run51 {
  background-color: rgb(193, 255, 178);
  display: block;
}
span.run52 {
  background-color: rgb(196, 255, 178);
  display: block;
}
span.run53 {
  background-color: rgb(198, 255, 178);
  display: block;
}
span.run54 {
  background-color: rgb(201, 255, 178);
  display: block;
}
span.run55 {
  background-color: rgb(205, 255, 178);
  display: block;
}
span.run56 {
  background-color: rgb(207, 255, 178);
  display: block;
}
span.run57 {
  background-color: rgb(210, 255, 178);
  display: block;
}
span.run58 {
  background-color: rgb(212, 255, 178);
  display: block;
}
span.run59 {
  background-color: rgb(215, 255, 178);
  display: block;
}
span.run60 {
  background-color: rgb(219, 255, 178);
  display: block;
}
span.run61 {
  background-color: rgb(221, 255, 178);
  display: block;
}
span.run62 {
  background-color: rgb(224, 255, 178);
  display: block;
}
span.run63 {
  background-color: rgb(226, 255, 178);
  display: block;
}
span.run64 {
  background-color: rgb(229, 255, 178);
  display: block;
}
span.run65 {
  background-color: rgb(233, 255, 178);
  display: block;
}
span.run66 {
  background-color: rgb(235, 255, 178);
  display: block;
}
span.run67 {
  background-color: rgb(238, 255, 178);
  display: block;
}
span.run68 {
  background-color: rgb(240, 255, 178);
  display: block;
}
span.run69 {
  background-color: rgb(243, 255, 178);
  display: block;
}
span.run70 {
  background-color: rgb(247, 255, 178);
  display: block;
}
span.run71 {
  background-color: rgb(249, 255, 178);
  display: block;
}
span.run72 {
  background-color: rgb(252, 255, 178);
  display: block;
}
span.run73 {
  background-color: rgb(255, 255, 178);
  display: block;
}
span.run74 {
  background-color: rgb(255, 252, 178);
  display: block;
}
span.run75 {
  background-color: rgb(255, 248, 178);
  display: block;
}
span.run76 {
  background-color: rgb(255, 246, 178);
  display: block;
}
span.run77 {
  background-color: rgb(255, 243, 178);
  display: block;
}
span.run78 {
  background-color: rgb(255, 240, 178);
  display: block;
}
span.run79 {
  background-color: rgb(255, 238, 178);
  display: block;
}
span.run80 {
  background-color: rgb(255, 234, 178);
  display: block;
}
span.run81 {
  background-color: rgb(255, 232, 178);
  display: block;
}
span.run82 {
  background-color: rgb(255, 229, 178);
  display: block;
}
span.run83 {
  background-color: rgb(255, 226, 178);
  display: block;
}
span.run84 {
  background-color: rgb(255, 224, 178);
  display: block;
}
span.run85 {
  background-color: rgb(255, 220, 178);
  display: block;
}
span.run86 {
  background-color: rgb(255, 218, 178);
  display: block;
}
span.run87 {
  background-color: rgb(255, 215, 178);
  display: block;
}
span.run88 {
  background-color: rgb(255, 212, 178);
  display: block;
}
span.run89 {
  background-color: rgb(255, 210, 178);
  display: block;
}
span.run90 {
  background-color: rgb(255, 206, 178);
  display: block;
}
span.run91 {
  background-color: rgb(255, 204, 178);
  display: block;
}
span.run92 {
  background-color: rgb(255, 201, 178);
  display: block;
}
span.run93 {
  background-color: rgb(255, 198, 178);
  display: block;
}
span.run94 {
  background-color: rgb(255, 196, 178);
  display: block;
}
span.run95 {
  background-color: rgb(255, 192, 178);
  display: block;
}
span.run96 {
  background-color: rgb(255, 189, 178);
  display: block;
}
span.run97 {
  background-color: rgb(255, 187, 178);
  display: block;
}
span.run98 {
  background-color: rgb(255, 184, 178);
  display: block;
}
span.run99 {
  background-color: rgb(255, 182, 178);
  display: block;
}
span.run100 {
  background-color: rgb(255, 178, 178);
  display: block;
}
</style>
    </head>
  <body><h3>C0 code coverage information</h3>
    <p>Generated on Tue Sep 29 08:16:16 +0100 2009 with <a href='http://eigenclass.org/hiki/rcov'>rcov 0.8.1.2</a>
      </p>
    <hr/>
    <pre><span class='marked0'>Code reported as executed by Ruby looks like this...
</span><span class='marked1'>and this: this line is also marked as covered.
</span><span class='inferred0'>Lines considered as run by rcov, but not reported by Ruby, look like this,
</span><span class='inferred1'>and this: these lines were inferred by rcov (using simple heuristics).
</span><span class='uncovered0'>Finally, here&apos;s a line marked as not executed.
</span></pre>                       
<table class='report'><thead><tr><td class='heading'>Name</td>
      <td class='heading'>Total lines</td>
      <td class='heading'>Lines of code</td>
      <td class='heading'>Total coverage</td>
      <td class='heading'>Code coverage</td>
      </tr>
    </thead>
  <tbody><tr class='light'><td><a href='-Library-Ruby-Gems-1_8-gems-treetop-1_2_5-lib-treetop-compiler-metagrammar_rb.html'>/Library/Ruby/Gems/1.8/gems/treetop-1.2.5/lib/treetop/compiler/metagrammar.rb</a>
        </td>
      <td class='lines_total'><tt>2955</tt>
        </td>
      <td class='lines_code'><tt>2655</tt>
        </td>
      <td><table cellspacing='0' cellpadding='0' align='right'><tr><td><tt class='coverage_total'>77.7%</tt>
              &nbsp;</td>
            <td><table cellspacing='0' class='percent_graph' cellpadding='0' width='100'><tr><td class='covered' width='78'/>
                  <td class='uncovered' width='22'/>
                  </tr>
                </table>
              </td>
            </tr>
          </table>
        </td>
      <td><table cellspacing='0' cellpadding='0' align='right'><tr><td><tt class='coverage_code'>75.5%</tt>
              &nbsp;</td>
            <td><table cellspacing='0' class='percent_graph' cellpadding='0' width='100'><tr><td class='covered' width='76'/>
                  <td class='uncovered' width='24'/>
                  </tr>
                </table>
              </td>
            </tr>
          </table>
        </td>
      </tr>
    </tbody>
  </table>
<pre><span class="marked0"><a name="line1"></a>   1 module Treetop
</span><span class="marked1"><a name="line2"></a>   2   module Compiler
</span><span class="marked0"><a name="line3"></a>   3     module Metagrammar
</span><span class="marked1"><a name="line4"></a>   4       include Treetop::Runtime
</span><span class="inferred0"><a name="line5"></a>   5 
</span><span class="marked1"><a name="line6"></a>   6       def root
</span><span class="marked0"><a name="line7"></a>   7         @root || :treetop_file
</span><span class="marked1"><a name="line8"></a>   8       end
</span><span class="inferred0"><a name="line9"></a>   9 
</span><span class="marked1"><a name="line10"></a>  10       module TreetopFile0
</span><span class="marked0"><a name="line11"></a>  11         def prefix
</span><span class="marked1"><a name="line12"></a>  12           elements[0]
</span><span class="marked0"><a name="line13"></a>  13         end
</span><span class="inferred1"><a name="line14"></a>  14 
</span><span class="marked0"><a name="line15"></a>  15         def module_or_grammar
</span><span class="marked1"><a name="line16"></a>  16           elements[1]
</span><span class="marked0"><a name="line17"></a>  17         end
</span><span class="inferred1"><a name="line18"></a>  18 
</span><span class="marked0"><a name="line19"></a>  19         def suffix
</span><span class="marked1"><a name="line20"></a>  20           elements[2]
</span><span class="marked0"><a name="line21"></a>  21         end
</span><span class="inferred1"><a name="line22"></a>  22       end
</span><span class="inferred0"><a name="line23"></a>  23 
</span><span class="marked1"><a name="line24"></a>  24       module TreetopFile1
</span><span class="marked0"><a name="line25"></a>  25         def compile
</span><span class="marked1"><a name="line26"></a>  26           prefix.text_value + module_or_grammar.compile + suffix.text_value
</span><span class="marked0"><a name="line27"></a>  27         end
</span><span class="inferred1"><a name="line28"></a>  28       end
</span><span class="inferred0"><a name="line29"></a>  29 
</span><span class="marked1"><a name="line30"></a>  30       def _nt_treetop_file
</span><span class="marked0"><a name="line31"></a>  31         start_index = index
</span><span class="marked1"><a name="line32"></a>  32         if node_cache[:treetop_file].has_key?(index)
</span><span class="uncovered0"><a name="line33"></a>  33           cached = node_cache[:treetop_file][index]
</span><span class="uncovered1"><a name="line34"></a>  34           @index = cached.interval.end if cached
</span><span class="uncovered0"><a name="line35"></a>  35           return cached
</span><span class="uncovered1"><a name="line36"></a>  36         end
</span><span class="inferred0"><a name="line37"></a>  37 
</span><span class="marked1"><a name="line38"></a>  38         i0, s0 = index, []
</span><span class="marked0"><a name="line39"></a>  39         r2 = _nt_space
</span><span class="marked1"><a name="line40"></a>  40         if r2
</span><span class="uncovered0"><a name="line41"></a>  41           r1 = r2
</span><span class="inferred1"><a name="line42"></a>  42         else
</span><span class="marked0"><a name="line43"></a>  43           r1 = SyntaxNode.new(input, index...index)
</span><span class="inferred1"><a name="line44"></a>  44         end
</span><span class="marked0"><a name="line45"></a>  45         s0 &lt;&lt; r1
</span><span class="marked1"><a name="line46"></a>  46         if r1
</span><span class="marked0"><a name="line47"></a>  47           i3 = index
</span><span class="marked1"><a name="line48"></a>  48           r4 = _nt_module_declaration
</span><span class="marked0"><a name="line49"></a>  49           if r4
</span><span class="uncovered1"><a name="line50"></a>  50             r3 = r4
</span><span class="inferred0"><a name="line51"></a>  51           else
</span><span class="marked1"><a name="line52"></a>  52             r5 = _nt_grammar
</span><span class="marked0"><a name="line53"></a>  53             if r5
</span><span class="marked1"><a name="line54"></a>  54               r3 = r5
</span><span class="uncovered0"><a name="line55"></a>  55             else
</span><span class="uncovered1"><a name="line56"></a>  56               self.index = i3
</span><span class="uncovered0"><a name="line57"></a>  57               r3 = nil
</span><span class="uncovered1"><a name="line58"></a>  58             end
</span><span class="uncovered0"><a name="line59"></a>  59           end
</span><span class="marked1"><a name="line60"></a>  60           s0 &lt;&lt; r3
</span><span class="marked0"><a name="line61"></a>  61           if r3
</span><span class="marked1"><a name="line62"></a>  62             r7 = _nt_space
</span><span class="marked0"><a name="line63"></a>  63             if r7
</span><span class="uncovered1"><a name="line64"></a>  64               r6 = r7
</span><span class="inferred0"><a name="line65"></a>  65             else
</span><span class="marked1"><a name="line66"></a>  66               r6 = SyntaxNode.new(input, index...index)
</span><span class="inferred0"><a name="line67"></a>  67             end
</span><span class="marked1"><a name="line68"></a>  68             s0 &lt;&lt; r6
</span><span class="inferred0"><a name="line69"></a>  69           end
</span><span class="inferred1"><a name="line70"></a>  70         end
</span><span class="marked0"><a name="line71"></a>  71         if s0.last
</span><span class="marked1"><a name="line72"></a>  72           r0 = (SyntaxNode).new(input, i0...index, s0)
</span><span class="marked0"><a name="line73"></a>  73           r0.extend(TreetopFile0)
</span><span class="marked1"><a name="line74"></a>  74           r0.extend(TreetopFile1)
</span><span class="uncovered0"><a name="line75"></a>  75         else
</span><span class="uncovered1"><a name="line76"></a>  76           self.index = i0
</span><span class="uncovered0"><a name="line77"></a>  77           r0 = nil
</span><span class="uncovered1"><a name="line78"></a>  78         end
</span><span class="inferred0"><a name="line79"></a>  79 
</span><span class="marked1"><a name="line80"></a>  80         node_cache[:treetop_file][start_index] = r0
</span><span class="inferred0"><a name="line81"></a>  81 
</span><span class="marked1"><a name="line82"></a>  82         return r0
</span><span class="inferred0"><a name="line83"></a>  83       end
</span><span class="inferred1"><a name="line84"></a>  84 
</span><span class="marked0"><a name="line85"></a>  85       module ModuleDeclaration0
</span><span class="marked1"><a name="line86"></a>  86         def space
</span><span class="uncovered0"><a name="line87"></a>  87           elements[1]
</span><span class="uncovered1"><a name="line88"></a>  88         end
</span><span class="inferred0"><a name="line89"></a>  89 
</span><span class="marked1"><a name="line90"></a>  90         def space
</span><span class="uncovered0"><a name="line91"></a>  91           elements[4]
</span><span class="uncovered1"><a name="line92"></a>  92         end
</span><span class="uncovered0"><a name="line93"></a>  93       end
</span><span class="inferred1"><a name="line94"></a>  94 
</span><span class="marked0"><a name="line95"></a>  95       module ModuleDeclaration1
</span><span class="marked1"><a name="line96"></a>  96         def space
</span><span class="uncovered0"><a name="line97"></a>  97           elements[0]
</span><span class="uncovered1"><a name="line98"></a>  98         end
</span><span class="uncovered0"><a name="line99"></a>  99 
</span><span class="uncovered1"><a name="line100"></a> 100       end
</span><span class="inferred0"><a name="line101"></a> 101 
</span><span class="marked1"><a name="line102"></a> 102       module ModuleDeclaration2
</span><span class="marked0"><a name="line103"></a> 103         def prefix
</span><span class="uncovered1"><a name="line104"></a> 104           elements[0]
</span><span class="uncovered0"><a name="line105"></a> 105         end
</span><span class="inferred1"><a name="line106"></a> 106 
</span><span class="marked0"><a name="line107"></a> 107         def module_contents
</span><span class="uncovered1"><a name="line108"></a> 108           elements[1]
</span><span class="uncovered0"><a name="line109"></a> 109         end
</span><span class="inferred1"><a name="line110"></a> 110 
</span><span class="marked0"><a name="line111"></a> 111         def suffix
</span><span class="uncovered1"><a name="line112"></a> 112           elements[2]
</span><span class="uncovered0"><a name="line113"></a> 113         end
</span><span class="uncovered1"><a name="line114"></a> 114       end
</span><span class="inferred0"><a name="line115"></a> 115 
</span><span class="marked1"><a name="line116"></a> 116       module ModuleDeclaration3
</span><span class="marked0"><a name="line117"></a> 117         def compile
</span><span class="uncovered1"><a name="line118"></a> 118           prefix.text_value + module_contents.compile + suffix.text_value
</span><span class="uncovered0"><a name="line119"></a> 119         end
</span><span class="uncovered1"><a name="line120"></a> 120       end
</span><span class="inferred0"><a name="line121"></a> 121 
</span><span class="marked1"><a name="line122"></a> 122       def _nt_module_declaration
</span><span class="marked0"><a name="line123"></a> 123         start_index = index
</span><span class="marked1"><a name="line124"></a> 124         if node_cache[:module_declaration].has_key?(index)
</span><span class="uncovered0"><a name="line125"></a> 125           cached = node_cache[:module_declaration][index]
</span><span class="uncovered1"><a name="line126"></a> 126           @index = cached.interval.end if cached
</span><span class="uncovered0"><a name="line127"></a> 127           return cached
</span><span class="uncovered1"><a name="line128"></a> 128         end
</span><span class="inferred0"><a name="line129"></a> 129 
</span><span class="marked1"><a name="line130"></a> 130         i0, s0 = index, []
</span><span class="marked0"><a name="line131"></a> 131         i1, s1 = index, []
</span><span class="marked1"><a name="line132"></a> 132         if input.index('module', index) == index
</span><span class="uncovered0"><a name="line133"></a> 133           r2 = (SyntaxNode).new(input, index...(index + 6))
</span><span class="uncovered1"><a name="line134"></a> 134           @index += 6
</span><span class="inferred0"><a name="line135"></a> 135         else
</span><span class="marked1"><a name="line136"></a> 136           terminal_parse_failure('module')
</span><span class="marked0"><a name="line137"></a> 137           r2 = nil
</span><span class="inferred1"><a name="line138"></a> 138         end
</span><span class="marked0"><a name="line139"></a> 139         s1 &lt;&lt; r2
</span><span class="marked1"><a name="line140"></a> 140         if r2
</span><span class="uncovered0"><a name="line141"></a> 141           r3 = _nt_space
</span><span class="uncovered1"><a name="line142"></a> 142           s1 &lt;&lt; r3
</span><span class="uncovered0"><a name="line143"></a> 143           if r3
</span><span class="uncovered1"><a name="line144"></a> 144             if input.index(Regexp.new('[A-Z]'), index) == index
</span><span class="uncovered0"><a name="line145"></a> 145               r4 = (SyntaxNode).new(input, index...(index + 1))
</span><span class="uncovered1"><a name="line146"></a> 146               @index += 1
</span><span class="uncovered0"><a name="line147"></a> 147             else
</span><span class="uncovered1"><a name="line148"></a> 148               r4 = nil
</span><span class="uncovered0"><a name="line149"></a> 149             end
</span><span class="uncovered1"><a name="line150"></a> 150             s1 &lt;&lt; r4
</span><span class="uncovered0"><a name="line151"></a> 151             if r4
</span><span class="uncovered1"><a name="line152"></a> 152               s5, i5 = [], index
</span><span class="uncovered0"><a name="line153"></a> 153               loop do
</span><span class="uncovered1"><a name="line154"></a> 154                 r6 = _nt_alphanumeric_char
</span><span class="uncovered0"><a name="line155"></a> 155                 if r6
</span><span class="uncovered1"><a name="line156"></a> 156                   s5 &lt;&lt; r6
</span><span class="uncovered0"><a name="line157"></a> 157                 else
</span><span class="uncovered1"><a name="line158"></a> 158                   break
</span><span class="uncovered0"><a name="line159"></a> 159                 end
</span><span class="uncovered1"><a name="line160"></a> 160               end
</span><span class="uncovered0"><a name="line161"></a> 161               r5 = SyntaxNode.new(input, i5...index, s5)
</span><span class="uncovered1"><a name="line162"></a> 162               s1 &lt;&lt; r5
</span><span class="uncovered0"><a name="line163"></a> 163               if r5
</span><span class="uncovered1"><a name="line164"></a> 164                 r7 = _nt_space
</span><span class="uncovered0"><a name="line165"></a> 165                 s1 &lt;&lt; r7
</span><span class="uncovered1"><a name="line166"></a> 166               end
</span><span class="uncovered0"><a name="line167"></a> 167             end
</span><span class="uncovered1"><a name="line168"></a> 168           end
</span><span class="uncovered0"><a name="line169"></a> 169         end
</span><span class="marked1"><a name="line170"></a> 170         if s1.last
</span><span class="uncovered0"><a name="line171"></a> 171           r1 = (SyntaxNode).new(input, i1...index, s1)
</span><span class="uncovered1"><a name="line172"></a> 172           r1.extend(ModuleDeclaration0)
</span><span class="inferred0"><a name="line173"></a> 173         else
</span><span class="marked1"><a name="line174"></a> 174           self.index = i1
</span><span class="marked0"><a name="line175"></a> 175           r1 = nil
</span><span class="inferred1"><a name="line176"></a> 176         end
</span><span class="marked0"><a name="line177"></a> 177         s0 &lt;&lt; r1
</span><span class="marked1"><a name="line178"></a> 178         if r1
</span><span class="uncovered0"><a name="line179"></a> 179           i8 = index
</span><span class="uncovered1"><a name="line180"></a> 180           r9 = _nt_module_declaration
</span><span class="uncovered0"><a name="line181"></a> 181           if r9
</span><span class="uncovered1"><a name="line182"></a> 182             r8 = r9
</span><span class="uncovered0"><a name="line183"></a> 183           else
</span><span class="uncovered1"><a name="line184"></a> 184             r10 = _nt_grammar
</span><span class="uncovered0"><a name="line185"></a> 185             if r10
</span><span class="uncovered1"><a name="line186"></a> 186               r8 = r10
</span><span class="uncovered0"><a name="line187"></a> 187             else
</span><span class="uncovered1"><a name="line188"></a> 188               self.index = i8
</span><span class="uncovered0"><a name="line189"></a> 189               r8 = nil
</span><span class="uncovered1"><a name="line190"></a> 190             end
</span><span class="uncovered0"><a name="line191"></a> 191           end
</span><span class="uncovered1"><a name="line192"></a> 192           s0 &lt;&lt; r8
</span><span class="uncovered0"><a name="line193"></a> 193           if r8
</span><span class="uncovered1"><a name="line194"></a> 194             i11, s11 = index, []
</span><span class="uncovered0"><a name="line195"></a> 195             r12 = _nt_space
</span><span class="uncovered1"><a name="line196"></a> 196             s11 &lt;&lt; r12
</span><span class="uncovered0"><a name="line197"></a> 197             if r12
</span><span class="uncovered1"><a name="line198"></a> 198               if input.index('end', index) == index
</span><span class="uncovered0"><a name="line199"></a> 199                 r13 = (SyntaxNode).new(input, index...(index + 3))
</span><span class="uncovered1"><a name="line200"></a> 200                 @index += 3
</span><span class="uncovered0"><a name="line201"></a> 201               else
</span><span class="uncovered1"><a name="line202"></a> 202                 terminal_parse_failure('end')
</span><span class="uncovered0"><a name="line203"></a> 203                 r13 = nil
</span><span class="uncovered1"><a name="line204"></a> 204               end
</span><span class="uncovered0"><a name="line205"></a> 205               s11 &lt;&lt; r13
</span><span class="uncovered1"><a name="line206"></a> 206             end
</span><span class="uncovered0"><a name="line207"></a> 207             if s11.last
</span><span class="uncovered1"><a name="line208"></a> 208               r11 = (SyntaxNode).new(input, i11...index, s11)
</span><span class="uncovered0"><a name="line209"></a> 209               r11.extend(ModuleDeclaration1)
</span><span class="uncovered1"><a name="line210"></a> 210             else
</span><span class="uncovered0"><a name="line211"></a> 211               self.index = i11
</span><span class="uncovered1"><a name="line212"></a> 212               r11 = nil
</span><span class="uncovered0"><a name="line213"></a> 213             end
</span><span class="uncovered1"><a name="line214"></a> 214             s0 &lt;&lt; r11
</span><span class="uncovered0"><a name="line215"></a> 215           end
</span><span class="uncovered1"><a name="line216"></a> 216         end
</span><span class="marked0"><a name="line217"></a> 217         if s0.last
</span><span class="uncovered1"><a name="line218"></a> 218           r0 = (SyntaxNode).new(input, i0...index, s0)
</span><span class="uncovered0"><a name="line219"></a> 219           r0.extend(ModuleDeclaration2)
</span><span class="uncovered1"><a name="line220"></a> 220           r0.extend(ModuleDeclaration3)
</span><span class="inferred0"><a name="line221"></a> 221         else
</span><span class="marked1"><a name="line222"></a> 222           self.index = i0
</span><span class="marked0"><a name="line223"></a> 223           r0 = nil
</span><span class="inferred1"><a name="line224"></a> 224         end
</span><span class="inferred0"><a name="line225"></a> 225 
</span><span class="marked1"><a name="line226"></a> 226         node_cache[:module_declaration][start_index] = r0
</span><span class="inferred0"><a name="line227"></a> 227 
</span><span class="marked1"><a name="line228"></a> 228         return r0
</span><span class="inferred0"><a name="line229"></a> 229       end
</span><span class="inferred1"><a name="line230"></a> 230 
</span><span class="marked0"><a name="line231"></a> 231       module Grammar0
</span><span class="marked1"><a name="line232"></a> 232         def space
</span><span class="uncovered0"><a name="line233"></a> 233           elements[1]
</span><span class="uncovered1"><a name="line234"></a> 234         end
</span><span class="uncovered0"><a name="line235"></a> 235       end
</span><span class="inferred1"><a name="line236"></a> 236 
</span><span class="marked0"><a name="line237"></a> 237       module Grammar1
</span><span class="marked1"><a name="line238"></a> 238         def space
</span><span class="uncovered0"><a name="line239"></a> 239           elements[1]
</span><span class="uncovered1"><a name="line240"></a> 240         end
</span><span class="inferred0"><a name="line241"></a> 241 
</span><span class="marked1"><a name="line242"></a> 242         def grammar_name
</span><span class="marked0"><a name="line243"></a> 243           elements[2]
</span><span class="marked1"><a name="line244"></a> 244         end
</span><span class="inferred0"><a name="line245"></a> 245 
</span><span class="marked1"><a name="line246"></a> 246         def space
</span><span class="uncovered0"><a name="line247"></a> 247           elements[3]
</span><span class="uncovered1"><a name="line248"></a> 248         end
</span><span class="inferred0"><a name="line249"></a> 249 
</span><span class="marked1"><a name="line250"></a> 250         def declaration_sequence
</span><span class="marked0"><a name="line251"></a> 251           elements[5]
</span><span class="marked1"><a name="line252"></a> 252         end
</span><span class="inferred0"><a name="line253"></a> 253 
</span><span class="inferred1"><a name="line254"></a> 254       end
</span><span class="inferred0"><a name="line255"></a> 255 
</span><span class="marked1"><a name="line256"></a> 256       def _nt_grammar
</span><span class="marked0"><a name="line257"></a> 257         start_index = index
</span><span class="marked1"><a name="line258"></a> 258         if node_cache[:grammar].has_key?(index)
</span><span class="uncovered0"><a name="line259"></a> 259           cached = node_cache[:grammar][index]
</span><span class="uncovered1"><a name="line260"></a> 260           @index = cached.interval.end if cached
</span><span class="uncovered0"><a name="line261"></a> 261           return cached
</span><span class="uncovered1"><a name="line262"></a> 262         end
</span><span class="inferred0"><a name="line263"></a> 263 
</span><span class="marked1"><a name="line264"></a> 264         i0, s0 = index, []
</span><span class="marked0"><a name="line265"></a> 265         if input.index('grammar', index) == index
</span><span class="marked1"><a name="line266"></a> 266           r1 = (SyntaxNode).new(input, index...(index + 7))
</span><span class="marked0"><a name="line267"></a> 267           @index += 7
</span><span class="uncovered1"><a name="line268"></a> 268         else
</span><span class="uncovered0"><a name="line269"></a> 269           terminal_parse_failure('grammar')
</span><span class="uncovered1"><a name="line270"></a> 270           r1 = nil
</span><span class="uncovered0"><a name="line271"></a> 271         end
</span><span class="marked1"><a name="line272"></a> 272         s0 &lt;&lt; r1
</span><span class="marked0"><a name="line273"></a> 273         if r1
</span><span class="marked1"><a name="line274"></a> 274           r2 = _nt_space
</span><span class="marked0"><a name="line275"></a> 275           s0 &lt;&lt; r2
</span><span class="marked1"><a name="line276"></a> 276           if r2
</span><span class="marked0"><a name="line277"></a> 277             r3 = _nt_grammar_name
</span><span class="marked1"><a name="line278"></a> 278             s0 &lt;&lt; r3
</span><span class="marked0"><a name="line279"></a> 279             if r3
</span><span class="marked1"><a name="line280"></a> 280               r4 = _nt_space
</span><span class="marked0"><a name="line281"></a> 281               s0 &lt;&lt; r4
</span><span class="marked1"><a name="line282"></a> 282               if r4
</span><span class="marked0"><a name="line283"></a> 283                 i6, s6 = index, []
</span><span class="marked1"><a name="line284"></a> 284                 if input.index('do', index) == index
</span><span class="uncovered0"><a name="line285"></a> 285                   r7 = (SyntaxNode).new(input, index...(index + 2))
</span><span class="uncovered1"><a name="line286"></a> 286                   @index += 2
</span><span class="inferred0"><a name="line287"></a> 287                 else
</span><span class="marked1"><a name="line288"></a> 288                   terminal_parse_failure('do')
</span><span class="marked0"><a name="line289"></a> 289                   r7 = nil
</span><span class="inferred1"><a name="line290"></a> 290                 end
</span><span class="marked0"><a name="line291"></a> 291                 s6 &lt;&lt; r7
</span><span class="marked1"><a name="line292"></a> 292                 if r7
</span><span class="uncovered0"><a name="line293"></a> 293                   r8 = _nt_space
</span><span class="uncovered1"><a name="line294"></a> 294                   s6 &lt;&lt; r8
</span><span class="uncovered0"><a name="line295"></a> 295                 end
</span><span class="marked1"><a name="line296"></a> 296                 if s6.last
</span><span class="uncovered0"><a name="line297"></a> 297                   r6 = (SyntaxNode).new(input, i6...index, s6)
</span><span class="uncovered1"><a name="line298"></a> 298                   r6.extend(Grammar0)
</span><span class="inferred0"><a name="line299"></a> 299                 else
</span><span class="marked1"><a name="line300"></a> 300                   self.index = i6
</span><span class="marked0"><a name="line301"></a> 301                   r6 = nil
</span><span class="inferred1"><a name="line302"></a> 302                 end
</span><span class="marked0"><a name="line303"></a> 303                 if r6
</span><span class="uncovered1"><a name="line304"></a> 304                   r5 = r6
</span><span class="inferred0"><a name="line305"></a> 305                 else
</span><span class="marked1"><a name="line306"></a> 306                   r5 = SyntaxNode.new(input, index...index)
</span><span class="inferred0"><a name="line307"></a> 307                 end
</span><span class="marked1"><a name="line308"></a> 308                 s0 &lt;&lt; r5
</span><span class="marked0"><a name="line309"></a> 309                 if r5
</span><span class="marked1"><a name="line310"></a> 310                   r9 = _nt_declaration_sequence
</span><span class="marked0"><a name="line311"></a> 311                   s0 &lt;&lt; r9
</span><span class="marked1"><a name="line312"></a> 312                   if r9
</span><span class="marked0"><a name="line313"></a> 313                     r11 = _nt_space
</span><span class="marked1"><a name="line314"></a> 314                     if r11
</span><span class="marked0"><a name="line315"></a> 315                       r10 = r11
</span><span class="uncovered1"><a name="line316"></a> 316                     else
</span><span class="uncovered0"><a name="line317"></a> 317                       r10 = SyntaxNode.new(input, index...index)
</span><span class="uncovered1"><a name="line318"></a> 318                     end
</span><span class="marked0"><a name="line319"></a> 319                     s0 &lt;&lt; r10
</span><span class="marked1"><a name="line320"></a> 320                     if r10
</span><span class="marked0"><a name="line321"></a> 321                       if input.index('end', index) == index
</span><span class="marked1"><a name="line322"></a> 322                         r12 = (SyntaxNode).new(input, index...(index + 3))
</span><span class="marked0"><a name="line323"></a> 323                         @index += 3
</span><span class="uncovered1"><a name="line324"></a> 324                       else
</span><span class="uncovered0"><a name="line325"></a> 325                         terminal_parse_failure('end')
</span><span class="uncovered1"><a name="line326"></a> 326                         r12 = nil
</span><span class="uncovered0"><a name="line327"></a> 327                       end
</span><span class="marked1"><a name="line328"></a> 328                       s0 &lt;&lt; r12
</span><span class="inferred0"><a name="line329"></a> 329                     end
</span><span class="inferred1"><a name="line330"></a> 330                   end
</span><span class="inferred0"><a name="line331"></a> 331                 end
</span><span class="inferred1"><a name="line332"></a> 332               end
</span><span class="inferred0"><a name="line333"></a> 333             end
</span><span class="inferred1"><a name="line334"></a> 334           end
</span><span class="inferred0"><a name="line335"></a> 335         end
</span><span class="marked1"><a name="line336"></a> 336         if s0.last
</span><span class="marked0"><a name="line337"></a> 337           r0 = (Grammar).new(input, i0...index, s0)
</span><span class="marked1"><a name="line338"></a> 338           r0.extend(Grammar1)
</span><span class="uncovered0"><a name="line339"></a> 339         else
</span><span class="uncovered1"><a name="line340"></a> 340           self.index = i0
</span><span class="uncovered0"><a name="line341"></a> 341           r0 = nil
</span><span class="uncovered1"><a name="line342"></a> 342         end
</span><span class="inferred0"><a name="line343"></a> 343 
</span><span class="marked1"><a name="line344"></a> 344         node_cache[:grammar][start_index] = r0
</span><span class="inferred0"><a name="line345"></a> 345 
</span><span class="marked1"><a name="line346"></a> 346         return r0
</span><span class="inferred0"><a name="line347"></a> 347       end
</span><span class="inferred1"><a name="line348"></a> 348 
</span><span class="marked0"><a name="line349"></a> 349       module GrammarName0
</span><span class="inferred1"><a name="line350"></a> 350       end
</span><span class="inferred0"><a name="line351"></a> 351 
</span><span class="marked1"><a name="line352"></a> 352       def _nt_grammar_name
</span><span class="marked0"><a name="line353"></a> 353         start_index = index
</span><span class="marked1"><a name="line354"></a> 354         if node_cache[:grammar_name].has_key?(index)
</span><span class="uncovered0"><a name="line355"></a> 355           cached = node_cache[:grammar_name][index]
</span><span class="uncovered1"><a name="line356"></a> 356           @index = cached.interval.end if cached
</span><span class="uncovered0"><a name="line357"></a> 357           return cached
</span><span class="uncovered1"><a name="line358"></a> 358         end
</span><span class="inferred0"><a name="line359"></a> 359 
</span><span class="marked1"><a name="line360"></a> 360         i0, s0 = index, []
</span><span class="marked0"><a name="line361"></a> 361         if input.index(Regexp.new('[A-Z]'), index) == index
</span><span class="marked1"><a name="line362"></a> 362           r1 = (SyntaxNode).new(input, index...(index + 1))
</span><span class="marked0"><a name="line363"></a> 363           @index += 1
</span><span class="uncovered1"><a name="line364"></a> 364         else
</span><span class="uncovered0"><a name="line365"></a> 365           r1 = nil
</span><span class="uncovered1"><a name="line366"></a> 366         end
</span><span class="marked0"><a name="line367"></a> 367         s0 &lt;&lt; r1
</span><span class="marked1"><a name="line368"></a> 368         if r1
</span><span class="marked0"><a name="line369"></a> 369           s2, i2 = [], index
</span><span class="marked1"><a name="line370"></a> 370           loop do
</span><span class="marked0"><a name="line371"></a> 371             r3 = _nt_alphanumeric_char
</span><span class="marked1"><a name="line372"></a> 372             if r3
</span><span class="marked0"><a name="line373"></a> 373               s2 &lt;&lt; r3
</span><span class="inferred1"><a name="line374"></a> 374             else
</span><span class="marked0"><a name="line375"></a> 375               break
</span><span class="inferred1"><a name="line376"></a> 376             end
</span><span class="inferred0"><a name="line377"></a> 377           end
</span><span class="marked1"><a name="line378"></a> 378           r2 = SyntaxNode.new(input, i2...index, s2)
</span><span class="marked0"><a name="line379"></a> 379           s0 &lt;&lt; r2
</span><span class="inferred1"><a name="line380"></a> 380         end
</span><span class="marked0"><a name="line381"></a> 381         if s0.last
</span><span class="marked1"><a name="line382"></a> 382           r0 = (SyntaxNode).new(input, i0...index, s0)
</span><span class="marked0"><a name="line383"></a> 383           r0.extend(GrammarName0)
</span><span class="uncovered1"><a name="line384"></a> 384         else
</span><span class="uncovered0"><a name="line385"></a> 385           self.index = i0
</span><span class="uncovered1"><a name="line386"></a> 386           r0 = nil
</span><span class="uncovered0"><a name="line387"></a> 387         end
</span><span class="inferred1"><a name="line388"></a> 388 
</span><span class="marked0"><a name="line389"></a> 389         node_cache[:grammar_name][start_index] = r0
</span><span class="inferred1"><a name="line390"></a> 390 
</span><span class="marked0"><a name="line391"></a> 391         return r0
</span><span class="inferred1"><a name="line392"></a> 392       end
</span><span class="inferred0"><a name="line393"></a> 393 
</span><span class="marked1"><a name="line394"></a> 394       module DeclarationSequence0
</span><span class="marked0"><a name="line395"></a> 395         def space
</span><span class="uncovered1"><a name="line396"></a> 396           elements[0]
</span><span class="uncovered0"><a name="line397"></a> 397         end
</span><span class="inferred1"><a name="line398"></a> 398 
</span><span class="marked0"><a name="line399"></a> 399         def declaration
</span><span class="marked1"><a name="line400"></a> 400           elements[1]
</span><span class="marked0"><a name="line401"></a> 401         end
</span><span class="inferred1"><a name="line402"></a> 402       end
</span><span class="inferred0"><a name="line403"></a> 403 
</span><span class="marked1"><a name="line404"></a> 404       module DeclarationSequence1
</span><span class="marked0"><a name="line405"></a> 405         def head
</span><span class="marked1"><a name="line406"></a> 406           elements[0]
</span><span class="marked0"><a name="line407"></a> 407         end
</span><span class="inferred1"><a name="line408"></a> 408 
</span><span class="marked0"><a name="line409"></a> 409         def tail
</span><span class="marked1"><a name="line410"></a> 410           elements[1]
</span><span class="marked0"><a name="line411"></a> 411         end
</span><span class="inferred1"><a name="line412"></a> 412       end
</span><span class="inferred0"><a name="line413"></a> 413 
</span><span class="marked1"><a name="line414"></a> 414       module DeclarationSequence2
</span><span class="marked0"><a name="line415"></a> 415         def declarations
</span><span class="marked1"><a name="line416"></a> 416           [head] + tail
</span><span class="marked0"><a name="line417"></a> 417         end
</span><span class="inferred1"><a name="line418"></a> 418     
</span><span class="marked0"><a name="line419"></a> 419         def tail
</span><span class="marked1"><a name="line420"></a> 420           super.elements.map { |elt| elt.declaration }
</span><span class="marked0"><a name="line421"></a> 421         end
</span><span class="inferred1"><a name="line422"></a> 422       end
</span><span class="inferred0"><a name="line423"></a> 423 
</span><span class="marked1"><a name="line424"></a> 424       module DeclarationSequence3
</span><span class="marked0"><a name="line425"></a> 425         def compile(builder)
</span><span class="inferred1"><a name="line426"></a> 426         end
</span><span class="inferred0"><a name="line427"></a> 427       end
</span><span class="inferred1"><a name="line428"></a> 428 
</span><span class="marked0"><a name="line429"></a> 429       def _nt_declaration_sequence
</span><span class="marked1"><a name="line430"></a> 430         start_index = index
</span><span class="marked0"><a name="line431"></a> 431         if node_cache[:declaration_sequence].has_key?(index)
</span><span class="uncovered1"><a name="line432"></a> 432           cached = node_cache[:declaration_sequence][index]
</span><span class="uncovered0"><a name="line433"></a> 433           @index = cached.interval.end if cached
</span><span class="uncovered1"><a name="line434"></a> 434           return cached
</span><span class="uncovered0"><a name="line435"></a> 435         end
</span><span class="inferred1"><a name="line436"></a> 436 
</span><span class="marked0"><a name="line437"></a> 437         i0 = index
</span><span class="marked1"><a name="line438"></a> 438         i1, s1 = index, []
</span><span class="marked0"><a name="line439"></a> 439         r2 = _nt_declaration
</span><span class="marked1"><a name="line440"></a> 440         s1 &lt;&lt; r2
</span><span class="marked0"><a name="line441"></a> 441         if r2
</span><span class="marked1"><a name="line442"></a> 442           s3, i3 = [], index
</span><span class="marked0"><a name="line443"></a> 443           loop do
</span><span class="marked1"><a name="line444"></a> 444             i4, s4 = index, []
</span><span class="marked0"><a name="line445"></a> 445             r5 = _nt_space
</span><span class="marked1"><a name="line446"></a> 446             s4 &lt;&lt; r5
</span><span class="marked0"><a name="line447"></a> 447             if r5
</span><span class="marked1"><a name="line448"></a> 448               r6 = _nt_declaration
</span><span class="marked0"><a name="line449"></a> 449               s4 &lt;&lt; r6
</span><span class="inferred1"><a name="line450"></a> 450             end
</span><span class="marked0"><a name="line451"></a> 451             if s4.last
</span><span class="marked1"><a name="line452"></a> 452               r4 = (SyntaxNode).new(input, i4...index, s4)
</span><span class="marked0"><a name="line453"></a> 453               r4.extend(DeclarationSequence0)
</span><span class="inferred1"><a name="line454"></a> 454             else
</span><span class="marked0"><a name="line455"></a> 455               self.index = i4
</span><span class="marked1"><a name="line456"></a> 456               r4 = nil
</span><span class="inferred0"><a name="line457"></a> 457             end
</span><span class="marked1"><a name="line458"></a> 458             if r4
</span><span class="marked0"><a name="line459"></a> 459               s3 &lt;&lt; r4
</span><span class="inferred1"><a name="line460"></a> 460             else
</span><span class="marked0"><a name="line461"></a> 461               break
</span><span class="inferred1"><a name="line462"></a> 462             end
</span><span class="inferred0"><a name="line463"></a> 463           end
</span><span class="marked1"><a name="line464"></a> 464           r3 = SyntaxNode.new(input, i3...index, s3)
</span><span class="marked0"><a name="line465"></a> 465           s1 &lt;&lt; r3
</span><span class="inferred1"><a name="line466"></a> 466         end
</span><span class="marked0"><a name="line467"></a> 467         if s1.last
</span><span class="marked1"><a name="line468"></a> 468           r1 = (DeclarationSequence).new(input, i1...index, s1)
</span><span class="marked0"><a name="line469"></a> 469           r1.extend(DeclarationSequence1)
</span><span class="marked1"><a name="line470"></a> 470           r1.extend(DeclarationSequence2)
</span><span class="uncovered0"><a name="line471"></a> 471         else
</span><span class="uncovered1"><a name="line472"></a> 472           self.index = i1
</span><span class="uncovered0"><a name="line473"></a> 473           r1 = nil
</span><span class="uncovered1"><a name="line474"></a> 474         end
</span><span class="marked0"><a name="line475"></a> 475         if r1
</span><span class="marked1"><a name="line476"></a> 476           r0 = r1
</span><span class="uncovered0"><a name="line477"></a> 477         else
</span><span class="uncovered1"><a name="line478"></a> 478           if input.index('', index) == index
</span><span class="uncovered0"><a name="line479"></a> 479             r7 = (SyntaxNode).new(input, index...(index + 0))
</span><span class="uncovered1"><a name="line480"></a> 480             r7.extend(DeclarationSequence3)
</span><span class="uncovered0"><a name="line481"></a> 481             @index += 0
</span><span class="uncovered1"><a name="line482"></a> 482           else
</span><span class="uncovered0"><a name="line483"></a> 483             terminal_parse_failure('')
</span><span class="uncovered1"><a name="line484"></a> 484             r7 = nil
</span><span class="uncovered0"><a name="line485"></a> 485           end
</span><span class="uncovered1"><a name="line486"></a> 486           if r7
</span><span class="uncovered0"><a name="line487"></a> 487             r0 = r7
</span><span class="uncovered1"><a name="line488"></a> 488           else
</span><span class="uncovered0"><a name="line489"></a> 489             self.index = i0
</span><span class="uncovered1"><a name="line490"></a> 490             r0 = nil
</span><span class="uncovered0"><a name="line491"></a> 491           end
</span><span class="uncovered1"><a name="line492"></a> 492         end
</span><span class="inferred0"><a name="line493"></a> 493 
</span><span class="marked1"><a name="line494"></a> 494         node_cache[:declaration_sequence][start_index] = r0
</span><span class="inferred0"><a name="line495"></a> 495 
</span><span class="marked1"><a name="line496"></a> 496         return r0
</span><span class="inferred0"><a name="line497"></a> 497       end
</span><span class="inferred1"><a name="line498"></a> 498 
</span><span class="marked0"><a name="line499"></a> 499       def _nt_declaration
</span><span class="marked1"><a name="line500"></a> 500         start_index = index
</span><span class="marked0"><a name="line501"></a> 501         if node_cache[:declaration].has_key?(index)
</span><span class="uncovered1"><a name="line502"></a> 502           cached = node_cache[:declaration][index]
</span><span class="uncovered0"><a name="line503"></a> 503           @index = cached.interval.end if cached
</span><span class="uncovered1"><a name="line504"></a> 504           return cached
</span><span class="uncovered0"><a name="line505"></a> 505         end
</span><span class="inferred1"><a name="line506"></a> 506 
</span><span class="marked0"><a name="line507"></a> 507         i0 = index
</span><span class="marked1"><a name="line508"></a> 508         r1 = _nt_parsing_rule
</span><span class="marked0"><a name="line509"></a> 509         if r1
</span><span class="marked1"><a name="line510"></a> 510           r0 = r1
</span><span class="inferred0"><a name="line511"></a> 511         else
</span><span class="marked1"><a name="line512"></a> 512           r2 = _nt_include_declaration
</span><span class="marked0"><a name="line513"></a> 513           if r2
</span><span class="uncovered1"><a name="line514"></a> 514             r0 = r2
</span><span class="inferred0"><a name="line515"></a> 515           else
</span><span class="marked1"><a name="line516"></a> 516             self.index = i0
</span><span class="marked0"><a name="line517"></a> 517             r0 = nil
</span><span class="inferred1"><a name="line518"></a> 518           end
</span><span class="inferred0"><a name="line519"></a> 519         end
</span><span class="inferred1"><a name="line520"></a> 520 
</span><span class="marked0"><a name="line521"></a> 521         node_cache[:declaration][start_index] = r0
</span><span class="inferred1"><a name="line522"></a> 522 
</span><span class="marked0"><a name="line523"></a> 523         return r0
</span><span class="inferred1"><a name="line524"></a> 524       end
</span><span class="inferred0"><a name="line525"></a> 525 
</span><span class="marked1"><a name="line526"></a> 526       module IncludeDeclaration0
</span><span class="marked0"><a name="line527"></a> 527         def space
</span><span class="uncovered1"><a name="line528"></a> 528           elements[1]
</span><span class="uncovered0"><a name="line529"></a> 529         end
</span><span class="uncovered1"><a name="line530"></a> 530 
</span><span class="uncovered0"><a name="line531"></a> 531       end
</span><span class="inferred1"><a name="line532"></a> 532 
</span><span class="marked0"><a name="line533"></a> 533       module IncludeDeclaration1
</span><span class="marked1"><a name="line534"></a> 534         def compile(builder)
</span><span class="uncovered0"><a name="line535"></a> 535           builder &lt;&lt; text_value
</span><span class="uncovered1"><a name="line536"></a> 536         end
</span><span class="uncovered0"><a name="line537"></a> 537       end
</span><span class="inferred1"><a name="line538"></a> 538 
</span><span class="marked0"><a name="line539"></a> 539       def _nt_include_declaration
</span><span class="marked1"><a name="line540"></a> 540         start_index = index
</span><span class="marked0"><a name="line541"></a> 541         if node_cache[:include_declaration].has_key?(index)
</span><span class="uncovered1"><a name="line542"></a> 542           cached = node_cache[:include_declaration][index]
</span><span class="uncovered0"><a name="line543"></a> 543           @index = cached.interval.end if cached
</span><span class="uncovered1"><a name="line544"></a> 544           return cached
</span><span class="uncovered0"><a name="line545"></a> 545         end
</span><span class="inferred1"><a name="line546"></a> 546 
</span><span class="marked0"><a name="line547"></a> 547         i0, s0 = index, []
</span><span class="marked1"><a name="line548"></a> 548         if input.index('include', index) == index
</span><span class="uncovered0"><a name="line549"></a> 549           r1 = (SyntaxNode).new(input, index...(index + 7))
</span><span class="uncovered1"><a name="line550"></a> 550           @index += 7
</span><span class="inferred0"><a name="line551"></a> 551         else
</span><span class="marked1"><a name="line552"></a> 552           terminal_parse_failure('include')
</span><span class="marked0"><a name="line553"></a> 553           r1 = nil
</span><span class="inferred1"><a name="line554"></a> 554         end
</span><span class="marked0"><a name="line555"></a> 555         s0 &lt;&lt; r1
</span><span class="marked1"><a name="line556"></a> 556         if r1
</span><span class="uncovered0"><a name="line557"></a> 557           r2 = _nt_space
</span><span class="uncovered1"><a name="line558"></a> 558           s0 &lt;&lt; r2
</span><span class="uncovered0"><a name="line559"></a> 559           if r2
</span><span class="uncovered1"><a name="line560"></a> 560             if input.index(Regexp.new('[A-Z]'), index) == index
</span><span class="uncovered0"><a name="line561"></a> 561               r3 = (SyntaxNode).new(input, index...(index + 1))
</span><span class="uncovered1"><a name="line562"></a> 562               @index += 1
</span><span class="uncovered0"><a name="line563"></a> 563             else
</span><span class="uncovered1"><a name="line564"></a> 564               r3 = nil
</span><span class="uncovered0"><a name="line565"></a> 565             end
</span><span class="uncovered1"><a name="line566"></a> 566             s0 &lt;&lt; r3
</span><span class="uncovered0"><a name="line567"></a> 567             if r3
</span><span class="uncovered1"><a name="line568"></a> 568               s4, i4 = [], index
</span><span class="uncovered0"><a name="line569"></a> 569               loop do
</span><span class="uncovered1"><a name="line570"></a> 570                 i5 = index
</span><span class="uncovered0"><a name="line571"></a> 571                 r6 = _nt_alphanumeric_char
</span><span class="uncovered1"><a name="line572"></a> 572                 if r6
</span><span class="uncovered0"><a name="line573"></a> 573                   r5 = r6
</span><span class="uncovered1"><a name="line574"></a> 574                 else
</span><span class="uncovered0"><a name="line575"></a> 575                   if input.index('::', index) == index
</span><span class="uncovered1"><a name="line576"></a> 576                     r7 = (SyntaxNode).new(input, index...(index + 2))
</span><span class="uncovered0"><a name="line577"></a> 577                     @index += 2
</span><span class="uncovered1"><a name="line578"></a> 578                   else
</span><span class="uncovered0"><a name="line579"></a> 579                     terminal_parse_failure('::')
</span><span class="uncovered1"><a name="line580"></a> 580                     r7 = nil
</span><span class="uncovered0"><a name="line581"></a> 581                   end
</span><span class="uncovered1"><a name="line582"></a> 582                   if r7
</span><span class="uncovered0"><a name="line583"></a> 583                     r5 = r7
</span><span class="uncovered1"><a name="line584"></a> 584                   else
</span><span class="uncovered0"><a name="line585"></a> 585                     self.index = i5
</span><span class="uncovered1"><a name="line586"></a> 586                     r5 = nil
</span><span class="uncovered0"><a name="line587"></a> 587                   end
</span><span class="uncovered1"><a name="line588"></a> 588                 end
</span><span class="uncovered0"><a name="line589"></a> 589                 if r5
</span><span class="uncovered1"><a name="line590"></a> 590                   s4 &lt;&lt; r5
</span><span class="uncovered0"><a name="line591"></a> 591                 else
</span><span class="uncovered1"><a name="line592"></a> 592                   break
</span><span class="uncovered0"><a name="line593"></a> 593                 end
</span><span class="uncovered1"><a name="line594"></a> 594               end
</span><span class="uncovered0"><a name="line595"></a> 595               r4 = SyntaxNode.new(input, i4...index, s4)
</span><span class="uncovered1"><a name="line596"></a> 596               s0 &lt;&lt; r4
</span><span class="uncovered0"><a name="line597"></a> 597             end
</span><span class="uncovered1"><a name="line598"></a> 598           end
</span><span class="uncovered0"><a name="line599"></a> 599         end
</span><span class="marked1"><a name="line600"></a> 600         if s0.last
</span><span class="uncovered0"><a name="line601"></a> 601           r0 = (SyntaxNode).new(input, i0...index, s0)
</span><span class="uncovered1"><a name="line602"></a> 602           r0.extend(IncludeDeclaration0)
</span><span class="uncovered0"><a name="line603"></a> 603           r0.extend(IncludeDeclaration1)
</span><span class="inferred1"><a name="line604"></a> 604         else
</span><span class="marked0"><a name="line605"></a> 605           self.index = i0
</span><span class="marked1"><a name="line606"></a> 606           r0 = nil
</span><span class="inferred0"><a name="line607"></a> 607         end
</span><span class="inferred1"><a name="line608"></a> 608 
</span><span class="marked0"><a name="line609"></a> 609         node_cache[:include_declaration][start_index] = r0
</span><span class="inferred1"><a name="line610"></a> 610 
</span><span class="marked0"><a name="line611"></a> 611         return r0
</span><span class="inferred1"><a name="line612"></a> 612       end
</span><span class="inferred0"><a name="line613"></a> 613 
</span><span class="marked1"><a name="line614"></a> 614       module ParsingRule0
</span><span class="marked0"><a name="line615"></a> 615         def space
</span><span class="uncovered1"><a name="line616"></a> 616           elements[1]
</span><span class="uncovered0"><a name="line617"></a> 617         end
</span><span class="uncovered1"><a name="line618"></a> 618       end
</span><span class="inferred0"><a name="line619"></a> 619 
</span><span class="marked1"><a name="line620"></a> 620       module ParsingRule1
</span><span class="marked0"><a name="line621"></a> 621         def space
</span><span class="uncovered1"><a name="line622"></a> 622           elements[1]
</span><span class="uncovered0"><a name="line623"></a> 623         end
</span><span class="inferred1"><a name="line624"></a> 624 
</span><span class="marked0"><a name="line625"></a> 625         def nonterminal
</span><span class="marked1"><a name="line626"></a> 626           elements[2]
</span><span class="marked0"><a name="line627"></a> 627         end
</span><span class="inferred1"><a name="line628"></a> 628 
</span><span class="marked0"><a name="line629"></a> 629         def space
</span><span class="uncovered1"><a name="line630"></a> 630           elements[3]
</span><span class="uncovered0"><a name="line631"></a> 631         end
</span><span class="inferred1"><a name="line632"></a> 632 
</span><span class="marked0"><a name="line633"></a> 633         def parsing_expression
</span><span class="marked1"><a name="line634"></a> 634           elements[5]
</span><span class="marked0"><a name="line635"></a> 635         end
</span><span class="inferred1"><a name="line636"></a> 636 
</span><span class="marked0"><a name="line637"></a> 637         def space
</span><span class="uncovered1"><a name="line638"></a> 638           elements[6]
</span><span class="uncovered0"><a name="line639"></a> 639         end
</span><span class="uncovered1"><a name="line640"></a> 640 
</span><span class="uncovered0"><a name="line641"></a> 641       end
</span><span class="inferred1"><a name="line642"></a> 642 
</span><span class="marked0"><a name="line643"></a> 643       def _nt_parsing_rule
</span><span class="marked1"><a name="line644"></a> 644         start_index = index
</span><span class="marked0"><a name="line645"></a> 645         if node_cache[:parsing_rule].has_key?(index)
</span><span class="uncovered1"><a name="line646"></a> 646           cached = node_cache[:parsing_rule][index]
</span><span class="uncovered0"><a name="line647"></a> 647           @index = cached.interval.end if cached
</span><span class="uncovered1"><a name="line648"></a> 648           return cached
</span><span class="uncovered0"><a name="line649"></a> 649         end
</span><span class="inferred1"><a name="line650"></a> 650 
</span><span class="marked0"><a name="line651"></a> 651         i0, s0 = index, []
</span><span class="marked1"><a name="line652"></a> 652         if input.index('rule', index) == index
</span><span class="marked0"><a name="line653"></a> 653           r1 = (SyntaxNode).new(input, index...(index + 4))
</span><span class="marked1"><a name="line654"></a> 654           @index += 4
</span><span class="inferred0"><a name="line655"></a> 655         else
</span><span class="marked1"><a name="line656"></a> 656           terminal_parse_failure('rule')
</span><span class="marked0"><a name="line657"></a> 657           r1 = nil
</span><span class="inferred1"><a name="line658"></a> 658         end
</span><span class="marked0"><a name="line659"></a> 659         s0 &lt;&lt; r1
</span><span class="marked1"><a name="line660"></a> 660         if r1
</span><span class="marked0"><a name="line661"></a> 661           r2 = _nt_space
</span><span class="marked1"><a name="line662"></a> 662           s0 &lt;&lt; r2
</span><span class="marked0"><a name="line663"></a> 663           if r2
</span><span class="marked1"><a name="line664"></a> 664             r3 = _nt_nonterminal
</span><span class="marked0"><a name="line665"></a> 665             s0 &lt;&lt; r3
</span><span class="marked1"><a name="line666"></a> 666             if r3
</span><span class="marked0"><a name="line667"></a> 667               r4 = _nt_space
</span><span class="marked1"><a name="line668"></a> 668               s0 &lt;&lt; r4
</span><span class="marked0"><a name="line669"></a> 669               if r4
</span><span class="marked1"><a name="line670"></a> 670                 i6, s6 = index, []
</span><span class="marked0"><a name="line671"></a> 671                 if input.index('do', index) == index
</span><span class="uncovered1"><a name="line672"></a> 672                   r7 = (SyntaxNode).new(input, index...(index + 2))
</span><span class="uncovered0"><a name="line673"></a> 673                   @index += 2
</span><span class="inferred1"><a name="line674"></a> 674                 else
</span><span class="marked0"><a name="line675"></a> 675                   terminal_parse_failure('do')
</span><span class="marked1"><a name="line676"></a> 676                   r7 = nil
</span><span class="inferred0"><a name="line677"></a> 677                 end
</span><span class="marked1"><a name="line678"></a> 678                 s6 &lt;&lt; r7
</span><span class="marked0"><a name="line679"></a> 679                 if r7
</span><span class="uncovered1"><a name="line680"></a> 680                   r8 = _nt_space
</span><span class="uncovered0"><a name="line681"></a> 681                   s6 &lt;&lt; r8
</span><span class="uncovered1"><a name="line682"></a> 682                 end
</span><span class="marked0"><a name="line683"></a> 683                 if s6.last
</span><span class="uncovered1"><a name="line684"></a> 684                   r6 = (SyntaxNode).new(input, i6...index, s6)
</span><span class="uncovered0"><a name="line685"></a> 685                   r6.extend(ParsingRule0)
</span><span class="inferred1"><a name="line686"></a> 686                 else
</span><span class="marked0"><a name="line687"></a> 687                   self.index = i6
</span><span class="marked1"><a name="line688"></a> 688                   r6 = nil
</span><span class="inferred0"><a name="line689"></a> 689                 end
</span><span class="marked1"><a name="line690"></a> 690                 if r6
</span><span class="uncovered0"><a name="line691"></a> 691                   r5 = r6
</span><span class="inferred1"><a name="line692"></a> 692                 else
</span><span class="marked0"><a name="line693"></a> 693                   r5 = SyntaxNode.new(input, index...index)
</span><span class="inferred1"><a name="line694"></a> 694                 end
</span><span class="marked0"><a name="line695"></a> 695                 s0 &lt;&lt; r5
</span><span class="marked1"><a name="line696"></a> 696                 if r5
</span><span class="marked0"><a name="line697"></a> 697                   r9 = _nt_parsing_expression
</span><span class="marked1"><a name="line698"></a> 698                   s0 &lt;&lt; r9
</span><span class="marked0"><a name="line699"></a> 699                   if r9
</span><span class="marked1"><a name="line700"></a> 700                     r10 = _nt_space
</span><span class="marked0"><a name="line701"></a> 701                     s0 &lt;&lt; r10
</span><span class="marked1"><a name="line702"></a> 702                     if r10
</span><span class="marked0"><a name="line703"></a> 703                       if input.index('end', index) == index
</span><span class="marked1"><a name="line704"></a> 704                         r11 = (SyntaxNode).new(input, index...(index + 3))
</span><span class="marked0"><a name="line705"></a> 705                         @index += 3
</span><span class="uncovered1"><a name="line706"></a> 706                       else
</span><span class="uncovered0"><a name="line707"></a> 707                         terminal_parse_failure('end')
</span><span class="uncovered1"><a name="line708"></a> 708                         r11 = nil
</span><span class="uncovered0"><a name="line709"></a> 709                       end
</span><span class="marked1"><a name="line710"></a> 710                       s0 &lt;&lt; r11
</span><span class="inferred0"><a name="line711"></a> 711                     end
</span><span class="inferred1"><a name="line712"></a> 712                   end
</span><span class="inferred0"><a name="line713"></a> 713                 end
</span><span class="inferred1"><a name="line714"></a> 714               end
</span><span class="inferred0"><a name="line715"></a> 715             end
</span><span class="inferred1"><a name="line716"></a> 716           end
</span><span class="inferred0"><a name="line717"></a> 717         end
</span><span class="marked1"><a name="line718"></a> 718         if s0.last
</span><span class="marked0"><a name="line719"></a> 719           r0 = (ParsingRule).new(input, i0...index, s0)
</span><span class="marked1"><a name="line720"></a> 720           r0.extend(ParsingRule1)
</span><span class="inferred0"><a name="line721"></a> 721         else
</span><span class="marked1"><a name="line722"></a> 722           self.index = i0
</span><span class="marked0"><a name="line723"></a> 723           r0 = nil
</span><span class="inferred1"><a name="line724"></a> 724         end
</span><span class="inferred0"><a name="line725"></a> 725 
</span><span class="marked1"><a name="line726"></a> 726         node_cache[:parsing_rule][start_index] = r0
</span><span class="inferred0"><a name="line727"></a> 727 
</span><span class="marked1"><a name="line728"></a> 728         return r0
</span><span class="inferred0"><a name="line729"></a> 729       end
</span><span class="inferred1"><a name="line730"></a> 730 
</span><span class="marked0"><a name="line731"></a> 731       def _nt_parsing_expression
</span><span class="marked1"><a name="line732"></a> 732         start_index = index
</span><span class="marked0"><a name="line733"></a> 733         if node_cache[:parsing_expression].has_key?(index)
</span><span class="uncovered1"><a name="line734"></a> 734           cached = node_cache[:parsing_expression][index]
</span><span class="uncovered0"><a name="line735"></a> 735           @index = cached.interval.end if cached
</span><span class="uncovered1"><a name="line736"></a> 736           return cached
</span><span class="uncovered0"><a name="line737"></a> 737         end
</span><span class="inferred1"><a name="line738"></a> 738 
</span><span class="marked0"><a name="line739"></a> 739         i0 = index
</span><span class="marked1"><a name="line740"></a> 740         r1 = _nt_choice
</span><span class="marked0"><a name="line741"></a> 741         if r1
</span><span class="marked1"><a name="line742"></a> 742           r0 = r1
</span><span class="inferred0"><a name="line743"></a> 743         else
</span><span class="marked1"><a name="line744"></a> 744           r2 = _nt_sequence
</span><span class="marked0"><a name="line745"></a> 745           if r2
</span><span class="marked1"><a name="line746"></a> 746             r0 = r2
</span><span class="inferred0"><a name="line747"></a> 747           else
</span><span class="marked1"><a name="line748"></a> 748             r3 = _nt_primary
</span><span class="marked0"><a name="line749"></a> 749             if r3
</span><span class="marked1"><a name="line750"></a> 750               r0 = r3
</span><span class="uncovered0"><a name="line751"></a> 751             else
</span><span class="uncovered1"><a name="line752"></a> 752               self.index = i0
</span><span class="uncovered0"><a name="line753"></a> 753               r0 = nil
</span><span class="uncovered1"><a name="line754"></a> 754             end
</span><span class="uncovered0"><a name="line755"></a> 755           end
</span><span class="uncovered1"><a name="line756"></a> 756         end
</span><span class="inferred0"><a name="line757"></a> 757 
</span><span class="marked1"><a name="line758"></a> 758         node_cache[:parsing_expression][start_index] = r0
</span><span class="inferred0"><a name="line759"></a> 759 
</span><span class="marked1"><a name="line760"></a> 760         return r0
</span><span class="inferred0"><a name="line761"></a> 761       end
</span><span class="inferred1"><a name="line762"></a> 762 
</span><span class="marked0"><a name="line763"></a> 763       module Choice0
</span><span class="marked1"><a name="line764"></a> 764         def alternative
</span><span class="marked0"><a name="line765"></a> 765           elements[3]
</span><span class="marked1"><a name="line766"></a> 766         end
</span><span class="inferred0"><a name="line767"></a> 767       end
</span><span class="inferred1"><a name="line768"></a> 768 
</span><span class="marked0"><a name="line769"></a> 769       module Choice1
</span><span class="marked1"><a name="line770"></a> 770         def head
</span><span class="marked0"><a name="line771"></a> 771           elements[0]
</span><span class="marked1"><a name="line772"></a> 772         end
</span><span class="inferred0"><a name="line773"></a> 773 
</span><span class="marked1"><a name="line774"></a> 774         def tail
</span><span class="marked0"><a name="line775"></a> 775           elements[1]
</span><span class="marked1"><a name="line776"></a> 776         end
</span><span class="inferred0"><a name="line777"></a> 777       end
</span><span class="inferred1"><a name="line778"></a> 778 
</span><span class="marked0"><a name="line779"></a> 779       module Choice2
</span><span class="marked1"><a name="line780"></a> 780         def alternatives
</span><span class="marked0"><a name="line781"></a> 781           [head] + tail
</span><span class="marked1"><a name="line782"></a> 782         end
</span><span class="inferred0"><a name="line783"></a> 783         
</span><span class="marked1"><a name="line784"></a> 784         def tail
</span><span class="marked0"><a name="line785"></a> 785           super.elements.map {|elt| elt.alternative}
</span><span class="marked1"><a name="line786"></a> 786         end
</span><span class="inferred0"><a name="line787"></a> 787         
</span><span class="marked1"><a name="line788"></a> 788         def inline_modules
</span><span class="marked0"><a name="line789"></a> 789           (alternatives.map {|alt| alt.inline_modules }).flatten
</span><span class="marked1"><a name="line790"></a> 790         end
</span><span class="inferred0"><a name="line791"></a> 791       end
</span><span class="inferred1"><a name="line792"></a> 792 
</span><span class="marked0"><a name="line793"></a> 793       def _nt_choice
</span><span class="marked1"><a name="line794"></a> 794         start_index = index
</span><span class="marked0"><a name="line795"></a> 795         if node_cache[:choice].has_key?(index)
</span><span class="uncovered1"><a name="line796"></a> 796           cached = node_cache[:choice][index]
</span><span class="uncovered0"><a name="line797"></a> 797           @index = cached.interval.end if cached
</span><span class="uncovered1"><a name="line798"></a> 798           return cached
</span><span class="uncovered0"><a name="line799"></a> 799         end
</span><span class="inferred1"><a name="line800"></a> 800 
</span><span class="marked0"><a name="line801"></a> 801         i0, s0 = index, []
</span><span class="marked1"><a name="line802"></a> 802         r1 = _nt_alternative
</span><span class="marked0"><a name="line803"></a> 803         s0 &lt;&lt; r1
</span><span class="marked1"><a name="line804"></a> 804         if r1
</span><span class="marked0"><a name="line805"></a> 805           s2, i2 = [], index
</span><span class="marked1"><a name="line806"></a> 806           loop do
</span><span class="marked0"><a name="line807"></a> 807             i3, s3 = index, []
</span><span class="marked1"><a name="line808"></a> 808             r5 = _nt_space
</span><span class="marked0"><a name="line809"></a> 809             if r5
</span><span class="marked1"><a name="line810"></a> 810               r4 = r5
</span><span class="inferred0"><a name="line811"></a> 811             else
</span><span class="marked1"><a name="line812"></a> 812               r4 = SyntaxNode.new(input, index...index)
</span><span class="inferred0"><a name="line813"></a> 813             end
</span><span class="marked1"><a name="line814"></a> 814             s3 &lt;&lt; r4
</span><span class="marked0"><a name="line815"></a> 815             if r4
</span><span class="marked1"><a name="line816"></a> 816               if input.index('/', index) == index
</span><span class="marked0"><a name="line817"></a> 817                 r6 = (SyntaxNode).new(input, index...(index + 1))
</span><span class="marked1"><a name="line818"></a> 818                 @index += 1
</span><span class="inferred0"><a name="line819"></a> 819               else
</span><span class="marked1"><a name="line820"></a> 820                 terminal_parse_failure('/')
</span><span class="marked0"><a name="line821"></a> 821                 r6 = nil
</span><span class="inferred1"><a name="line822"></a> 822               end
</span><span class="marked0"><a name="line823"></a> 823               s3 &lt;&lt; r6
</span><span class="marked1"><a name="line824"></a> 824               if r6
</span><span class="marked0"><a name="line825"></a> 825                 r8 = _nt_space
</span><span class="marked1"><a name="line826"></a> 826                 if r8
</span><span class="marked0"><a name="line827"></a> 827                   r7 = r8
</span><span class="uncovered1"><a name="line828"></a> 828                 else
</span><span class="uncovered0"><a name="line829"></a> 829                   r7 = SyntaxNode.new(input, index...index)
</span><span class="uncovered1"><a name="line830"></a> 830                 end
</span><span class="marked0"><a name="line831"></a> 831                 s3 &lt;&lt; r7
</span><span class="marked1"><a name="line832"></a> 832                 if r7
</span><span class="marked0"><a name="line833"></a> 833                   r9 = _nt_alternative
</span><span class="marked1"><a name="line834"></a> 834                   s3 &lt;&lt; r9
</span><span class="inferred0"><a name="line835"></a> 835                 end
</span><span class="inferred1"><a name="line836"></a> 836               end
</span><span class="inferred0"><a name="line837"></a> 837             end
</span><span class="marked1"><a name="line838"></a> 838             if s3.last
</span><span class="marked0"><a name="line839"></a> 839               r3 = (SyntaxNode).new(input, i3...index, s3)
</span><span class="marked1"><a name="line840"></a> 840               r3.extend(Choice0)
</span><span class="inferred0"><a name="line841"></a> 841             else
</span><span class="marked1"><a name="line842"></a> 842               self.index = i3
</span><span class="marked0"><a name="line843"></a> 843               r3 = nil
</span><span class="inferred1"><a name="line844"></a> 844             end
</span><span class="marked0"><a name="line845"></a> 845             if r3
</span><span class="marked1"><a name="line846"></a> 846               s2 &lt;&lt; r3
</span><span class="inferred0"><a name="line847"></a> 847             else
</span><span class="marked1"><a name="line848"></a> 848               break
</span><span class="inferred0"><a name="line849"></a> 849             end
</span><span class="inferred1"><a name="line850"></a> 850           end
</span><span class="marked0"><a name="line851"></a> 851           if s2.empty?
</span><span class="marked1"><a name="line852"></a> 852             self.index = i2
</span><span class="marked0"><a name="line853"></a> 853             r2 = nil
</span><span class="inferred1"><a name="line854"></a> 854           else
</span><span class="marked0"><a name="line855"></a> 855             r2 = SyntaxNode.new(input, i2...index, s2)
</span><span class="inferred1"><a name="line856"></a> 856           end
</span><span class="marked0"><a name="line857"></a> 857           s0 &lt;&lt; r2
</span><span class="inferred1"><a name="line858"></a> 858         end
</span><span class="marked0"><a name="line859"></a> 859         if s0.last
</span><span class="marked1"><a name="line860"></a> 860           r0 = (Choice).new(input, i0...index, s0)
</span><span class="marked0"><a name="line861"></a> 861           r0.extend(Choice1)
</span><span class="marked1"><a name="line862"></a> 862           r0.extend(Choice2)
</span><span class="inferred0"><a name="line863"></a> 863         else
</span><span class="marked1"><a name="line864"></a> 864           self.index = i0
</span><span class="marked0"><a name="line865"></a> 865           r0 = nil
</span><span class="inferred1"><a name="line866"></a> 866         end
</span><span class="inferred0"><a name="line867"></a> 867 
</span><span class="marked1"><a name="line868"></a> 868         node_cache[:choice][start_index] = r0
</span><span class="inferred0"><a name="line869"></a> 869 
</span><span class="marked1"><a name="line870"></a> 870         return r0
</span><span class="inferred0"><a name="line871"></a> 871       end
</span><span class="inferred1"><a name="line872"></a> 872 
</span><span class="marked0"><a name="line873"></a> 873       module Sequence0
</span><span class="marked1"><a name="line874"></a> 874         def space
</span><span class="uncovered0"><a name="line875"></a> 875           elements[0]
</span><span class="uncovered1"><a name="line876"></a> 876         end
</span><span class="inferred0"><a name="line877"></a> 877 
</span><span class="marked1"><a name="line878"></a> 878         def labeled_sequence_primary
</span><span class="marked0"><a name="line879"></a> 879           elements[1]
</span><span class="marked1"><a name="line880"></a> 880         end
</span><span class="inferred0"><a name="line881"></a> 881       end
</span><span class="inferred1"><a name="line882"></a> 882 
</span><span class="marked0"><a name="line883"></a> 883       module Sequence1
</span><span class="marked1"><a name="line884"></a> 884         def head
</span><span class="marked0"><a name="line885"></a> 885           elements[0]
</span><span class="marked1"><a name="line886"></a> 886         end
</span><span class="inferred0"><a name="line887"></a> 887 
</span><span class="marked1"><a name="line888"></a> 888         def tail
</span><span class="marked0"><a name="line889"></a> 889           elements[1]
</span><span class="marked1"><a name="line890"></a> 890         end
</span><span class="inferred0"><a name="line891"></a> 891 
</span><span class="marked1"><a name="line892"></a> 892         def node_class_declarations
</span><span class="marked0"><a name="line893"></a> 893           elements[2]
</span><span class="marked1"><a name="line894"></a> 894         end
</span><span class="inferred0"><a name="line895"></a> 895       end
</span><span class="inferred1"><a name="line896"></a> 896 
</span><span class="marked0"><a name="line897"></a> 897       module Sequence2
</span><span class="marked1"><a name="line898"></a> 898         def sequence_elements
</span><span class="marked0"><a name="line899"></a> 899           [head] + tail
</span><span class="marked1"><a name="line900"></a> 900         end
</span><span class="inferred0"><a name="line901"></a> 901   
</span><span class="marked1"><a name="line902"></a> 902         def tail
</span><span class="marked0"><a name="line903"></a> 903           super.elements.map {|elt| elt.labeled_sequence_primary }
</span><span class="marked1"><a name="line904"></a> 904         end
</span><span class="inferred0"><a name="line905"></a> 905     
</span><span class="marked1"><a name="line906"></a> 906         def inline_modules
</span><span class="marked0"><a name="line907"></a> 907           (sequence_elements.map {|elt| elt.inline_modules}).flatten +
</span><span class="marked1"><a name="line908"></a> 908           [sequence_element_accessor_module] +
</span><span class="marked0"><a name="line909"></a> 909           node_class_declarations.inline_modules
</span><span class="marked1"><a name="line910"></a> 910         end
</span><span class="inferred0"><a name="line911"></a> 911     
</span><span class="marked1"><a name="line912"></a> 912         def inline_module_name
</span><span class="marked0"><a name="line913"></a> 913           node_class_declarations.inline_module_name
</span><span class="marked1"><a name="line914"></a> 914         end
</span><span class="inferred0"><a name="line915"></a> 915       end
</span><span class="inferred1"><a name="line916"></a> 916 
</span><span class="marked0"><a name="line917"></a> 917       def _nt_sequence
</span><span class="marked1"><a name="line918"></a> 918         start_index = index
</span><span class="marked0"><a name="line919"></a> 919         if node_cache[:sequence].has_key?(index)
</span><span class="marked1"><a name="line920"></a> 920           cached = node_cache[:sequence][index]
</span><span class="marked0"><a name="line921"></a> 921           @index = cached.interval.end if cached
</span><span class="marked1"><a name="line922"></a> 922           return cached
</span><span class="inferred0"><a name="line923"></a> 923         end
</span><span class="inferred1"><a name="line924"></a> 924 
</span><span class="marked0"><a name="line925"></a> 925         i0, s0 = index, []
</span><span class="marked1"><a name="line926"></a> 926         r1 = _nt_labeled_sequence_primary
</span><span class="marked0"><a name="line927"></a> 927         s0 &lt;&lt; r1
</span><span class="marked1"><a name="line928"></a> 928         if r1
</span><span class="marked0"><a name="line929"></a> 929           s2, i2 = [], index
</span><span class="marked1"><a name="line930"></a> 930           loop do
</span><span class="marked0"><a name="line931"></a> 931             i3, s3 = index, []
</span><span class="marked1"><a name="line932"></a> 932             r4 = _nt_space
</span><span class="marked0"><a name="line933"></a> 933             s3 &lt;&lt; r4
</span><span class="marked1"><a name="line934"></a> 934             if r4
</span><span class="marked0"><a name="line935"></a> 935               r5 = _nt_labeled_sequence_primary
</span><span class="marked1"><a name="line936"></a> 936               s3 &lt;&lt; r5
</span><span class="inferred0"><a name="line937"></a> 937             end
</span><span class="marked1"><a name="line938"></a> 938             if s3.last
</span><span class="marked0"><a name="line939"></a> 939               r3 = (SyntaxNode).new(input, i3...index, s3)
</span><span class="marked1"><a name="line940"></a> 940               r3.extend(Sequence0)
</span><span class="inferred0"><a name="line941"></a> 941             else
</span><span class="marked1"><a name="line942"></a> 942               self.index = i3
</span><span class="marked0"><a name="line943"></a> 943               r3 = nil
</span><span class="inferred1"><a name="line944"></a> 944             end
</span><span class="marked0"><a name="line945"></a> 945             if r3
</span><span class="marked1"><a name="line946"></a> 946               s2 &lt;&lt; r3
</span><span class="inferred0"><a name="line947"></a> 947             else
</span><span class="marked1"><a name="line948"></a> 948               break
</span><span class="inferred0"><a name="line949"></a> 949             end
</span><span class="inferred1"><a name="line950"></a> 950           end
</span><span class="marked0"><a name="line951"></a> 951           if s2.empty?
</span><span class="marked1"><a name="line952"></a> 952             self.index = i2
</span><span class="marked0"><a name="line953"></a> 953             r2 = nil
</span><span class="inferred1"><a name="line954"></a> 954           else
</span><span class="marked0"><a name="line955"></a> 955             r2 = SyntaxNode.new(input, i2...index, s2)
</span><span class="inferred1"><a name="line956"></a> 956           end
</span><span class="marked0"><a name="line957"></a> 957           s0 &lt;&lt; r2
</span><span class="marked1"><a name="line958"></a> 958           if r2
</span><span class="marked0"><a name="line959"></a> 959             r6 = _nt_node_class_declarations
</span><span class="marked1"><a name="line960"></a> 960             s0 &lt;&lt; r6
</span><span class="inferred0"><a name="line961"></a> 961           end
</span><span class="inferred1"><a name="line962"></a> 962         end
</span><span class="marked0"><a name="line963"></a> 963         if s0.last
</span><span class="marked1"><a name="line964"></a> 964           r0 = (Sequence).new(input, i0...index, s0)
</span><span class="marked0"><a name="line965"></a> 965           r0.extend(Sequence1)
</span><span class="marked1"><a name="line966"></a> 966           r0.extend(Sequence2)
</span><span class="inferred0"><a name="line967"></a> 967         else
</span><span class="marked1"><a name="line968"></a> 968           self.index = i0
</span><span class="marked0"><a name="line969"></a> 969           r0 = nil
</span><span class="inferred1"><a name="line970"></a> 970         end
</span><span class="inferred0"><a name="line971"></a> 971 
</span><span class="marked1"><a name="line972"></a> 972         node_cache[:sequence][start_index] = r0
</span><span class="inferred0"><a name="line973"></a> 973 
</span><span class="marked1"><a name="line974"></a> 974         return r0
</span><span class="inferred0"><a name="line975"></a> 975       end
</span><span class="inferred1"><a name="line976"></a> 976 
</span><span class="marked0"><a name="line977"></a> 977       def _nt_alternative
</span><span class="marked1"><a name="line978"></a> 978         start_index = index
</span><span class="marked0"><a name="line979"></a> 979         if node_cache[:alternative].has_key?(index)
</span><span class="uncovered1"><a name="line980"></a> 980           cached = node_cache[:alternative][index]
</span><span class="uncovered0"><a name="line981"></a> 981           @index = cached.interval.end if cached
</span><span class="uncovered1"><a name="line982"></a> 982           return cached
</span><span class="uncovered0"><a name="line983"></a> 983         end
</span><span class="inferred1"><a name="line984"></a> 984 
</span><span class="marked0"><a name="line985"></a> 985         i0 = index
</span><span class="marked1"><a name="line986"></a> 986         r1 = _nt_sequence
</span><span class="marked0"><a name="line987"></a> 987         if r1
</span><span class="marked1"><a name="line988"></a> 988           r0 = r1
</span><span class="inferred0"><a name="line989"></a> 989         else
</span><span class="marked1"><a name="line990"></a> 990           r2 = _nt_primary
</span><span class="marked0"><a name="line991"></a> 991           if r2
</span><span class="marked1"><a name="line992"></a> 992             r0 = r2
</span><span class="uncovered0"><a name="line993"></a> 993           else
</span><span class="uncovered1"><a name="line994"></a> 994             self.index = i0
</span><span class="uncovered0"><a name="line995"></a> 995             r0 = nil
</span><span class="uncovered1"><a name="line996"></a> 996           end
</span><span class="uncovered0"><a name="line997"></a> 997         end
</span><span class="inferred1"><a name="line998"></a> 998 
</span><span class="marked0"><a name="line999"></a> 999         node_cache[:alternative][start_index] = r0
</span><span class="inferred1"><a name="line1000"></a>1000 
</span><span class="marked0"><a name="line1001"></a>1001         return r0
</span><span class="inferred1"><a name="line1002"></a>1002       end
</span><span class="inferred0"><a name="line1003"></a>1003 
</span><span class="marked1"><a name="line1004"></a>1004       module Primary0
</span><span class="marked0"><a name="line1005"></a>1005         def prefix
</span><span class="uncovered1"><a name="line1006"></a>1006           elements[0]
</span><span class="uncovered0"><a name="line1007"></a>1007         end
</span><span class="inferred1"><a name="line1008"></a>1008 
</span><span class="marked0"><a name="line1009"></a>1009         def atomic
</span><span class="uncovered1"><a name="line1010"></a>1010           elements[1]
</span><span class="uncovered0"><a name="line1011"></a>1011         end
</span><span class="uncovered1"><a name="line1012"></a>1012       end
</span><span class="inferred0"><a name="line1013"></a>1013 
</span><span class="marked1"><a name="line1014"></a>1014       module Primary1
</span><span class="marked0"><a name="line1015"></a>1015         def compile(address, builder, parent_expression=nil)
</span><span class="uncovered1"><a name="line1016"></a>1016           prefix.compile(address, builder, self)
</span><span class="uncovered0"><a name="line1017"></a>1017         end
</span><span class="inferred1"><a name="line1018"></a>1018     
</span><span class="marked0"><a name="line1019"></a>1019         def prefixed_expression
</span><span class="uncovered1"><a name="line1020"></a>1020           atomic
</span><span class="uncovered0"><a name="line1021"></a>1021         end
</span><span class="inferred1"><a name="line1022"></a>1022     
</span><span class="marked0"><a name="line1023"></a>1023         def inline_modules
</span><span class="uncovered1"><a name="line1024"></a>1024           atomic.inline_modules
</span><span class="uncovered0"><a name="line1025"></a>1025         end
</span><span class="inferred1"><a name="line1026"></a>1026     
</span><span class="marked0"><a name="line1027"></a>1027         def inline_module_name
</span><span class="uncovered1"><a name="line1028"></a>1028           nil
</span><span class="uncovered0"><a name="line1029"></a>1029         end
</span><span class="uncovered1"><a name="line1030"></a>1030       end
</span><span class="inferred0"><a name="line1031"></a>1031 
</span><span class="marked1"><a name="line1032"></a>1032       module Primary2
</span><span class="marked0"><a name="line1033"></a>1033         def atomic
</span><span class="marked1"><a name="line1034"></a>1034           elements[0]
</span><span class="marked0"><a name="line1035"></a>1035         end
</span><span class="inferred1"><a name="line1036"></a>1036 
</span><span class="marked0"><a name="line1037"></a>1037         def suffix
</span><span class="marked1"><a name="line1038"></a>1038           elements[1]
</span><span class="marked0"><a name="line1039"></a>1039         end
</span><span class="inferred1"><a name="line1040"></a>1040 
</span><span class="marked0"><a name="line1041"></a>1041         def node_class_declarations
</span><span class="marked1"><a name="line1042"></a>1042           elements[2]
</span><span class="marked0"><a name="line1043"></a>1043         end
</span><span class="inferred1"><a name="line1044"></a>1044       end
</span><span class="inferred0"><a name="line1045"></a>1045 
</span><span class="marked1"><a name="line1046"></a>1046       module Primary3
</span><span class="marked0"><a name="line1047"></a>1047         def compile(address, builder, parent_expression=nil)
</span><span class="marked1"><a name="line1048"></a>1048           suffix.compile(address, builder, self)
</span><span class="marked0"><a name="line1049"></a>1049         end
</span><span class="inferred1"><a name="line1050"></a>1050     
</span><span class="marked0"><a name="line1051"></a>1051         def optional_expression
</span><span class="uncovered1"><a name="line1052"></a>1052           atomic
</span><span class="uncovered0"><a name="line1053"></a>1053         end
</span><span class="inferred1"><a name="line1054"></a>1054     
</span><span class="marked0"><a name="line1055"></a>1055         def node_class_name
</span><span class="marked1"><a name="line1056"></a>1056           node_class_declarations.node_class_name
</span><span class="marked0"><a name="line1057"></a>1057         end
</span><span class="inferred1"><a name="line1058"></a>1058     
</span><span class="marked0"><a name="line1059"></a>1059         def inline_modules
</span><span class="marked1"><a name="line1060"></a>1060           atomic.inline_modules + node_class_declarations.inline_modules
</span><span class="marked0"><a name="line1061"></a>1061         end
</span><span class="inferred1"><a name="line1062"></a>1062     
</span><span class="marked0"><a name="line1063"></a>1063         def inline_module_name
</span><span class="marked1"><a name="line1064"></a>1064           node_class_declarations.inline_module_name
</span><span class="marked0"><a name="line1065"></a>1065         end
</span><span class="inferred1"><a name="line1066"></a>1066       end
</span><span class="inferred0"><a name="line1067"></a>1067 
</span><span class="marked1"><a name="line1068"></a>1068       module Primary4
</span><span class="marked0"><a name="line1069"></a>1069         def atomic
</span><span class="marked1"><a name="line1070"></a>1070           elements[0]
</span><span class="marked0"><a name="line1071"></a>1071         end
</span><span class="inferred1"><a name="line1072"></a>1072 
</span><span class="marked0"><a name="line1073"></a>1073         def node_class_declarations
</span><span class="marked1"><a name="line1074"></a>1074           elements[1]
</span><span class="marked0"><a name="line1075"></a>1075         end
</span><span class="inferred1"><a name="line1076"></a>1076       end
</span><span class="inferred0"><a name="line1077"></a>1077 
</span><span class="marked1"><a name="line1078"></a>1078       module Primary5
</span><span class="marked0"><a name="line1079"></a>1079         def compile(address, builder, parent_expression=nil)
</span><span class="marked1"><a name="line1080"></a>1080           atomic.compile(address, builder, self)
</span><span class="marked0"><a name="line1081"></a>1081         end
</span><span class="inferred1"><a name="line1082"></a>1082     
</span><span class="marked0"><a name="line1083"></a>1083         def node_class_name
</span><span class="marked1"><a name="line1084"></a>1084           node_class_declarations.node_class_name
</span><span class="marked0"><a name="line1085"></a>1085         end
</span><span class="inferred1"><a name="line1086"></a>1086     
</span><span class="marked0"><a name="line1087"></a>1087         def inline_modules
</span><span class="marked1"><a name="line1088"></a>1088           atomic.inline_modules + node_class_declarations.inline_modules
</span><span class="marked0"><a name="line1089"></a>1089         end
</span><span class="inferred1"><a name="line1090"></a>1090     
</span><span class="marked0"><a name="line1091"></a>1091         def inline_module_name
</span><span class="marked1"><a name="line1092"></a>1092           node_class_declarations.inline_module_name
</span><span class="marked0"><a name="line1093"></a>1093         end
</span><span class="inferred1"><a name="line1094"></a>1094       end
</span><span class="inferred0"><a name="line1095"></a>1095 
</span><span class="marked1"><a name="line1096"></a>1096       def _nt_primary
</span><span class="marked0"><a name="line1097"></a>1097         start_index = index
</span><span class="marked1"><a name="line1098"></a>1098         if node_cache[:primary].has_key?(index)
</span><span class="marked0"><a name="line1099"></a>1099           cached = node_cache[:primary][index]
</span><span class="marked1"><a name="line1100"></a>1100           @index = cached.interval.end if cached
</span><span class="marked0"><a name="line1101"></a>1101           return cached
</span><span class="inferred1"><a name="line1102"></a>1102         end
</span><span class="inferred0"><a name="line1103"></a>1103 
</span><span class="marked1"><a name="line1104"></a>1104         i0 = index
</span><span class="marked0"><a name="line1105"></a>1105         i1, s1 = index, []
</span><span class="marked1"><a name="line1106"></a>1106         r2 = _nt_prefix
</span><span class="marked0"><a name="line1107"></a>1107         s1 &lt;&lt; r2
</span><span class="marked1"><a name="line1108"></a>1108         if r2
</span><span class="uncovered0"><a name="line1109"></a>1109           r3 = _nt_atomic
</span><span class="uncovered1"><a name="line1110"></a>1110           s1 &lt;&lt; r3
</span><span class="uncovered0"><a name="line1111"></a>1111         end
</span><span class="marked1"><a name="line1112"></a>1112         if s1.last
</span><span class="uncovered0"><a name="line1113"></a>1113           r1 = (SyntaxNode).new(input, i1...index, s1)
</span><span class="uncovered1"><a name="line1114"></a>1114           r1.extend(Primary0)
</span><span class="uncovered0"><a name="line1115"></a>1115           r1.extend(Primary1)
</span><span class="inferred1"><a name="line1116"></a>1116         else
</span><span class="marked0"><a name="line1117"></a>1117           self.index = i1
</span><span class="marked1"><a name="line1118"></a>1118           r1 = nil
</span><span class="inferred0"><a name="line1119"></a>1119         end
</span><span class="marked1"><a name="line1120"></a>1120         if r1
</span><span class="uncovered0"><a name="line1121"></a>1121           r0 = r1
</span><span class="inferred1"><a name="line1122"></a>1122         else
</span><span class="marked0"><a name="line1123"></a>1123           i4, s4 = index, []
</span><span class="marked1"><a name="line1124"></a>1124           r5 = _nt_atomic
</span><span class="marked0"><a name="line1125"></a>1125           s4 &lt;&lt; r5
</span><span class="marked1"><a name="line1126"></a>1126           if r5
</span><span class="marked0"><a name="line1127"></a>1127             r6 = _nt_suffix
</span><span class="marked1"><a name="line1128"></a>1128             s4 &lt;&lt; r6
</span><span class="marked0"><a name="line1129"></a>1129             if r6
</span><span class="marked1"><a name="line1130"></a>1130               r7 = _nt_node_class_declarations
</span><span class="marked0"><a name="line1131"></a>1131               s4 &lt;&lt; r7
</span><span class="inferred1"><a name="line1132"></a>1132             end
</span><span class="inferred0"><a name="line1133"></a>1133           end
</span><span class="marked1"><a name="line1134"></a>1134           if s4.last
</span><span class="marked0"><a name="line1135"></a>1135             r4 = (SyntaxNode).new(input, i4...index, s4)
</span><span class="marked1"><a name="line1136"></a>1136             r4.extend(Primary2)
</span><span class="marked0"><a name="line1137"></a>1137             r4.extend(Primary3)
</span><span class="inferred1"><a name="line1138"></a>1138           else
</span><span class="marked0"><a name="line1139"></a>1139             self.index = i4
</span><span class="marked1"><a name="line1140"></a>1140             r4 = nil
</span><span class="inferred0"><a name="line1141"></a>1141           end
</span><span class="marked1"><a name="line1142"></a>1142           if r4
</span><span class="marked0"><a name="line1143"></a>1143             r0 = r4
</span><span class="inferred1"><a name="line1144"></a>1144           else
</span><span class="marked0"><a name="line1145"></a>1145             i8, s8 = index, []
</span><span class="marked1"><a name="line1146"></a>1146             r9 = _nt_atomic
</span><span class="marked0"><a name="line1147"></a>1147             s8 &lt;&lt; r9
</span><span class="marked1"><a name="line1148"></a>1148             if r9
</span><span class="marked0"><a name="line1149"></a>1149               r10 = _nt_node_class_declarations
</span><span class="marked1"><a name="line1150"></a>1150               s8 &lt;&lt; r10
</span><span class="inferred0"><a name="line1151"></a>1151             end
</span><span class="marked1"><a name="line1152"></a>1152             if s8.last
</span><span class="marked0"><a name="line1153"></a>1153               r8 = (SyntaxNode).new(input, i8...index, s8)
</span><span class="marked1"><a name="line1154"></a>1154               r8.extend(Primary4)
</span><span class="marked0"><a name="line1155"></a>1155               r8.extend(Primary5)
</span><span class="uncovered1"><a name="line1156"></a>1156             else
</span><span class="uncovered0"><a name="line1157"></a>1157               self.index = i8
</span><span class="uncovered1"><a name="line1158"></a>1158               r8 = nil
</span><span class="uncovered0"><a name="line1159"></a>1159             end
</span><span class="marked1"><a name="line1160"></a>1160             if r8
</span><span class="marked0"><a name="line1161"></a>1161               r0 = r8
</span><span class="uncovered1"><a name="line1162"></a>1162             else
</span><span class="uncovered0"><a name="line1163"></a>1163               self.index = i0
</span><span class="uncovered1"><a name="line1164"></a>1164               r0 = nil
</span><span class="uncovered0"><a name="line1165"></a>1165             end
</span><span class="uncovered1"><a name="line1166"></a>1166           end
</span><span class="uncovered0"><a name="line1167"></a>1167         end
</span><span class="inferred1"><a name="line1168"></a>1168 
</span><span class="marked0"><a name="line1169"></a>1169         node_cache[:primary][start_index] = r0
</span><span class="inferred1"><a name="line1170"></a>1170 
</span><span class="marked0"><a name="line1171"></a>1171         return r0
</span><span class="inferred1"><a name="line1172"></a>1172       end
</span><span class="inferred0"><a name="line1173"></a>1173 
</span><span class="marked1"><a name="line1174"></a>1174       module LabeledSequencePrimary0
</span><span class="marked0"><a name="line1175"></a>1175         def label
</span><span class="marked1"><a name="line1176"></a>1176           elements[0]
</span><span class="marked0"><a name="line1177"></a>1177         end
</span><span class="inferred1"><a name="line1178"></a>1178 
</span><span class="marked0"><a name="line1179"></a>1179         def sequence_primary
</span><span class="marked1"><a name="line1180"></a>1180           elements[1]
</span><span class="marked0"><a name="line1181"></a>1181         end
</span><span class="inferred1"><a name="line1182"></a>1182       end
</span><span class="inferred0"><a name="line1183"></a>1183 
</span><span class="marked1"><a name="line1184"></a>1184       module LabeledSequencePrimary1
</span><span class="marked0"><a name="line1185"></a>1185         def compile(lexical_address, builder)
</span><span class="marked1"><a name="line1186"></a>1186           sequence_primary.compile(lexical_address, builder)
</span><span class="marked0"><a name="line1187"></a>1187         end
</span><span class="inferred1"><a name="line1188"></a>1188     
</span><span class="marked0"><a name="line1189"></a>1189         def inline_modules
</span><span class="marked1"><a name="line1190"></a>1190           sequence_primary.inline_modules
</span><span class="marked0"><a name="line1191"></a>1191         end
</span><span class="inferred1"><a name="line1192"></a>1192     
</span><span class="marked0"><a name="line1193"></a>1193         def label_name
</span><span class="marked1"><a name="line1194"></a>1194           if label.name
</span><span class="marked0"><a name="line1195"></a>1195             label.name
</span><span class="marked1"><a name="line1196"></a>1196           elsif sequence_primary.instance_of?(Nonterminal)
</span><span class="marked0"><a name="line1197"></a>1197             sequence_primary.text_value
</span><span class="inferred1"><a name="line1198"></a>1198           else
</span><span class="marked0"><a name="line1199"></a>1199             nil
</span><span class="inferred1"><a name="line1200"></a>1200           end
</span><span class="marked0"><a name="line1201"></a>1201         end
</span><span class="inferred1"><a name="line1202"></a>1202       end
</span><span class="inferred0"><a name="line1203"></a>1203 
</span><span class="marked1"><a name="line1204"></a>1204       def _nt_labeled_sequence_primary
</span><span class="marked0"><a name="line1205"></a>1205         start_index = index
</span><span class="marked1"><a name="line1206"></a>1206         if node_cache[:labeled_sequence_primary].has_key?(index)
</span><span class="uncovered0"><a name="line1207"></a>1207           cached = node_cache[:labeled_sequence_primary][index]
</span><span class="uncovered1"><a name="line1208"></a>1208           @index = cached.interval.end if cached
</span><span class="uncovered0"><a name="line1209"></a>1209           return cached
</span><span class="uncovered1"><a name="line1210"></a>1210         end
</span><span class="inferred0"><a name="line1211"></a>1211 
</span><span class="marked1"><a name="line1212"></a>1212         i0, s0 = index, []
</span><span class="marked0"><a name="line1213"></a>1213         r1 = _nt_label
</span><span class="marked1"><a name="line1214"></a>1214         s0 &lt;&lt; r1
</span><span class="marked0"><a name="line1215"></a>1215         if r1
</span><span class="marked1"><a name="line1216"></a>1216           r2 = _nt_sequence_primary
</span><span class="marked0"><a name="line1217"></a>1217           s0 &lt;&lt; r2
</span><span class="inferred1"><a name="line1218"></a>1218         end
</span><span class="marked0"><a name="line1219"></a>1219         if s0.last
</span><span class="marked1"><a name="line1220"></a>1220           r0 = (SyntaxNode).new(input, i0...index, s0)
</span><span class="marked0"><a name="line1221"></a>1221           r0.extend(LabeledSequencePrimary0)
</span><span class="marked1"><a name="line1222"></a>1222           r0.extend(LabeledSequencePrimary1)
</span><span class="inferred0"><a name="line1223"></a>1223         else
</span><span class="marked1"><a name="line1224"></a>1224           self.index = i0
</span><span class="marked0"><a name="line1225"></a>1225           r0 = nil
</span><span class="inferred1"><a name="line1226"></a>1226         end
</span><span class="inferred0"><a name="line1227"></a>1227 
</span><span class="marked1"><a name="line1228"></a>1228         node_cache[:labeled_sequence_primary][start_index] = r0
</span><span class="inferred0"><a name="line1229"></a>1229 
</span><span class="marked1"><a name="line1230"></a>1230         return r0
</span><span class="inferred0"><a name="line1231"></a>1231       end
</span><span class="inferred1"><a name="line1232"></a>1232 
</span><span class="marked0"><a name="line1233"></a>1233       module Label0
</span><span class="marked1"><a name="line1234"></a>1234         def alpha_char
</span><span class="uncovered0"><a name="line1235"></a>1235           elements[0]
</span><span class="uncovered1"><a name="line1236"></a>1236         end
</span><span class="uncovered0"><a name="line1237"></a>1237 
</span><span class="uncovered1"><a name="line1238"></a>1238       end
</span><span class="inferred0"><a name="line1239"></a>1239 
</span><span class="marked1"><a name="line1240"></a>1240       module Label1
</span><span class="inferred0"><a name="line1241"></a>1241       end
</span><span class="inferred1"><a name="line1242"></a>1242 
</span><span class="marked0"><a name="line1243"></a>1243       module Label2
</span><span class="marked1"><a name="line1244"></a>1244         def name
</span><span class="marked0"><a name="line1245"></a>1245           elements[0].text_value
</span><span class="marked1"><a name="line1246"></a>1246         end
</span><span class="inferred0"><a name="line1247"></a>1247       end
</span><span class="inferred1"><a name="line1248"></a>1248 
</span><span class="marked0"><a name="line1249"></a>1249       module Label3
</span><span class="marked1"><a name="line1250"></a>1250         def name
</span><span class="marked0"><a name="line1251"></a>1251           nil
</span><span class="marked1"><a name="line1252"></a>1252         end
</span><span class="inferred0"><a name="line1253"></a>1253       end
</span><span class="inferred1"><a name="line1254"></a>1254 
</span><span class="marked0"><a name="line1255"></a>1255       def _nt_label
</span><span class="marked1"><a name="line1256"></a>1256         start_index = index
</span><span class="marked0"><a name="line1257"></a>1257         if node_cache[:label].has_key?(index)
</span><span class="uncovered1"><a name="line1258"></a>1258           cached = node_cache[:label][index]
</span><span class="uncovered0"><a name="line1259"></a>1259           @index = cached.interval.end if cached
</span><span class="uncovered1"><a name="line1260"></a>1260           return cached
</span><span class="uncovered0"><a name="line1261"></a>1261         end
</span><span class="inferred1"><a name="line1262"></a>1262 
</span><span class="marked0"><a name="line1263"></a>1263         i0 = index
</span><span class="marked1"><a name="line1264"></a>1264         i1, s1 = index, []
</span><span class="marked0"><a name="line1265"></a>1265         i2, s2 = index, []
</span><span class="marked1"><a name="line1266"></a>1266         r3 = _nt_alpha_char
</span><span class="marked0"><a name="line1267"></a>1267         s2 &lt;&lt; r3
</span><span class="marked1"><a name="line1268"></a>1268         if r3
</span><span class="marked0"><a name="line1269"></a>1269           s4, i4 = [], index
</span><span class="marked1"><a name="line1270"></a>1270           loop do
</span><span class="marked0"><a name="line1271"></a>1271             r5 = _nt_alphanumeric_char
</span><span class="marked1"><a name="line1272"></a>1272             if r5
</span><span class="marked0"><a name="line1273"></a>1273               s4 &lt;&lt; r5
</span><span class="inferred1"><a name="line1274"></a>1274             else
</span><span class="marked0"><a name="line1275"></a>1275               break
</span><span class="inferred1"><a name="line1276"></a>1276             end
</span><span class="inferred0"><a name="line1277"></a>1277           end
</span><span class="marked1"><a name="line1278"></a>1278           r4 = SyntaxNode.new(input, i4...index, s4)
</span><span class="marked0"><a name="line1279"></a>1279           s2 &lt;&lt; r4
</span><span class="inferred1"><a name="line1280"></a>1280         end
</span><span class="marked0"><a name="line1281"></a>1281         if s2.last
</span><span class="marked1"><a name="line1282"></a>1282           r2 = (SyntaxNode).new(input, i2...index, s2)
</span><span class="marked0"><a name="line1283"></a>1283           r2.extend(Label0)
</span><span class="inferred1"><a name="line1284"></a>1284         else
</span><span class="marked0"><a name="line1285"></a>1285           self.index = i2
</span><span class="marked1"><a name="line1286"></a>1286           r2 = nil
</span><span class="inferred0"><a name="line1287"></a>1287         end
</span><span class="marked1"><a name="line1288"></a>1288         s1 &lt;&lt; r2
</span><span class="marked0"><a name="line1289"></a>1289         if r2
</span><span class="marked1"><a name="line1290"></a>1290           if input.index(':', index) == index
</span><span class="marked0"><a name="line1291"></a>1291             r6 = (SyntaxNode).new(input, index...(index + 1))
</span><span class="marked1"><a name="line1292"></a>1292             @index += 1
</span><span class="inferred0"><a name="line1293"></a>1293           else
</span><span class="marked1"><a name="line1294"></a>1294             terminal_parse_failure(':')
</span><span class="marked0"><a name="line1295"></a>1295             r6 = nil
</span><span class="inferred1"><a name="line1296"></a>1296           end
</span><span class="marked0"><a name="line1297"></a>1297           s1 &lt;&lt; r6
</span><span class="inferred1"><a name="line1298"></a>1298         end
</span><span class="marked0"><a name="line1299"></a>1299         if s1.last
</span><span class="marked1"><a name="line1300"></a>1300           r1 = (SyntaxNode).new(input, i1...index, s1)
</span><span class="marked0"><a name="line1301"></a>1301           r1.extend(Label1)
</span><span class="marked1"><a name="line1302"></a>1302           r1.extend(Label2)
</span><span class="inferred0"><a name="line1303"></a>1303         else
</span><span class="marked1"><a name="line1304"></a>1304           self.index = i1
</span><span class="marked0"><a name="line1305"></a>1305           r1 = nil
</span><span class="inferred1"><a name="line1306"></a>1306         end
</span><span class="marked0"><a name="line1307"></a>1307         if r1
</span><span class="marked1"><a name="line1308"></a>1308           r0 = r1
</span><span class="inferred0"><a name="line1309"></a>1309         else
</span><span class="marked1"><a name="line1310"></a>1310           if input.index('', index) == index
</span><span class="marked0"><a name="line1311"></a>1311             r7 = (SyntaxNode).new(input, index...(index + 0))
</span><span class="marked1"><a name="line1312"></a>1312             r7.extend(Label3)
</span><span class="marked0"><a name="line1313"></a>1313             @index += 0
</span><span class="uncovered1"><a name="line1314"></a>1314           else
</span><span class="uncovered0"><a name="line1315"></a>1315             terminal_parse_failure('')
</span><span class="uncovered1"><a name="line1316"></a>1316             r7 = nil
</span><span class="uncovered0"><a name="line1317"></a>1317           end
</span><span class="marked1"><a name="line1318"></a>1318           if r7
</span><span class="marked0"><a name="line1319"></a>1319             r0 = r7
</span><span class="uncovered1"><a name="line1320"></a>1320           else
</span><span class="uncovered0"><a name="line1321"></a>1321             self.index = i0
</span><span class="uncovered1"><a name="line1322"></a>1322             r0 = nil
</span><span class="uncovered0"><a name="line1323"></a>1323           end
</span><span class="uncovered1"><a name="line1324"></a>1324         end
</span><span class="inferred0"><a name="line1325"></a>1325 
</span><span class="marked1"><a name="line1326"></a>1326         node_cache[:label][start_index] = r0
</span><span class="inferred0"><a name="line1327"></a>1327 
</span><span class="marked1"><a name="line1328"></a>1328         return r0
</span><span class="inferred0"><a name="line1329"></a>1329       end
</span><span class="inferred1"><a name="line1330"></a>1330 
</span><span class="marked0"><a name="line1331"></a>1331       module SequencePrimary0
</span><span class="marked1"><a name="line1332"></a>1332         def prefix
</span><span class="marked0"><a name="line1333"></a>1333           elements[0]
</span><span class="marked1"><a name="line1334"></a>1334         end
</span><span class="inferred0"><a name="line1335"></a>1335 
</span><span class="marked1"><a name="line1336"></a>1336         def atomic
</span><span class="marked0"><a name="line1337"></a>1337           elements[1]
</span><span class="marked1"><a name="line1338"></a>1338         end
</span><span class="inferred0"><a name="line1339"></a>1339       end
</span><span class="inferred1"><a name="line1340"></a>1340 
</span><span class="marked0"><a name="line1341"></a>1341       module SequencePrimary1
</span><span class="marked1"><a name="line1342"></a>1342         def compile(lexical_address, builder)
</span><span class="marked0"><a name="line1343"></a>1343           prefix.compile(lexical_address, builder, self)
</span><span class="marked1"><a name="line1344"></a>1344         end
</span><span class="inferred0"><a name="line1345"></a>1345     
</span><span class="marked1"><a name="line1346"></a>1346         def prefixed_expression
</span><span class="marked0"><a name="line1347"></a>1347           elements[1]
</span><span class="marked1"><a name="line1348"></a>1348         end
</span><span class="inferred0"><a name="line1349"></a>1349     
</span><span class="marked1"><a name="line1350"></a>1350         def inline_modules
</span><span class="marked0"><a name="line1351"></a>1351           atomic.inline_modules
</span><span class="marked1"><a name="line1352"></a>1352         end
</span><span class="inferred0"><a name="line1353"></a>1353     
</span><span class="marked1"><a name="line1354"></a>1354         def inline_module_name
</span><span class="uncovered0"><a name="line1355"></a>1355           nil
</span><span class="uncovered1"><a name="line1356"></a>1356         end
</span><span class="uncovered0"><a name="line1357"></a>1357       end
</span><span class="inferred1"><a name="line1358"></a>1358 
</span><span class="marked0"><a name="line1359"></a>1359       module SequencePrimary2
</span><span class="marked1"><a name="line1360"></a>1360         def atomic
</span><span class="marked0"><a name="line1361"></a>1361           elements[0]
</span><span class="marked1"><a name="line1362"></a>1362         end
</span><span class="inferred0"><a name="line1363"></a>1363 
</span><span class="marked1"><a name="line1364"></a>1364         def suffix
</span><span class="marked0"><a name="line1365"></a>1365           elements[1]
</span><span class="marked1"><a name="line1366"></a>1366         end
</span><span class="inferred0"><a name="line1367"></a>1367       end
</span><span class="inferred1"><a name="line1368"></a>1368 
</span><span class="marked0"><a name="line1369"></a>1369       module SequencePrimary3
</span><span class="marked1"><a name="line1370"></a>1370         def compile(lexical_address, builder)
</span><span class="marked0"><a name="line1371"></a>1371           suffix.compile(lexical_address, builder, self)
</span><span class="marked1"><a name="line1372"></a>1372         end
</span><span class="inferred0"><a name="line1373"></a>1373     
</span><span class="marked1"><a name="line1374"></a>1374         def node_class_name
</span><span class="marked0"><a name="line1375"></a>1375           nil
</span><span class="marked1"><a name="line1376"></a>1376         end
</span><span class="inferred0"><a name="line1377"></a>1377     
</span><span class="marked1"><a name="line1378"></a>1378         def inline_modules
</span><span class="marked0"><a name="line1379"></a>1379           atomic.inline_modules
</span><span class="marked1"><a name="line1380"></a>1380         end
</span><span class="inferred0"><a name="line1381"></a>1381     
</span><span class="marked1"><a name="line1382"></a>1382         def inline_module_name
</span><span class="marked0"><a name="line1383"></a>1383           nil
</span><span class="marked1"><a name="line1384"></a>1384         end
</span><span class="inferred0"><a name="line1385"></a>1385       end
</span><span class="inferred1"><a name="line1386"></a>1386 
</span><span class="marked0"><a name="line1387"></a>1387       def _nt_sequence_primary
</span><span class="marked1"><a name="line1388"></a>1388         start_index = index
</span><span class="marked0"><a name="line1389"></a>1389         if node_cache[:sequence_primary].has_key?(index)
</span><span class="uncovered1"><a name="line1390"></a>1390           cached = node_cache[:sequence_primary][index]
</span><span class="uncovered0"><a name="line1391"></a>1391           @index = cached.interval.end if cached
</span><span class="uncovered1"><a name="line1392"></a>1392           return cached
</span><span class="uncovered0"><a name="line1393"></a>1393         end
</span><span class="inferred1"><a name="line1394"></a>1394 
</span><span class="marked0"><a name="line1395"></a>1395         i0 = index
</span><span class="marked1"><a name="line1396"></a>1396         i1, s1 = index, []
</span><span class="marked0"><a name="line1397"></a>1397         r2 = _nt_prefix
</span><span class="marked1"><a name="line1398"></a>1398         s1 &lt;&lt; r2
</span><span class="marked0"><a name="line1399"></a>1399         if r2
</span><span class="marked1"><a name="line1400"></a>1400           r3 = _nt_atomic
</span><span class="marked0"><a name="line1401"></a>1401           s1 &lt;&lt; r3
</span><span class="inferred1"><a name="line1402"></a>1402         end
</span><span class="marked0"><a name="line1403"></a>1403         if s1.last
</span><span class="marked1"><a name="line1404"></a>1404           r1 = (SyntaxNode).new(input, i1...index, s1)
</span><span class="marked0"><a name="line1405"></a>1405           r1.extend(SequencePrimary0)
</span><span class="marked1"><a name="line1406"></a>1406           r1.extend(SequencePrimary1)
</span><span class="inferred0"><a name="line1407"></a>1407         else
</span><span class="marked1"><a name="line1408"></a>1408           self.index = i1
</span><span class="marked0"><a name="line1409"></a>1409           r1 = nil
</span><span class="inferred1"><a name="line1410"></a>1410         end
</span><span class="marked0"><a name="line1411"></a>1411         if r1
</span><span class="marked1"><a name="line1412"></a>1412           r0 = r1
</span><span class="inferred0"><a name="line1413"></a>1413         else
</span><span class="marked1"><a name="line1414"></a>1414           i4, s4 = index, []
</span><span class="marked0"><a name="line1415"></a>1415           r5 = _nt_atomic
</span><span class="marked1"><a name="line1416"></a>1416           s4 &lt;&lt; r5
</span><span class="marked0"><a name="line1417"></a>1417           if r5
</span><span class="marked1"><a name="line1418"></a>1418             r6 = _nt_suffix
</span><span class="marked0"><a name="line1419"></a>1419             s4 &lt;&lt; r6
</span><span class="inferred1"><a name="line1420"></a>1420           end
</span><span class="marked0"><a name="line1421"></a>1421           if s4.last
</span><span class="marked1"><a name="line1422"></a>1422             r4 = (SyntaxNode).new(input, i4...index, s4)
</span><span class="marked0"><a name="line1423"></a>1423             r4.extend(SequencePrimary2)
</span><span class="marked1"><a name="line1424"></a>1424             r4.extend(SequencePrimary3)
</span><span class="inferred0"><a name="line1425"></a>1425           else
</span><span class="marked1"><a name="line1426"></a>1426             self.index = i4
</span><span class="marked0"><a name="line1427"></a>1427             r4 = nil
</span><span class="inferred1"><a name="line1428"></a>1428           end
</span><span class="marked0"><a name="line1429"></a>1429           if r4
</span><span class="marked1"><a name="line1430"></a>1430             r0 = r4
</span><span class="inferred0"><a name="line1431"></a>1431           else
</span><span class="marked1"><a name="line1432"></a>1432             r7 = _nt_atomic
</span><span class="marked0"><a name="line1433"></a>1433             if r7
</span><span class="marked1"><a name="line1434"></a>1434               r0 = r7
</span><span class="inferred0"><a name="line1435"></a>1435             else
</span><span class="marked1"><a name="line1436"></a>1436               self.index = i0
</span><span class="marked0"><a name="line1437"></a>1437               r0 = nil
</span><span class="inferred1"><a name="line1438"></a>1438             end
</span><span class="inferred0"><a name="line1439"></a>1439           end
</span><span class="inferred1"><a name="line1440"></a>1440         end
</span><span class="inferred0"><a name="line1441"></a>1441 
</span><span class="marked1"><a name="line1442"></a>1442         node_cache[:sequence_primary][start_index] = r0
</span><span class="inferred0"><a name="line1443"></a>1443 
</span><span class="marked1"><a name="line1444"></a>1444         return r0
</span><span class="inferred0"><a name="line1445"></a>1445       end
</span><span class="inferred1"><a name="line1446"></a>1446 
</span><span class="marked0"><a name="line1447"></a>1447       def _nt_suffix
</span><span class="marked1"><a name="line1448"></a>1448         start_index = index
</span><span class="marked0"><a name="line1449"></a>1449         if node_cache[:suffix].has_key?(index)
</span><span class="marked1"><a name="line1450"></a>1450           cached = node_cache[:suffix][index]
</span><span class="marked0"><a name="line1451"></a>1451           @index = cached.interval.end if cached
</span><span class="marked1"><a name="line1452"></a>1452           return cached
</span><span class="inferred0"><a name="line1453"></a>1453         end
</span><span class="inferred1"><a name="line1454"></a>1454 
</span><span class="marked0"><a name="line1455"></a>1455         i0 = index
</span><span class="marked1"><a name="line1456"></a>1456         r1 = _nt_repetition_suffix
</span><span class="marked0"><a name="line1457"></a>1457         if r1
</span><span class="marked1"><a name="line1458"></a>1458           r0 = r1
</span><span class="inferred0"><a name="line1459"></a>1459         else
</span><span class="marked1"><a name="line1460"></a>1460           r2 = _nt_optional_suffix
</span><span class="marked0"><a name="line1461"></a>1461           if r2
</span><span class="marked1"><a name="line1462"></a>1462             r0 = r2
</span><span class="inferred0"><a name="line1463"></a>1463           else
</span><span class="marked1"><a name="line1464"></a>1464             self.index = i0
</span><span class="marked0"><a name="line1465"></a>1465             r0 = nil
</span><span class="inferred1"><a name="line1466"></a>1466           end
</span><span class="inferred0"><a name="line1467"></a>1467         end
</span><span class="inferred1"><a name="line1468"></a>1468 
</span><span class="marked0"><a name="line1469"></a>1469         node_cache[:suffix][start_index] = r0
</span><span class="inferred1"><a name="line1470"></a>1470 
</span><span class="marked0"><a name="line1471"></a>1471         return r0
</span><span class="inferred1"><a name="line1472"></a>1472       end
</span><span class="inferred0"><a name="line1473"></a>1473 
</span><span class="marked1"><a name="line1474"></a>1474       def _nt_optional_suffix
</span><span class="marked0"><a name="line1475"></a>1475         start_index = index
</span><span class="marked1"><a name="line1476"></a>1476         if node_cache[:optional_suffix].has_key?(index)
</span><span class="uncovered0"><a name="line1477"></a>1477           cached = node_cache[:optional_suffix][index]
</span><span class="uncovered1"><a name="line1478"></a>1478           @index = cached.interval.end if cached
</span><span class="uncovered0"><a name="line1479"></a>1479           return cached
</span><span class="uncovered1"><a name="line1480"></a>1480         end
</span><span class="inferred0"><a name="line1481"></a>1481 
</span><span class="marked1"><a name="line1482"></a>1482         if input.index('?', index) == index
</span><span class="marked0"><a name="line1483"></a>1483           r0 = (Optional).new(input, index...(index + 1))
</span><span class="marked1"><a name="line1484"></a>1484           @index += 1
</span><span class="inferred0"><a name="line1485"></a>1485         else
</span><span class="marked1"><a name="line1486"></a>1486           terminal_parse_failure('?')
</span><span class="marked0"><a name="line1487"></a>1487           r0 = nil
</span><span class="inferred1"><a name="line1488"></a>1488         end
</span><span class="inferred0"><a name="line1489"></a>1489 
</span><span class="marked1"><a name="line1490"></a>1490         node_cache[:optional_suffix][start_index] = r0
</span><span class="inferred0"><a name="line1491"></a>1491 
</span><span class="marked1"><a name="line1492"></a>1492         return r0
</span><span class="inferred0"><a name="line1493"></a>1493       end
</span><span class="inferred1"><a name="line1494"></a>1494 
</span><span class="marked0"><a name="line1495"></a>1495       module NodeClassDeclarations0
</span><span class="marked1"><a name="line1496"></a>1496         def node_class_expression
</span><span class="marked0"><a name="line1497"></a>1497           elements[0]
</span><span class="marked1"><a name="line1498"></a>1498         end
</span><span class="inferred0"><a name="line1499"></a>1499 
</span><span class="marked1"><a name="line1500"></a>1500         def trailing_inline_module
</span><span class="marked0"><a name="line1501"></a>1501           elements[1]
</span><span class="marked1"><a name="line1502"></a>1502         end
</span><span class="inferred0"><a name="line1503"></a>1503       end
</span><span class="inferred1"><a name="line1504"></a>1504 
</span><span class="marked0"><a name="line1505"></a>1505       module NodeClassDeclarations1
</span><span class="marked1"><a name="line1506"></a>1506         def node_class_name
</span><span class="marked0"><a name="line1507"></a>1507           node_class_expression.node_class_name
</span><span class="marked1"><a name="line1508"></a>1508         end
</span><span class="inferred0"><a name="line1509"></a>1509     
</span><span class="marked1"><a name="line1510"></a>1510         def inline_modules
</span><span class="marked0"><a name="line1511"></a>1511           trailing_inline_module.inline_modules
</span><span class="marked1"><a name="line1512"></a>1512         end
</span><span class="inferred0"><a name="line1513"></a>1513     
</span><span class="marked1"><a name="line1514"></a>1514         def inline_module
</span><span class="marked0"><a name="line1515"></a>1515           trailing_inline_module.inline_module
</span><span class="marked1"><a name="line1516"></a>1516         end
</span><span class="inferred0"><a name="line1517"></a>1517     
</span><span class="marked1"><a name="line1518"></a>1518         def inline_module_name
</span><span class="marked0"><a name="line1519"></a>1519           inline_module.module_name if inline_module
</span><span class="marked1"><a name="line1520"></a>1520         end
</span><span class="inferred0"><a name="line1521"></a>1521       end
</span><span class="inferred1"><a name="line1522"></a>1522 
</span><span class="marked0"><a name="line1523"></a>1523       def _nt_node_class_declarations
</span><span class="marked1"><a name="line1524"></a>1524         start_index = index
</span><span class="marked0"><a name="line1525"></a>1525         if node_cache[:node_class_declarations].has_key?(index)
</span><span class="uncovered1"><a name="line1526"></a>1526           cached = node_cache[:node_class_declarations][index]
</span><span class="uncovered0"><a name="line1527"></a>1527           @index = cached.interval.end if cached
</span><span class="uncovered1"><a name="line1528"></a>1528           return cached
</span><span class="uncovered0"><a name="line1529"></a>1529         end
</span><span class="inferred1"><a name="line1530"></a>1530 
</span><span class="marked0"><a name="line1531"></a>1531         i0, s0 = index, []
</span><span class="marked1"><a name="line1532"></a>1532         r1 = _nt_node_class_expression
</span><span class="marked0"><a name="line1533"></a>1533         s0 &lt;&lt; r1
</span><span class="marked1"><a name="line1534"></a>1534         if r1
</span><span class="marked0"><a name="line1535"></a>1535           r2 = _nt_trailing_inline_module
</span><span class="marked1"><a name="line1536"></a>1536           s0 &lt;&lt; r2
</span><span class="inferred0"><a name="line1537"></a>1537         end
</span><span class="marked1"><a name="line1538"></a>1538         if s0.last
</span><span class="marked0"><a name="line1539"></a>1539           r0 = (SyntaxNode).new(input, i0...index, s0)
</span><span class="marked1"><a name="line1540"></a>1540           r0.extend(NodeClassDeclarations0)
</span><span class="marked0"><a name="line1541"></a>1541           r0.extend(NodeClassDeclarations1)
</span><span class="uncovered1"><a name="line1542"></a>1542         else
</span><span class="uncovered0"><a name="line1543"></a>1543           self.index = i0
</span><span class="uncovered1"><a name="line1544"></a>1544           r0 = nil
</span><span class="uncovered0"><a name="line1545"></a>1545         end
</span><span class="inferred1"><a name="line1546"></a>1546 
</span><span class="marked0"><a name="line1547"></a>1547         node_cache[:node_class_declarations][start_index] = r0
</span><span class="inferred1"><a name="line1548"></a>1548 
</span><span class="marked0"><a name="line1549"></a>1549         return r0
</span><span class="inferred1"><a name="line1550"></a>1550       end
</span><span class="inferred0"><a name="line1551"></a>1551 
</span><span class="marked1"><a name="line1552"></a>1552       def _nt_repetition_suffix
</span><span class="marked0"><a name="line1553"></a>1553         start_index = index
</span><span class="marked1"><a name="line1554"></a>1554         if node_cache[:repetition_suffix].has_key?(index)
</span><span class="uncovered0"><a name="line1555"></a>1555           cached = node_cache[:repetition_suffix][index]
</span><span class="uncovered1"><a name="line1556"></a>1556           @index = cached.interval.end if cached
</span><span class="uncovered0"><a name="line1557"></a>1557           return cached
</span><span class="uncovered1"><a name="line1558"></a>1558         end
</span><span class="inferred0"><a name="line1559"></a>1559 
</span><span class="marked1"><a name="line1560"></a>1560         i0 = index
</span><span class="marked0"><a name="line1561"></a>1561         if input.index('+', index) == index
</span><span class="marked1"><a name="line1562"></a>1562           r1 = (OneOrMore).new(input, index...(index + 1))
</span><span class="marked0"><a name="line1563"></a>1563           @index += 1
</span><span class="inferred1"><a name="line1564"></a>1564         else
</span><span class="marked0"><a name="line1565"></a>1565           terminal_parse_failure('+')
</span><span class="marked1"><a name="line1566"></a>1566           r1 = nil
</span><span class="inferred0"><a name="line1567"></a>1567         end
</span><span class="marked1"><a name="line1568"></a>1568         if r1
</span><span class="marked0"><a name="line1569"></a>1569           r0 = r1
</span><span class="inferred1"><a name="line1570"></a>1570         else
</span><span class="marked0"><a name="line1571"></a>1571           if input.index('*', index) == index
</span><span class="marked1"><a name="line1572"></a>1572             r2 = (ZeroOrMore).new(input, index...(index + 1))
</span><span class="marked0"><a name="line1573"></a>1573             @index += 1
</span><span class="inferred1"><a name="line1574"></a>1574           else
</span><span class="marked0"><a name="line1575"></a>1575             terminal_parse_failure('*')
</span><span class="marked1"><a name="line1576"></a>1576             r2 = nil
</span><span class="inferred0"><a name="line1577"></a>1577           end
</span><span class="marked1"><a name="line1578"></a>1578           if r2
</span><span class="marked0"><a name="line1579"></a>1579             r0 = r2
</span><span class="inferred1"><a name="line1580"></a>1580           else
</span><span class="marked0"><a name="line1581"></a>1581             self.index = i0
</span><span class="marked1"><a name="line1582"></a>1582             r0 = nil
</span><span class="inferred0"><a name="line1583"></a>1583           end
</span><span class="inferred1"><a name="line1584"></a>1584         end
</span><span class="inferred0"><a name="line1585"></a>1585 
</span><span class="marked1"><a name="line1586"></a>1586         node_cache[:repetition_suffix][start_index] = r0
</span><span class="inferred0"><a name="line1587"></a>1587 
</span><span class="marked1"><a name="line1588"></a>1588         return r0
</span><span class="inferred0"><a name="line1589"></a>1589       end
</span><span class="inferred1"><a name="line1590"></a>1590 
</span><span class="marked0"><a name="line1591"></a>1591       def _nt_prefix
</span><span class="marked1"><a name="line1592"></a>1592         start_index = index
</span><span class="marked0"><a name="line1593"></a>1593         if node_cache[:prefix].has_key?(index)
</span><span class="marked1"><a name="line1594"></a>1594           cached = node_cache[:prefix][index]
</span><span class="marked0"><a name="line1595"></a>1595           @index = cached.interval.end if cached
</span><span class="marked1"><a name="line1596"></a>1596           return cached
</span><span class="inferred0"><a name="line1597"></a>1597         end
</span><span class="inferred1"><a name="line1598"></a>1598 
</span><span class="marked0"><a name="line1599"></a>1599         i0 = index
</span><span class="marked1"><a name="line1600"></a>1600         if input.index('&amp;', index) == index
</span><span class="uncovered0"><a name="line1601"></a>1601           r1 = (AndPredicate).new(input, index...(index + 1))
</span><span class="uncovered1"><a name="line1602"></a>1602           @index += 1
</span><span class="inferred0"><a name="line1603"></a>1603         else
</span><span class="marked1"><a name="line1604"></a>1604           terminal_parse_failure('&amp;')
</span><span class="marked0"><a name="line1605"></a>1605           r1 = nil
</span><span class="inferred1"><a name="line1606"></a>1606         end
</span><span class="marked0"><a name="line1607"></a>1607         if r1
</span><span class="uncovered1"><a name="line1608"></a>1608           r0 = r1
</span><span class="inferred0"><a name="line1609"></a>1609         else
</span><span class="marked1"><a name="line1610"></a>1610           if input.index('!', index) == index
</span><span class="marked0"><a name="line1611"></a>1611             r2 = (NotPredicate).new(input, index...(index + 1))
</span><span class="marked1"><a name="line1612"></a>1612             @index += 1
</span><span class="inferred0"><a name="line1613"></a>1613           else
</span><span class="marked1"><a name="line1614"></a>1614             terminal_parse_failure('!')
</span><span class="marked0"><a name="line1615"></a>1615             r2 = nil
</span><span class="inferred1"><a name="line1616"></a>1616           end
</span><span class="marked0"><a name="line1617"></a>1617           if r2
</span><span class="marked1"><a name="line1618"></a>1618             r0 = r2
</span><span class="inferred0"><a name="line1619"></a>1619           else
</span><span class="marked1"><a name="line1620"></a>1620             if input.index('~', index) == index
</span><span class="uncovered0"><a name="line1621"></a>1621               r3 = (TransientPrefix).new(input, index...(index + 1))
</span><span class="uncovered1"><a name="line1622"></a>1622               @index += 1
</span><span class="inferred0"><a name="line1623"></a>1623             else
</span><span class="marked1"><a name="line1624"></a>1624               terminal_parse_failure('~')
</span><span class="marked0"><a name="line1625"></a>1625               r3 = nil
</span><span class="inferred1"><a name="line1626"></a>1626             end
</span><span class="marked0"><a name="line1627"></a>1627             if r3
</span><span class="uncovered1"><a name="line1628"></a>1628               r0 = r3
</span><span class="inferred0"><a name="line1629"></a>1629             else
</span><span class="marked1"><a name="line1630"></a>1630               self.index = i0
</span><span class="marked0"><a name="line1631"></a>1631               r0 = nil
</span><span class="inferred1"><a name="line1632"></a>1632             end
</span><span class="inferred0"><a name="line1633"></a>1633           end
</span><span class="inferred1"><a name="line1634"></a>1634         end
</span><span class="inferred0"><a name="line1635"></a>1635 
</span><span class="marked1"><a name="line1636"></a>1636         node_cache[:prefix][start_index] = r0
</span><span class="inferred0"><a name="line1637"></a>1637 
</span><span class="marked1"><a name="line1638"></a>1638         return r0
</span><span class="inferred0"><a name="line1639"></a>1639       end
</span><span class="inferred1"><a name="line1640"></a>1640 
</span><span class="marked0"><a name="line1641"></a>1641       def _nt_atomic
</span><span class="marked1"><a name="line1642"></a>1642         start_index = index
</span><span class="marked0"><a name="line1643"></a>1643         if node_cache[:atomic].has_key?(index)
</span><span class="marked1"><a name="line1644"></a>1644           cached = node_cache[:atomic][index]
</span><span class="marked0"><a name="line1645"></a>1645           @index = cached.interval.end if cached
</span><span class="marked1"><a name="line1646"></a>1646           return cached
</span><span class="inferred0"><a name="line1647"></a>1647         end
</span><span class="inferred1"><a name="line1648"></a>1648 
</span><span class="marked0"><a name="line1649"></a>1649         i0 = index
</span><span class="marked1"><a name="line1650"></a>1650         r1 = _nt_terminal
</span><span class="marked0"><a name="line1651"></a>1651         if r1
</span><span class="marked1"><a name="line1652"></a>1652           r0 = r1
</span><span class="inferred0"><a name="line1653"></a>1653         else
</span><span class="marked1"><a name="line1654"></a>1654           r2 = _nt_nonterminal
</span><span class="marked0"><a name="line1655"></a>1655           if r2
</span><span class="marked1"><a name="line1656"></a>1656             r0 = r2
</span><span class="inferred0"><a name="line1657"></a>1657           else
</span><span class="marked1"><a name="line1658"></a>1658             r3 = _nt_parenthesized_expression
</span><span class="marked0"><a name="line1659"></a>1659             if r3
</span><span class="marked1"><a name="line1660"></a>1660               r0 = r3
</span><span class="inferred0"><a name="line1661"></a>1661             else
</span><span class="marked1"><a name="line1662"></a>1662               self.index = i0
</span><span class="marked0"><a name="line1663"></a>1663               r0 = nil
</span><span class="inferred1"><a name="line1664"></a>1664             end
</span><span class="inferred0"><a name="line1665"></a>1665           end
</span><span class="inferred1"><a name="line1666"></a>1666         end
</span><span class="inferred0"><a name="line1667"></a>1667 
</span><span class="marked1"><a name="line1668"></a>1668         node_cache[:atomic][start_index] = r0
</span><span class="inferred0"><a name="line1669"></a>1669 
</span><span class="marked1"><a name="line1670"></a>1670         return r0
</span><span class="inferred0"><a name="line1671"></a>1671       end
</span><span class="inferred1"><a name="line1672"></a>1672 
</span><span class="marked0"><a name="line1673"></a>1673       module ParenthesizedExpression0
</span><span class="marked1"><a name="line1674"></a>1674         def parsing_expression
</span><span class="marked0"><a name="line1675"></a>1675           elements[2]
</span><span class="marked1"><a name="line1676"></a>1676         end
</span><span class="inferred0"><a name="line1677"></a>1677 
</span><span class="inferred1"><a name="line1678"></a>1678       end
</span><span class="inferred0"><a name="line1679"></a>1679 
</span><span class="marked1"><a name="line1680"></a>1680       module ParenthesizedExpression1
</span><span class="marked0"><a name="line1681"></a>1681         def inline_modules
</span><span class="marked1"><a name="line1682"></a>1682           parsing_expression.inline_modules
</span><span class="marked0"><a name="line1683"></a>1683         end
</span><span class="inferred1"><a name="line1684"></a>1684       end
</span><span class="inferred0"><a name="line1685"></a>1685 
</span><span class="marked1"><a name="line1686"></a>1686       def _nt_parenthesized_expression
</span><span class="marked0"><a name="line1687"></a>1687         start_index = index
</span><span class="marked1"><a name="line1688"></a>1688         if node_cache[:parenthesized_expression].has_key?(index)
</span><span class="uncovered0"><a name="line1689"></a>1689           cached = node_cache[:parenthesized_expression][index]
</span><span class="uncovered1"><a name="line1690"></a>1690           @index = cached.interval.end if cached
</span><span class="uncovered0"><a name="line1691"></a>1691           return cached
</span><span class="uncovered1"><a name="line1692"></a>1692         end
</span><span class="inferred0"><a name="line1693"></a>1693 
</span><span class="marked1"><a name="line1694"></a>1694         i0, s0 = index, []
</span><span class="marked0"><a name="line1695"></a>1695         if input.index('(', index) == index
</span><span class="marked1"><a name="line1696"></a>1696           r1 = (SyntaxNode).new(input, index...(index + 1))
</span><span class="marked0"><a name="line1697"></a>1697           @index += 1
</span><span class="inferred1"><a name="line1698"></a>1698         else
</span><span class="marked0"><a name="line1699"></a>1699           terminal_parse_failure('(')
</span><span class="marked1"><a name="line1700"></a>1700           r1 = nil
</span><span class="inferred0"><a name="line1701"></a>1701         end
</span><span class="marked1"><a name="line1702"></a>1702         s0 &lt;&lt; r1
</span><span class="marked0"><a name="line1703"></a>1703         if r1
</span><span class="marked1"><a name="line1704"></a>1704           r3 = _nt_space
</span><span class="marked0"><a name="line1705"></a>1705           if r3
</span><span class="uncovered1"><a name="line1706"></a>1706             r2 = r3
</span><span class="inferred0"><a name="line1707"></a>1707           else
</span><span class="marked1"><a name="line1708"></a>1708             r2 = SyntaxNode.new(input, index...index)
</span><span class="inferred0"><a name="line1709"></a>1709           end
</span><span class="marked1"><a name="line1710"></a>1710           s0 &lt;&lt; r2
</span><span class="marked0"><a name="line1711"></a>1711           if r2
</span><span class="marked1"><a name="line1712"></a>1712             r4 = _nt_parsing_expression
</span><span class="marked0"><a name="line1713"></a>1713             s0 &lt;&lt; r4
</span><span class="marked1"><a name="line1714"></a>1714             if r4
</span><span class="marked0"><a name="line1715"></a>1715               r6 = _nt_space
</span><span class="marked1"><a name="line1716"></a>1716               if r6
</span><span class="marked0"><a name="line1717"></a>1717                 r5 = r6
</span><span class="inferred1"><a name="line1718"></a>1718               else
</span><span class="marked0"><a name="line1719"></a>1719                 r5 = SyntaxNode.new(input, index...index)
</span><span class="inferred1"><a name="line1720"></a>1720               end
</span><span class="marked0"><a name="line1721"></a>1721               s0 &lt;&lt; r5
</span><span class="marked1"><a name="line1722"></a>1722               if r5
</span><span class="marked0"><a name="line1723"></a>1723                 if input.index(')', index) == index
</span><span class="marked1"><a name="line1724"></a>1724                   r7 = (SyntaxNode).new(input, index...(index + 1))
</span><span class="marked0"><a name="line1725"></a>1725                   @index += 1
</span><span class="uncovered1"><a name="line1726"></a>1726                 else
</span><span class="uncovered0"><a name="line1727"></a>1727                   terminal_parse_failure(')')
</span><span class="uncovered1"><a name="line1728"></a>1728                   r7 = nil
</span><span class="uncovered0"><a name="line1729"></a>1729                 end
</span><span class="marked1"><a name="line1730"></a>1730                 s0 &lt;&lt; r7
</span><span class="inferred0"><a name="line1731"></a>1731               end
</span><span class="inferred1"><a name="line1732"></a>1732             end
</span><span class="inferred0"><a name="line1733"></a>1733           end
</span><span class="inferred1"><a name="line1734"></a>1734         end
</span><span class="marked0"><a name="line1735"></a>1735         if s0.last
</span><span class="marked1"><a name="line1736"></a>1736           r0 = (ParenthesizedExpression).new(input, i0...index, s0)
</span><span class="marked0"><a name="line1737"></a>1737           r0.extend(ParenthesizedExpression0)
</span><span class="marked1"><a name="line1738"></a>1738           r0.extend(ParenthesizedExpression1)
</span><span class="inferred0"><a name="line1739"></a>1739         else
</span><span class="marked1"><a name="line1740"></a>1740           self.index = i0
</span><span class="marked0"><a name="line1741"></a>1741           r0 = nil
</span><span class="inferred1"><a name="line1742"></a>1742         end
</span><span class="inferred0"><a name="line1743"></a>1743 
</span><span class="marked1"><a name="line1744"></a>1744         node_cache[:parenthesized_expression][start_index] = r0
</span><span class="inferred0"><a name="line1745"></a>1745 
</span><span class="marked1"><a name="line1746"></a>1746         return r0
</span><span class="inferred0"><a name="line1747"></a>1747       end
</span><span class="inferred1"><a name="line1748"></a>1748 
</span><span class="marked0"><a name="line1749"></a>1749       module Nonterminal0
</span><span class="marked1"><a name="line1750"></a>1750         def alpha_char
</span><span class="uncovered0"><a name="line1751"></a>1751           elements[0]
</span><span class="uncovered1"><a name="line1752"></a>1752         end
</span><span class="uncovered0"><a name="line1753"></a>1753 
</span><span class="uncovered1"><a name="line1754"></a>1754       end
</span><span class="inferred0"><a name="line1755"></a>1755 
</span><span class="marked1"><a name="line1756"></a>1756       module Nonterminal1
</span><span class="inferred0"><a name="line1757"></a>1757       end
</span><span class="inferred1"><a name="line1758"></a>1758 
</span><span class="marked0"><a name="line1759"></a>1759       def _nt_nonterminal
</span><span class="marked1"><a name="line1760"></a>1760         start_index = index
</span><span class="marked0"><a name="line1761"></a>1761         if node_cache[:nonterminal].has_key?(index)
</span><span class="uncovered1"><a name="line1762"></a>1762           cached = node_cache[:nonterminal][index]
</span><span class="uncovered0"><a name="line1763"></a>1763           @index = cached.interval.end if cached
</span><span class="uncovered1"><a name="line1764"></a>1764           return cached
</span><span class="uncovered0"><a name="line1765"></a>1765         end
</span><span class="inferred1"><a name="line1766"></a>1766 
</span><span class="marked0"><a name="line1767"></a>1767         i0, s0 = index, []
</span><span class="marked1"><a name="line1768"></a>1768         i1 = index
</span><span class="marked0"><a name="line1769"></a>1769         r2 = _nt_keyword_inside_grammar
</span><span class="marked1"><a name="line1770"></a>1770         if r2
</span><span class="marked0"><a name="line1771"></a>1771           r1 = nil
</span><span class="inferred1"><a name="line1772"></a>1772         else
</span><span class="marked0"><a name="line1773"></a>1773           self.index = i1
</span><span class="marked1"><a name="line1774"></a>1774           r1 = SyntaxNode.new(input, index...index)
</span><span class="inferred0"><a name="line1775"></a>1775         end
</span><span class="marked1"><a name="line1776"></a>1776         s0 &lt;&lt; r1
</span><span class="marked0"><a name="line1777"></a>1777         if r1
</span><span class="marked1"><a name="line1778"></a>1778           i3, s3 = index, []
</span><span class="marked0"><a name="line1779"></a>1779           r4 = _nt_alpha_char
</span><span class="marked1"><a name="line1780"></a>1780           s3 &lt;&lt; r4
</span><span class="marked0"><a name="line1781"></a>1781           if r4
</span><span class="marked1"><a name="line1782"></a>1782             s5, i5 = [], index
</span><span class="marked0"><a name="line1783"></a>1783             loop do
</span><span class="marked1"><a name="line1784"></a>1784               r6 = _nt_alphanumeric_char
</span><span class="marked0"><a name="line1785"></a>1785               if r6
</span><span class="marked1"><a name="line1786"></a>1786                 s5 &lt;&lt; r6
</span><span class="inferred0"><a name="line1787"></a>1787               else
</span><span class="marked1"><a name="line1788"></a>1788                 break
</span><span class="inferred0"><a name="line1789"></a>1789               end
</span><span class="inferred1"><a name="line1790"></a>1790             end
</span><span class="marked0"><a name="line1791"></a>1791             r5 = SyntaxNode.new(input, i5...index, s5)
</span><span class="marked1"><a name="line1792"></a>1792             s3 &lt;&lt; r5
</span><span class="inferred0"><a name="line1793"></a>1793           end
</span><span class="marked1"><a name="line1794"></a>1794           if s3.last
</span><span class="marked0"><a name="line1795"></a>1795             r3 = (SyntaxNode).new(input, i3...index, s3)
</span><span class="marked1"><a name="line1796"></a>1796             r3.extend(Nonterminal0)
</span><span class="inferred0"><a name="line1797"></a>1797           else
</span><span class="marked1"><a name="line1798"></a>1798             self.index = i3
</span><span class="marked0"><a name="line1799"></a>1799             r3 = nil
</span><span class="inferred1"><a name="line1800"></a>1800           end
</span><span class="marked0"><a name="line1801"></a>1801           s0 &lt;&lt; r3
</span><span class="inferred1"><a name="line1802"></a>1802         end
</span><span class="marked0"><a name="line1803"></a>1803         if s0.last
</span><span class="marked1"><a name="line1804"></a>1804           r0 = (Nonterminal).new(input, i0...index, s0)
</span><span class="marked0"><a name="line1805"></a>1805           r0.extend(Nonterminal1)
</span><span class="inferred1"><a name="line1806"></a>1806         else
</span><span class="marked0"><a name="line1807"></a>1807           self.index = i0
</span><span class="marked1"><a name="line1808"></a>1808           r0 = nil
</span><span class="inferred0"><a name="line1809"></a>1809         end
</span><span class="inferred1"><a name="line1810"></a>1810 
</span><span class="marked0"><a name="line1811"></a>1811         node_cache[:nonterminal][start_index] = r0
</span><span class="inferred1"><a name="line1812"></a>1812 
</span><span class="marked0"><a name="line1813"></a>1813         return r0
</span><span class="inferred1"><a name="line1814"></a>1814       end
</span><span class="inferred0"><a name="line1815"></a>1815 
</span><span class="marked1"><a name="line1816"></a>1816       def _nt_terminal
</span><span class="marked0"><a name="line1817"></a>1817         start_index = index
</span><span class="marked1"><a name="line1818"></a>1818         if node_cache[:terminal].has_key?(index)
</span><span class="uncovered0"><a name="line1819"></a>1819           cached = node_cache[:terminal][index]
</span><span class="uncovered1"><a name="line1820"></a>1820           @index = cached.interval.end if cached
</span><span class="uncovered0"><a name="line1821"></a>1821           return cached
</span><span class="uncovered1"><a name="line1822"></a>1822         end
</span><span class="inferred0"><a name="line1823"></a>1823 
</span><span class="marked1"><a name="line1824"></a>1824         i0 = index
</span><span class="marked0"><a name="line1825"></a>1825         r1 = _nt_quoted_string
</span><span class="marked1"><a name="line1826"></a>1826         if r1
</span><span class="marked0"><a name="line1827"></a>1827           r0 = r1
</span><span class="inferred1"><a name="line1828"></a>1828         else
</span><span class="marked0"><a name="line1829"></a>1829           r2 = _nt_character_class
</span><span class="marked1"><a name="line1830"></a>1830           if r2
</span><span class="marked0"><a name="line1831"></a>1831             r0 = r2
</span><span class="inferred1"><a name="line1832"></a>1832           else
</span><span class="marked0"><a name="line1833"></a>1833             r3 = _nt_anything_symbol
</span><span class="marked1"><a name="line1834"></a>1834             if r3
</span><span class="marked0"><a name="line1835"></a>1835               r0 = r3
</span><span class="inferred1"><a name="line1836"></a>1836             else
</span><span class="marked0"><a name="line1837"></a>1837               self.index = i0
</span><span class="marked1"><a name="line1838"></a>1838               r0 = nil
</span><span class="inferred0"><a name="line1839"></a>1839             end
</span><span class="inferred1"><a name="line1840"></a>1840           end
</span><span class="inferred0"><a name="line1841"></a>1841         end
</span><span class="inferred1"><a name="line1842"></a>1842 
</span><span class="marked0"><a name="line1843"></a>1843         node_cache[:terminal][start_index] = r0
</span><span class="inferred1"><a name="line1844"></a>1844 
</span><span class="marked0"><a name="line1845"></a>1845         return r0
</span><span class="inferred1"><a name="line1846"></a>1846       end
</span><span class="inferred0"><a name="line1847"></a>1847 
</span><span class="marked1"><a name="line1848"></a>1848       module QuotedString0
</span><span class="marked0"><a name="line1849"></a>1849         def string
</span><span class="uncovered1"><a name="line1850"></a>1850           super.text_value
</span><span class="uncovered0"><a name="line1851"></a>1851         end
</span><span class="uncovered1"><a name="line1852"></a>1852       end
</span><span class="inferred0"><a name="line1853"></a>1853 
</span><span class="marked1"><a name="line1854"></a>1854       def _nt_quoted_string
</span><span class="marked0"><a name="line1855"></a>1855         start_index = index
</span><span class="marked1"><a name="line1856"></a>1856         if node_cache[:quoted_string].has_key?(index)
</span><span class="uncovered0"><a name="line1857"></a>1857           cached = node_cache[:quoted_string][index]
</span><span class="uncovered1"><a name="line1858"></a>1858           @index = cached.interval.end if cached
</span><span class="uncovered0"><a name="line1859"></a>1859           return cached
</span><span class="uncovered1"><a name="line1860"></a>1860         end
</span><span class="inferred0"><a name="line1861"></a>1861 
</span><span class="marked1"><a name="line1862"></a>1862         i0 = index
</span><span class="marked0"><a name="line1863"></a>1863         r1 = _nt_single_quoted_string
</span><span class="marked1"><a name="line1864"></a>1864         if r1
</span><span class="marked0"><a name="line1865"></a>1865           r0 = r1
</span><span class="marked1"><a name="line1866"></a>1866           r0.extend(QuotedString0)
</span><span class="inferred0"><a name="line1867"></a>1867         else
</span><span class="marked1"><a name="line1868"></a>1868           r2 = _nt_double_quoted_string
</span><span class="marked0"><a name="line1869"></a>1869           if r2
</span><span class="marked1"><a name="line1870"></a>1870             r0 = r2
</span><span class="marked0"><a name="line1871"></a>1871             r0.extend(QuotedString0)
</span><span class="inferred1"><a name="line1872"></a>1872           else
</span><span class="marked0"><a name="line1873"></a>1873             self.index = i0
</span><span class="marked1"><a name="line1874"></a>1874             r0 = nil
</span><span class="inferred0"><a name="line1875"></a>1875           end
</span><span class="inferred1"><a name="line1876"></a>1876         end
</span><span class="inferred0"><a name="line1877"></a>1877 
</span><span class="marked1"><a name="line1878"></a>1878         node_cache[:quoted_string][start_index] = r0
</span><span class="inferred0"><a name="line1879"></a>1879 
</span><span class="marked1"><a name="line1880"></a>1880         return r0
</span><span class="inferred0"><a name="line1881"></a>1881       end
</span><span class="inferred1"><a name="line1882"></a>1882 
</span><span class="marked0"><a name="line1883"></a>1883       module DoubleQuotedString0
</span><span class="inferred1"><a name="line1884"></a>1884       end
</span><span class="inferred0"><a name="line1885"></a>1885 
</span><span class="marked1"><a name="line1886"></a>1886       module DoubleQuotedString1
</span><span class="marked0"><a name="line1887"></a>1887         def string
</span><span class="uncovered1"><a name="line1888"></a>1888           elements[1]
</span><span class="uncovered0"><a name="line1889"></a>1889         end
</span><span class="uncovered1"><a name="line1890"></a>1890 
</span><span class="uncovered0"><a name="line1891"></a>1891       end
</span><span class="inferred1"><a name="line1892"></a>1892 
</span><span class="marked0"><a name="line1893"></a>1893       def _nt_double_quoted_string
</span><span class="marked1"><a name="line1894"></a>1894         start_index = index
</span><span class="marked0"><a name="line1895"></a>1895         if node_cache[:double_quoted_string].has_key?(index)
</span><span class="uncovered1"><a name="line1896"></a>1896           cached = node_cache[:double_quoted_string][index]
</span><span class="uncovered0"><a name="line1897"></a>1897           @index = cached.interval.end if cached
</span><span class="uncovered1"><a name="line1898"></a>1898           return cached
</span><span class="uncovered0"><a name="line1899"></a>1899         end
</span><span class="inferred1"><a name="line1900"></a>1900 
</span><span class="marked0"><a name="line1901"></a>1901         i0, s0 = index, []
</span><span class="marked1"><a name="line1902"></a>1902         if input.index('&quot;', index) == index
</span><span class="marked0"><a name="line1903"></a>1903           r1 = (SyntaxNode).new(input, index...(index + 1))
</span><span class="marked1"><a name="line1904"></a>1904           @index += 1
</span><span class="inferred0"><a name="line1905"></a>1905         else
</span><span class="marked1"><a name="line1906"></a>1906           terminal_parse_failure('&quot;')
</span><span class="marked0"><a name="line1907"></a>1907           r1 = nil
</span><span class="inferred1"><a name="line1908"></a>1908         end
</span><span class="marked0"><a name="line1909"></a>1909         s0 &lt;&lt; r1
</span><span class="marked1"><a name="line1910"></a>1910         if r1
</span><span class="marked0"><a name="line1911"></a>1911           s2, i2 = [], index
</span><span class="marked1"><a name="line1912"></a>1912           loop do
</span><span class="marked0"><a name="line1913"></a>1913             i3, s3 = index, []
</span><span class="marked1"><a name="line1914"></a>1914             i4 = index
</span><span class="marked0"><a name="line1915"></a>1915             if input.index('&quot;', index) == index
</span><span class="marked1"><a name="line1916"></a>1916               r5 = (SyntaxNode).new(input, index...(index + 1))
</span><span class="marked0"><a name="line1917"></a>1917               @index += 1
</span><span class="inferred1"><a name="line1918"></a>1918             else
</span><span class="marked0"><a name="line1919"></a>1919               terminal_parse_failure('&quot;')
</span><span class="marked1"><a name="line1920"></a>1920               r5 = nil
</span><span class="inferred0"><a name="line1921"></a>1921             end
</span><span class="marked1"><a name="line1922"></a>1922             if r5
</span><span class="marked0"><a name="line1923"></a>1923               r4 = nil
</span><span class="inferred1"><a name="line1924"></a>1924             else
</span><span class="marked0"><a name="line1925"></a>1925               self.index = i4
</span><span class="marked1"><a name="line1926"></a>1926               r4 = SyntaxNode.new(input, index...index)
</span><span class="inferred0"><a name="line1927"></a>1927             end
</span><span class="marked1"><a name="line1928"></a>1928             s3 &lt;&lt; r4
</span><span class="marked0"><a name="line1929"></a>1929             if r4
</span><span class="marked1"><a name="line1930"></a>1930               i6 = index
</span><span class="marked0"><a name="line1931"></a>1931               if input.index(&quot;\\\\&quot;, index) == index
</span><span class="uncovered1"><a name="line1932"></a>1932                 r7 = (SyntaxNode).new(input, index...(index + 2))
</span><span class="uncovered0"><a name="line1933"></a>1933                 @index += 2
</span><span class="inferred1"><a name="line1934"></a>1934               else
</span><span class="marked0"><a name="line1935"></a>1935                 terminal_parse_failure(&quot;\\\\&quot;)
</span><span class="marked1"><a name="line1936"></a>1936                 r7 = nil
</span><span class="inferred0"><a name="line1937"></a>1937               end
</span><span class="marked1"><a name="line1938"></a>1938               if r7
</span><span class="uncovered0"><a name="line1939"></a>1939                 r6 = r7
</span><span class="inferred1"><a name="line1940"></a>1940               else
</span><span class="marked0"><a name="line1941"></a>1941                 if input.index('\&quot;', index) == index
</span><span class="uncovered1"><a name="line1942"></a>1942                   r8 = (SyntaxNode).new(input, index...(index + 2))
</span><span class="uncovered0"><a name="line1943"></a>1943                   @index += 2
</span><span class="inferred1"><a name="line1944"></a>1944                 else
</span><span class="marked0"><a name="line1945"></a>1945                   terminal_parse_failure('\&quot;')
</span><span class="marked1"><a name="line1946"></a>1946                   r8 = nil
</span><span class="inferred0"><a name="line1947"></a>1947                 end
</span><span class="marked1"><a name="line1948"></a>1948                 if r8
</span><span class="uncovered0"><a name="line1949"></a>1949                   r6 = r8
</span><span class="inferred1"><a name="line1950"></a>1950                 else
</span><span class="marked0"><a name="line1951"></a>1951                   if index &lt; input_length
</span><span class="marked1"><a name="line1952"></a>1952                     r9 = (SyntaxNode).new(input, index...(index + 1))
</span><span class="marked0"><a name="line1953"></a>1953                     @index += 1
</span><span class="uncovered1"><a name="line1954"></a>1954                   else
</span><span class="uncovered0"><a name="line1955"></a>1955                     terminal_parse_failure(&quot;any character&quot;)
</span><span class="uncovered1"><a name="line1956"></a>1956                     r9 = nil
</span><span class="uncovered0"><a name="line1957"></a>1957                   end
</span><span class="marked1"><a name="line1958"></a>1958                   if r9
</span><span class="marked0"><a name="line1959"></a>1959                     r6 = r9
</span><span class="uncovered1"><a name="line1960"></a>1960                   else
</span><span class="uncovered0"><a name="line1961"></a>1961                     self.index = i6
</span><span class="uncovered1"><a name="line1962"></a>1962                     r6 = nil
</span><span class="uncovered0"><a name="line1963"></a>1963                   end
</span><span class="uncovered1"><a name="line1964"></a>1964                 end
</span><span class="uncovered0"><a name="line1965"></a>1965               end
</span><span class="marked1"><a name="line1966"></a>1966               s3 &lt;&lt; r6
</span><span class="inferred0"><a name="line1967"></a>1967             end
</span><span class="marked1"><a name="line1968"></a>1968             if s3.last
</span><span class="marked0"><a name="line1969"></a>1969               r3 = (SyntaxNode).new(input, i3...index, s3)
</span><span class="marked1"><a name="line1970"></a>1970               r3.extend(DoubleQuotedString0)
</span><span class="inferred0"><a name="line1971"></a>1971             else
</span><span class="marked1"><a name="line1972"></a>1972               self.index = i3
</span><span class="marked0"><a name="line1973"></a>1973               r3 = nil
</span><span class="inferred1"><a name="line1974"></a>1974             end
</span><span class="marked0"><a name="line1975"></a>1975             if r3
</span><span class="marked1"><a name="line1976"></a>1976               s2 &lt;&lt; r3
</span><span class="inferred0"><a name="line1977"></a>1977             else
</span><span class="marked1"><a name="line1978"></a>1978               break
</span><span class="inferred0"><a name="line1979"></a>1979             end
</span><span class="inferred1"><a name="line1980"></a>1980           end
</span><span class="marked0"><a name="line1981"></a>1981           r2 = SyntaxNode.new(input, i2...index, s2)
</span><span class="marked1"><a name="line1982"></a>1982           s0 &lt;&lt; r2
</span><span class="marked0"><a name="line1983"></a>1983           if r2
</span><span class="marked1"><a name="line1984"></a>1984             if input.index('&quot;', index) == index
</span><span class="marked0"><a name="line1985"></a>1985               r10 = (SyntaxNode).new(input, index...(index + 1))
</span><span class="marked1"><a name="line1986"></a>1986               @index += 1
</span><span class="uncovered0"><a name="line1987"></a>1987             else
</span><span class="uncovered1"><a name="line1988"></a>1988               terminal_parse_failure('&quot;')
</span><span class="uncovered0"><a name="line1989"></a>1989               r10 = nil
</span><span class="uncovered1"><a name="line1990"></a>1990             end
</span><span class="marked0"><a name="line1991"></a>1991             s0 &lt;&lt; r10
</span><span class="inferred1"><a name="line1992"></a>1992           end
</span><span class="inferred0"><a name="line1993"></a>1993         end
</span><span class="marked1"><a name="line1994"></a>1994         if s0.last
</span><span class="marked0"><a name="line1995"></a>1995           r0 = (Terminal).new(input, i0...index, s0)
</span><span class="marked1"><a name="line1996"></a>1996           r0.extend(DoubleQuotedString1)
</span><span class="inferred0"><a name="line1997"></a>1997         else
</span><span class="marked1"><a name="line1998"></a>1998           self.index = i0
</span><span class="marked0"><a name="line1999"></a>1999           r0 = nil
</span><span class="inferred1"><a name="line2000"></a>2000         end
</span><span class="inferred0"><a name="line2001"></a>2001 
</span><span class="marked1"><a name="line2002"></a>2002         node_cache[:double_quoted_string][start_index] = r0
</span><span class="inferred0"><a name="line2003"></a>2003 
</span><span class="marked1"><a name="line2004"></a>2004         return r0
</span><span class="inferred0"><a name="line2005"></a>2005       end
</span><span class="inferred1"><a name="line2006"></a>2006 
</span><span class="marked0"><a name="line2007"></a>2007       module SingleQuotedString0
</span><span class="inferred1"><a name="line2008"></a>2008       end
</span><span class="inferred0"><a name="line2009"></a>2009 
</span><span class="marked1"><a name="line2010"></a>2010       module SingleQuotedString1
</span><span class="marked0"><a name="line2011"></a>2011         def string
</span><span class="uncovered1"><a name="line2012"></a>2012           elements[1]
</span><span class="uncovered0"><a name="line2013"></a>2013         end
</span><span class="uncovered1"><a name="line2014"></a>2014 
</span><span class="uncovered0"><a name="line2015"></a>2015       end
</span><span class="inferred1"><a name="line2016"></a>2016 
</span><span class="marked0"><a name="line2017"></a>2017       def _nt_single_quoted_string
</span><span class="marked1"><a name="line2018"></a>2018         start_index = index
</span><span class="marked0"><a name="line2019"></a>2019         if node_cache[:single_quoted_string].has_key?(index)
</span><span class="uncovered1"><a name="line2020"></a>2020           cached = node_cache[:single_quoted_string][index]
</span><span class="uncovered0"><a name="line2021"></a>2021           @index = cached.interval.end if cached
</span><span class="uncovered1"><a name="line2022"></a>2022           return cached
</span><span class="uncovered0"><a name="line2023"></a>2023         end
</span><span class="inferred1"><a name="line2024"></a>2024 
</span><span class="marked0"><a name="line2025"></a>2025         i0, s0 = index, []
</span><span class="marked1"><a name="line2026"></a>2026         if input.index(&quot;'&quot;, index) == index
</span><span class="marked0"><a name="line2027"></a>2027           r1 = (SyntaxNode).new(input, index...(index + 1))
</span><span class="marked1"><a name="line2028"></a>2028           @index += 1
</span><span class="inferred0"><a name="line2029"></a>2029         else
</span><span class="marked1"><a name="line2030"></a>2030           terminal_parse_failure(&quot;'&quot;)
</span><span class="marked0"><a name="line2031"></a>2031           r1 = nil
</span><span class="inferred1"><a name="line2032"></a>2032         end
</span><span class="marked0"><a name="line2033"></a>2033         s0 &lt;&lt; r1
</span><span class="marked1"><a name="line2034"></a>2034         if r1
</span><span class="marked0"><a name="line2035"></a>2035           s2, i2 = [], index
</span><span class="marked1"><a name="line2036"></a>2036           loop do
</span><span class="marked0"><a name="line2037"></a>2037             i3, s3 = index, []
</span><span class="marked1"><a name="line2038"></a>2038             i4 = index
</span><span class="marked0"><a name="line2039"></a>2039             if input.index(&quot;'&quot;, index) == index
</span><span class="marked1"><a name="line2040"></a>2040               r5 = (SyntaxNode).new(input, index...(index + 1))
</span><span class="marked0"><a name="line2041"></a>2041               @index += 1
</span><span class="inferred1"><a name="line2042"></a>2042             else
</span><span class="marked0"><a name="line2043"></a>2043               terminal_parse_failure(&quot;'&quot;)
</span><span class="marked1"><a name="line2044"></a>2044               r5 = nil
</span><span class="inferred0"><a name="line2045"></a>2045             end
</span><span class="marked1"><a name="line2046"></a>2046             if r5
</span><span class="marked0"><a name="line2047"></a>2047               r4 = nil
</span><span class="inferred1"><a name="line2048"></a>2048             else
</span><span class="marked0"><a name="line2049"></a>2049               self.index = i4
</span><span class="marked1"><a name="line2050"></a>2050               r4 = SyntaxNode.new(input, index...index)
</span><span class="inferred0"><a name="line2051"></a>2051             end
</span><span class="marked1"><a name="line2052"></a>2052             s3 &lt;&lt; r4
</span><span class="marked0"><a name="line2053"></a>2053             if r4
</span><span class="marked1"><a name="line2054"></a>2054               i6 = index
</span><span class="marked0"><a name="line2055"></a>2055               if input.index(&quot;\\\\&quot;, index) == index
</span><span class="marked1"><a name="line2056"></a>2056                 r7 = (SyntaxNode).new(input, index...(index + 2))
</span><span class="marked0"><a name="line2057"></a>2057                 @index += 2
</span><span class="inferred1"><a name="line2058"></a>2058               else
</span><span class="marked0"><a name="line2059"></a>2059                 terminal_parse_failure(&quot;\\\\&quot;)
</span><span class="marked1"><a name="line2060"></a>2060                 r7 = nil
</span><span class="inferred0"><a name="line2061"></a>2061               end
</span><span class="marked1"><a name="line2062"></a>2062               if r7
</span><span class="marked0"><a name="line2063"></a>2063                 r6 = r7
</span><span class="inferred1"><a name="line2064"></a>2064               else
</span><span class="marked0"><a name="line2065"></a>2065                 if input.index(&quot;\\'&quot;, index) == index
</span><span class="uncovered1"><a name="line2066"></a>2066                   r8 = (SyntaxNode).new(input, index...(index + 2))
</span><span class="uncovered0"><a name="line2067"></a>2067                   @index += 2
</span><span class="inferred1"><a name="line2068"></a>2068                 else
</span><span class="marked0"><a name="line2069"></a>2069                   terminal_parse_failure(&quot;\\'&quot;)
</span><span class="marked1"><a name="line2070"></a>2070                   r8 = nil
</span><span class="inferred0"><a name="line2071"></a>2071                 end
</span><span class="marked1"><a name="line2072"></a>2072                 if r8
</span><span class="uncovered0"><a name="line2073"></a>2073                   r6 = r8
</span><span class="inferred1"><a name="line2074"></a>2074                 else
</span><span class="marked0"><a name="line2075"></a>2075                   if index &lt; input_length
</span><span class="marked1"><a name="line2076"></a>2076                     r9 = (SyntaxNode).new(input, index...(index + 1))
</span><span class="marked0"><a name="line2077"></a>2077                     @index += 1
</span><span class="uncovered1"><a name="line2078"></a>2078                   else
</span><span class="uncovered0"><a name="line2079"></a>2079                     terminal_parse_failure(&quot;any character&quot;)
</span><span class="uncovered1"><a name="line2080"></a>2080                     r9 = nil
</span><span class="uncovered0"><a name="line2081"></a>2081                   end
</span><span class="marked1"><a name="line2082"></a>2082                   if r9
</span><span class="marked0"><a name="line2083"></a>2083                     r6 = r9
</span><span class="uncovered1"><a name="line2084"></a>2084                   else
</span><span class="uncovered0"><a name="line2085"></a>2085                     self.index = i6
</span><span class="uncovered1"><a name="line2086"></a>2086                     r6 = nil
</span><span class="uncovered0"><a name="line2087"></a>2087                   end
</span><span class="uncovered1"><a name="line2088"></a>2088                 end
</span><span class="uncovered0"><a name="line2089"></a>2089               end
</span><span class="marked1"><a name="line2090"></a>2090               s3 &lt;&lt; r6
</span><span class="inferred0"><a name="line2091"></a>2091             end
</span><span class="marked1"><a name="line2092"></a>2092             if s3.last
</span><span class="marked0"><a name="line2093"></a>2093               r3 = (SyntaxNode).new(input, i3...index, s3)
</span><span class="marked1"><a name="line2094"></a>2094               r3.extend(SingleQuotedString0)
</span><span class="inferred0"><a name="line2095"></a>2095             else
</span><span class="marked1"><a name="line2096"></a>2096               self.index = i3
</span><span class="marked0"><a name="line2097"></a>2097               r3 = nil
</span><span class="inferred1"><a name="line2098"></a>2098             end
</span><span class="marked0"><a name="line2099"></a>2099             if r3
</span><span class="marked1"><a name="line2100"></a>2100               s2 &lt;&lt; r3
</span><span class="inferred0"><a name="line2101"></a>2101             else
</span><span class="marked1"><a name="line2102"></a>2102               break
</span><span class="inferred0"><a name="line2103"></a>2103             end
</span><span class="inferred1"><a name="line2104"></a>2104           end
</span><span class="marked0"><a name="line2105"></a>2105           r2 = SyntaxNode.new(input, i2...index, s2)
</span><span class="marked1"><a name="line2106"></a>2106           s0 &lt;&lt; r2
</span><span class="marked0"><a name="line2107"></a>2107           if r2
</span><span class="marked1"><a name="line2108"></a>2108             if input.index(&quot;'&quot;, index) == index
</span><span class="marked0"><a name="line2109"></a>2109               r10 = (SyntaxNode).new(input, index...(index + 1))
</span><span class="marked1"><a name="line2110"></a>2110               @index += 1
</span><span class="uncovered0"><a name="line2111"></a>2111             else
</span><span class="uncovered1"><a name="line2112"></a>2112               terminal_parse_failure(&quot;'&quot;)
</span><span class="uncovered0"><a name="line2113"></a>2113               r10 = nil
</span><span class="uncovered1"><a name="line2114"></a>2114             end
</span><span class="marked0"><a name="line2115"></a>2115             s0 &lt;&lt; r10
</span><span class="inferred1"><a name="line2116"></a>2116           end
</span><span class="inferred0"><a name="line2117"></a>2117         end
</span><span class="marked1"><a name="line2118"></a>2118         if s0.last
</span><span class="marked0"><a name="line2119"></a>2119           r0 = (Terminal).new(input, i0...index, s0)
</span><span class="marked1"><a name="line2120"></a>2120           r0.extend(SingleQuotedString1)
</span><span class="inferred0"><a name="line2121"></a>2121         else
</span><span class="marked1"><a name="line2122"></a>2122           self.index = i0
</span><span class="marked0"><a name="line2123"></a>2123           r0 = nil
</span><span class="inferred1"><a name="line2124"></a>2124         end
</span><span class="inferred0"><a name="line2125"></a>2125 
</span><span class="marked1"><a name="line2126"></a>2126         node_cache[:single_quoted_string][start_index] = r0
</span><span class="inferred0"><a name="line2127"></a>2127 
</span><span class="marked1"><a name="line2128"></a>2128         return r0
</span><span class="inferred0"><a name="line2129"></a>2129       end
</span><span class="inferred1"><a name="line2130"></a>2130 
</span><span class="marked0"><a name="line2131"></a>2131       module CharacterClass0
</span><span class="inferred1"><a name="line2132"></a>2132       end
</span><span class="inferred0"><a name="line2133"></a>2133 
</span><span class="marked1"><a name="line2134"></a>2134       module CharacterClass1
</span><span class="inferred0"><a name="line2135"></a>2135       end
</span><span class="inferred1"><a name="line2136"></a>2136 
</span><span class="marked0"><a name="line2137"></a>2137       module CharacterClass2
</span><span class="inferred1"><a name="line2138"></a>2138       end
</span><span class="inferred0"><a name="line2139"></a>2139 
</span><span class="marked1"><a name="line2140"></a>2140       module CharacterClass3
</span><span class="marked0"><a name="line2141"></a>2141         def characters
</span><span class="marked1"><a name="line2142"></a>2142           elements[1]
</span><span class="marked0"><a name="line2143"></a>2143         end
</span><span class="inferred1"><a name="line2144"></a>2144 
</span><span class="inferred0"><a name="line2145"></a>2145       end
</span><span class="inferred1"><a name="line2146"></a>2146 
</span><span class="marked0"><a name="line2147"></a>2147       module CharacterClass4
</span><span class="marked1"><a name="line2148"></a>2148         def characters
</span><span class="marked0"><a name="line2149"></a>2149           super.text_value
</span><span class="marked1"><a name="line2150"></a>2150         end
</span><span class="inferred0"><a name="line2151"></a>2151       end
</span><span class="inferred1"><a name="line2152"></a>2152 
</span><span class="marked0"><a name="line2153"></a>2153       def _nt_character_class
</span><span class="marked1"><a name="line2154"></a>2154         start_index = index
</span><span class="marked0"><a name="line2155"></a>2155         if node_cache[:character_class].has_key?(index)
</span><span class="uncovered1"><a name="line2156"></a>2156           cached = node_cache[:character_class][index]
</span><span class="uncovered0"><a name="line2157"></a>2157           @index = cached.interval.end if cached
</span><span class="uncovered1"><a name="line2158"></a>2158           return cached
</span><span class="uncovered0"><a name="line2159"></a>2159         end
</span><span class="inferred1"><a name="line2160"></a>2160 
</span><span class="marked0"><a name="line2161"></a>2161         i0, s0 = index, []
</span><span class="marked1"><a name="line2162"></a>2162         if input.index('[', index) == index
</span><span class="marked0"><a name="line2163"></a>2163           r1 = (SyntaxNode).new(input, index...(index + 1))
</span><span class="marked1"><a name="line2164"></a>2164           @index += 1
</span><span class="inferred0"><a name="line2165"></a>2165         else
</span><span class="marked1"><a name="line2166"></a>2166           terminal_parse_failure('[')
</span><span class="marked0"><a name="line2167"></a>2167           r1 = nil
</span><span class="inferred1"><a name="line2168"></a>2168         end
</span><span class="marked0"><a name="line2169"></a>2169         s0 &lt;&lt; r1
</span><span class="marked1"><a name="line2170"></a>2170         if r1
</span><span class="marked0"><a name="line2171"></a>2171           s2, i2 = [], index
</span><span class="marked1"><a name="line2172"></a>2172           loop do
</span><span class="marked0"><a name="line2173"></a>2173             i3, s3 = index, []
</span><span class="marked1"><a name="line2174"></a>2174             i4 = index
</span><span class="marked0"><a name="line2175"></a>2175             if input.index(']', index) == index
</span><span class="marked1"><a name="line2176"></a>2176               r5 = (SyntaxNode).new(input, index...(index + 1))
</span><span class="marked0"><a name="line2177"></a>2177               @index += 1
</span><span class="inferred1"><a name="line2178"></a>2178             else
</span><span class="marked0"><a name="line2179"></a>2179               terminal_parse_failure(']')
</span><span class="marked1"><a name="line2180"></a>2180               r5 = nil
</span><span class="inferred0"><a name="line2181"></a>2181             end
</span><span class="marked1"><a name="line2182"></a>2182             if r5
</span><span class="marked0"><a name="line2183"></a>2183               r4 = nil
</span><span class="inferred1"><a name="line2184"></a>2184             else
</span><span class="marked0"><a name="line2185"></a>2185               self.index = i4
</span><span class="marked1"><a name="line2186"></a>2186               r4 = SyntaxNode.new(input, index...index)
</span><span class="inferred0"><a name="line2187"></a>2187             end
</span><span class="marked1"><a name="line2188"></a>2188             s3 &lt;&lt; r4
</span><span class="marked0"><a name="line2189"></a>2189             if r4
</span><span class="marked1"><a name="line2190"></a>2190               i6 = index
</span><span class="marked0"><a name="line2191"></a>2191               i7, s7 = index, []
</span><span class="marked1"><a name="line2192"></a>2192               if input.index('\\', index) == index
</span><span class="uncovered0"><a name="line2193"></a>2193                 r8 = (SyntaxNode).new(input, index...(index + 1))
</span><span class="uncovered1"><a name="line2194"></a>2194                 @index += 1
</span><span class="inferred0"><a name="line2195"></a>2195               else
</span><span class="marked1"><a name="line2196"></a>2196                 terminal_parse_failure('\\')
</span><span class="marked0"><a name="line2197"></a>2197                 r8 = nil
</span><span class="inferred1"><a name="line2198"></a>2198               end
</span><span class="marked0"><a name="line2199"></a>2199               s7 &lt;&lt; r8
</span><span class="marked1"><a name="line2200"></a>2200               if r8
</span><span class="uncovered0"><a name="line2201"></a>2201                 if index &lt; input_length
</span><span class="uncovered1"><a name="line2202"></a>2202                   r9 = (SyntaxNode).new(input, index...(index + 1))
</span><span class="uncovered0"><a name="line2203"></a>2203                   @index += 1
</span><span class="uncovered1"><a name="line2204"></a>2204                 else
</span><span class="uncovered0"><a name="line2205"></a>2205                   terminal_parse_failure(&quot;any character&quot;)
</span><span class="uncovered1"><a name="line2206"></a>2206                   r9 = nil
</span><span class="uncovered0"><a name="line2207"></a>2207                 end
</span><span class="uncovered1"><a name="line2208"></a>2208                 s7 &lt;&lt; r9
</span><span class="uncovered0"><a name="line2209"></a>2209               end
</span><span class="marked1"><a name="line2210"></a>2210               if s7.last
</span><span class="uncovered0"><a name="line2211"></a>2211                 r7 = (SyntaxNode).new(input, i7...index, s7)
</span><span class="uncovered1"><a name="line2212"></a>2212                 r7.extend(CharacterClass0)
</span><span class="inferred0"><a name="line2213"></a>2213               else
</span><span class="marked1"><a name="line2214"></a>2214                 self.index = i7
</span><span class="marked0"><a name="line2215"></a>2215                 r7 = nil
</span><span class="inferred1"><a name="line2216"></a>2216               end
</span><span class="marked0"><a name="line2217"></a>2217               if r7
</span><span class="uncovered1"><a name="line2218"></a>2218                 r6 = r7
</span><span class="inferred0"><a name="line2219"></a>2219               else
</span><span class="marked1"><a name="line2220"></a>2220                 i10, s10 = index, []
</span><span class="marked0"><a name="line2221"></a>2221                 i11 = index
</span><span class="marked1"><a name="line2222"></a>2222                 if input.index('\\', index) == index
</span><span class="uncovered0"><a name="line2223"></a>2223                   r12 = (SyntaxNode).new(input, index...(index + 1))
</span><span class="uncovered1"><a name="line2224"></a>2224                   @index += 1
</span><span class="inferred0"><a name="line2225"></a>2225                 else
</span><span class="marked1"><a name="line2226"></a>2226                   terminal_parse_failure('\\')
</span><span class="marked0"><a name="line2227"></a>2227                   r12 = nil
</span><span class="inferred1"><a name="line2228"></a>2228                 end
</span><span class="marked0"><a name="line2229"></a>2229                 if r12
</span><span class="uncovered1"><a name="line2230"></a>2230                   r11 = nil
</span><span class="inferred0"><a name="line2231"></a>2231                 else
</span><span class="marked1"><a name="line2232"></a>2232                   self.index = i11
</span><span class="marked0"><a name="line2233"></a>2233                   r11 = SyntaxNode.new(input, index...index)
</span><span class="inferred1"><a name="line2234"></a>2234                 end
</span><span class="marked0"><a name="line2235"></a>2235                 s10 &lt;&lt; r11
</span><span class="marked1"><a name="line2236"></a>2236                 if r11
</span><span class="marked0"><a name="line2237"></a>2237                   if index &lt; input_length
</span><span class="marked1"><a name="line2238"></a>2238                     r13 = (SyntaxNode).new(input, index...(index + 1))
</span><span class="marked0"><a name="line2239"></a>2239                     @index += 1
</span><span class="uncovered1"><a name="line2240"></a>2240                   else
</span><span class="uncovered0"><a name="line2241"></a>2241                     terminal_parse_failure(&quot;any character&quot;)
</span><span class="uncovered1"><a name="line2242"></a>2242                     r13 = nil
</span><span class="uncovered0"><a name="line2243"></a>2243                   end
</span><span class="marked1"><a name="line2244"></a>2244                   s10 &lt;&lt; r13
</span><span class="inferred0"><a name="line2245"></a>2245                 end
</span><span class="marked1"><a name="line2246"></a>2246                 if s10.last
</span><span class="marked0"><a name="line2247"></a>2247                   r10 = (SyntaxNode).new(input, i10...index, s10)
</span><span class="marked1"><a name="line2248"></a>2248                   r10.extend(CharacterClass1)
</span><span class="uncovered0"><a name="line2249"></a>2249                 else
</span><span class="uncovered1"><a name="line2250"></a>2250                   self.index = i10
</span><span class="uncovered0"><a name="line2251"></a>2251                   r10 = nil
</span><span class="uncovered1"><a name="line2252"></a>2252                 end
</span><span class="marked0"><a name="line2253"></a>2253                 if r10
</span><span class="marked1"><a name="line2254"></a>2254                   r6 = r10
</span><span class="uncovered0"><a name="line2255"></a>2255                 else
</span><span class="uncovered1"><a name="line2256"></a>2256                   self.index = i6
</span><span class="uncovered0"><a name="line2257"></a>2257                   r6 = nil
</span><span class="uncovered1"><a name="line2258"></a>2258                 end
</span><span class="uncovered0"><a name="line2259"></a>2259               end
</span><span class="marked1"><a name="line2260"></a>2260               s3 &lt;&lt; r6
</span><span class="inferred0"><a name="line2261"></a>2261             end
</span><span class="marked1"><a name="line2262"></a>2262             if s3.last
</span><span class="marked0"><a name="line2263"></a>2263               r3 = (SyntaxNode).new(input, i3...index, s3)
</span><span class="marked1"><a name="line2264"></a>2264               r3.extend(CharacterClass2)
</span><span class="inferred0"><a name="line2265"></a>2265             else
</span><span class="marked1"><a name="line2266"></a>2266               self.index = i3
</span><span class="marked0"><a name="line2267"></a>2267               r3 = nil
</span><span class="inferred1"><a name="line2268"></a>2268             end
</span><span class="marked0"><a name="line2269"></a>2269             if r3
</span><span class="marked1"><a name="line2270"></a>2270               s2 &lt;&lt; r3
</span><span class="inferred0"><a name="line2271"></a>2271             else
</span><span class="marked1"><a name="line2272"></a>2272               break
</span><span class="inferred0"><a name="line2273"></a>2273             end
</span><span class="inferred1"><a name="line2274"></a>2274           end
</span><span class="marked0"><a name="line2275"></a>2275           if s2.empty?
</span><span class="uncovered1"><a name="line2276"></a>2276             self.index = i2
</span><span class="uncovered0"><a name="line2277"></a>2277             r2 = nil
</span><span class="inferred1"><a name="line2278"></a>2278           else
</span><span class="marked0"><a name="line2279"></a>2279             r2 = SyntaxNode.new(input, i2...index, s2)
</span><span class="inferred1"><a name="line2280"></a>2280           end
</span><span class="marked0"><a name="line2281"></a>2281           s0 &lt;&lt; r2
</span><span class="marked1"><a name="line2282"></a>2282           if r2
</span><span class="marked0"><a name="line2283"></a>2283             if input.index(']', index) == index
</span><span class="marked1"><a name="line2284"></a>2284               r14 = (SyntaxNode).new(input, index...(index + 1))
</span><span class="marked0"><a name="line2285"></a>2285               @index += 1
</span><span class="uncovered1"><a name="line2286"></a>2286             else
</span><span class="uncovered0"><a name="line2287"></a>2287               terminal_parse_failure(']')
</span><span class="uncovered1"><a name="line2288"></a>2288               r14 = nil
</span><span class="uncovered0"><a name="line2289"></a>2289             end
</span><span class="marked1"><a name="line2290"></a>2290             s0 &lt;&lt; r14
</span><span class="inferred0"><a name="line2291"></a>2291           end
</span><span class="inferred1"><a name="line2292"></a>2292         end
</span><span class="marked0"><a name="line2293"></a>2293         if s0.last
</span><span class="marked1"><a name="line2294"></a>2294           r0 = (CharacterClass).new(input, i0...index, s0)
</span><span class="marked0"><a name="line2295"></a>2295           r0.extend(CharacterClass3)
</span><span class="marked1"><a name="line2296"></a>2296           r0.extend(CharacterClass4)
</span><span class="inferred0"><a name="line2297"></a>2297         else
</span><span class="marked1"><a name="line2298"></a>2298           self.index = i0
</span><span class="marked0"><a name="line2299"></a>2299           r0 = nil
</span><span class="inferred1"><a name="line2300"></a>2300         end
</span><span class="inferred0"><a name="line2301"></a>2301 
</span><span class="marked1"><a name="line2302"></a>2302         node_cache[:character_class][start_index] = r0
</span><span class="inferred0"><a name="line2303"></a>2303 
</span><span class="marked1"><a name="line2304"></a>2304         return r0
</span><span class="inferred0"><a name="line2305"></a>2305       end
</span><span class="inferred1"><a name="line2306"></a>2306 
</span><span class="marked0"><a name="line2307"></a>2307       def _nt_anything_symbol
</span><span class="marked1"><a name="line2308"></a>2308         start_index = index
</span><span class="marked0"><a name="line2309"></a>2309         if node_cache[:anything_symbol].has_key?(index)
</span><span class="uncovered1"><a name="line2310"></a>2310           cached = node_cache[:anything_symbol][index]
</span><span class="uncovered0"><a name="line2311"></a>2311           @index = cached.interval.end if cached
</span><span class="uncovered1"><a name="line2312"></a>2312           return cached
</span><span class="uncovered0"><a name="line2313"></a>2313         end
</span><span class="inferred1"><a name="line2314"></a>2314 
</span><span class="marked0"><a name="line2315"></a>2315         if input.index('.', index) == index
</span><span class="marked1"><a name="line2316"></a>2316           r0 = (AnythingSymbol).new(input, index...(index + 1))
</span><span class="marked0"><a name="line2317"></a>2317           @index += 1
</span><span class="inferred1"><a name="line2318"></a>2318         else
</span><span class="marked0"><a name="line2319"></a>2319           terminal_parse_failure('.')
</span><span class="marked1"><a name="line2320"></a>2320           r0 = nil
</span><span class="inferred0"><a name="line2321"></a>2321         end
</span><span class="inferred1"><a name="line2322"></a>2322 
</span><span class="marked0"><a name="line2323"></a>2323         node_cache[:anything_symbol][start_index] = r0
</span><span class="inferred1"><a name="line2324"></a>2324 
</span><span class="marked0"><a name="line2325"></a>2325         return r0
</span><span class="inferred1"><a name="line2326"></a>2326       end
</span><span class="inferred0"><a name="line2327"></a>2327 
</span><span class="marked1"><a name="line2328"></a>2328       module NodeClassExpression0
</span><span class="inferred0"><a name="line2329"></a>2329       end
</span><span class="inferred1"><a name="line2330"></a>2330 
</span><span class="marked0"><a name="line2331"></a>2331       module NodeClassExpression1
</span><span class="marked1"><a name="line2332"></a>2332         def space
</span><span class="uncovered0"><a name="line2333"></a>2333           elements[0]
</span><span class="uncovered1"><a name="line2334"></a>2334         end
</span><span class="uncovered0"><a name="line2335"></a>2335 
</span><span class="uncovered1"><a name="line2336"></a>2336       end
</span><span class="inferred0"><a name="line2337"></a>2337 
</span><span class="marked1"><a name="line2338"></a>2338       module NodeClassExpression2
</span><span class="marked0"><a name="line2339"></a>2339         def node_class_name
</span><span class="marked1"><a name="line2340"></a>2340           elements[2].text_value
</span><span class="marked0"><a name="line2341"></a>2341         end
</span><span class="inferred1"><a name="line2342"></a>2342       end
</span><span class="inferred0"><a name="line2343"></a>2343 
</span><span class="marked1"><a name="line2344"></a>2344       module NodeClassExpression3
</span><span class="marked0"><a name="line2345"></a>2345         def node_class_name
</span><span class="marked1"><a name="line2346"></a>2346           nil
</span><span class="marked0"><a name="line2347"></a>2347         end
</span><span class="inferred1"><a name="line2348"></a>2348       end
</span><span class="inferred0"><a name="line2349"></a>2349 
</span><span class="marked1"><a name="line2350"></a>2350       def _nt_node_class_expression
</span><span class="marked0"><a name="line2351"></a>2351         start_index = index
</span><span class="marked1"><a name="line2352"></a>2352         if node_cache[:node_class_expression].has_key?(index)
</span><span class="uncovered0"><a name="line2353"></a>2353           cached = node_cache[:node_class_expression][index]
</span><span class="uncovered1"><a name="line2354"></a>2354           @index = cached.interval.end if cached
</span><span class="uncovered0"><a name="line2355"></a>2355           return cached
</span><span class="uncovered1"><a name="line2356"></a>2356         end
</span><span class="inferred0"><a name="line2357"></a>2357 
</span><span class="marked1"><a name="line2358"></a>2358         i0 = index
</span><span class="marked0"><a name="line2359"></a>2359         i1, s1 = index, []
</span><span class="marked1"><a name="line2360"></a>2360         r2 = _nt_space
</span><span class="marked0"><a name="line2361"></a>2361         s1 &lt;&lt; r2
</span><span class="marked1"><a name="line2362"></a>2362         if r2
</span><span class="marked0"><a name="line2363"></a>2363           if input.index('&lt;', index) == index
</span><span class="marked1"><a name="line2364"></a>2364             r3 = (SyntaxNode).new(input, index...(index + 1))
</span><span class="marked0"><a name="line2365"></a>2365             @index += 1
</span><span class="inferred1"><a name="line2366"></a>2366           else
</span><span class="marked0"><a name="line2367"></a>2367             terminal_parse_failure('&lt;')
</span><span class="marked1"><a name="line2368"></a>2368             r3 = nil
</span><span class="inferred0"><a name="line2369"></a>2369           end
</span><span class="marked1"><a name="line2370"></a>2370           s1 &lt;&lt; r3
</span><span class="marked0"><a name="line2371"></a>2371           if r3
</span><span class="marked1"><a name="line2372"></a>2372             s4, i4 = [], index
</span><span class="marked0"><a name="line2373"></a>2373             loop do
</span><span class="marked1"><a name="line2374"></a>2374               i5, s5 = index, []
</span><span class="marked0"><a name="line2375"></a>2375               i6 = index
</span><span class="marked1"><a name="line2376"></a>2376               if input.index('&gt;', index) == index
</span><span class="marked0"><a name="line2377"></a>2377                 r7 = (SyntaxNode).new(input, index...(index + 1))
</span><span class="marked1"><a name="line2378"></a>2378                 @index += 1
</span><span class="inferred0"><a name="line2379"></a>2379               else
</span><span class="marked1"><a name="line2380"></a>2380                 terminal_parse_failure('&gt;')
</span><span class="marked0"><a name="line2381"></a>2381                 r7 = nil
</span><span class="inferred1"><a name="line2382"></a>2382               end
</span><span class="marked0"><a name="line2383"></a>2383               if r7
</span><span class="marked1"><a name="line2384"></a>2384                 r6 = nil
</span><span class="inferred0"><a name="line2385"></a>2385               else
</span><span class="marked1"><a name="line2386"></a>2386                 self.index = i6
</span><span class="marked0"><a name="line2387"></a>2387                 r6 = SyntaxNode.new(input, index...index)
</span><span class="inferred1"><a name="line2388"></a>2388               end
</span><span class="marked0"><a name="line2389"></a>2389               s5 &lt;&lt; r6
</span><span class="marked1"><a name="line2390"></a>2390               if r6
</span><span class="marked0"><a name="line2391"></a>2391                 if index &lt; input_length
</span><span class="marked1"><a name="line2392"></a>2392                   r8 = (SyntaxNode).new(input, index...(index + 1))
</span><span class="marked0"><a name="line2393"></a>2393                   @index += 1
</span><span class="uncovered1"><a name="line2394"></a>2394                 else
</span><span class="uncovered0"><a name="line2395"></a>2395                   terminal_parse_failure(&quot;any character&quot;)
</span><span class="uncovered1"><a name="line2396"></a>2396                   r8 = nil
</span><span class="uncovered0"><a name="line2397"></a>2397                 end
</span><span class="marked1"><a name="line2398"></a>2398                 s5 &lt;&lt; r8
</span><span class="inferred0"><a name="line2399"></a>2399               end
</span><span class="marked1"><a name="line2400"></a>2400               if s5.last
</span><span class="marked0"><a name="line2401"></a>2401                 r5 = (SyntaxNode).new(input, i5...index, s5)
</span><span class="marked1"><a name="line2402"></a>2402                 r5.extend(NodeClassExpression0)
</span><span class="inferred0"><a name="line2403"></a>2403               else
</span><span class="marked1"><a name="line2404"></a>2404                 self.index = i5
</span><span class="marked0"><a name="line2405"></a>2405                 r5 = nil
</span><span class="inferred1"><a name="line2406"></a>2406               end
</span><span class="marked0"><a name="line2407"></a>2407               if r5
</span><span class="marked1"><a name="line2408"></a>2408                 s4 &lt;&lt; r5
</span><span class="inferred0"><a name="line2409"></a>2409               else
</span><span class="marked1"><a name="line2410"></a>2410                 break
</span><span class="inferred0"><a name="line2411"></a>2411               end
</span><span class="inferred1"><a name="line2412"></a>2412             end
</span><span class="marked0"><a name="line2413"></a>2413             if s4.empty?
</span><span class="uncovered1"><a name="line2414"></a>2414               self.index = i4
</span><span class="uncovered0"><a name="line2415"></a>2415               r4 = nil
</span><span class="inferred1"><a name="line2416"></a>2416             else
</span><span class="marked0"><a name="line2417"></a>2417               r4 = SyntaxNode.new(input, i4...index, s4)
</span><span class="inferred1"><a name="line2418"></a>2418             end
</span><span class="marked0"><a name="line2419"></a>2419             s1 &lt;&lt; r4
</span><span class="marked1"><a name="line2420"></a>2420             if r4
</span><span class="marked0"><a name="line2421"></a>2421               if input.index('&gt;', index) == index
</span><span class="marked1"><a name="line2422"></a>2422                 r9 = (SyntaxNode).new(input, index...(index + 1))
</span><span class="marked0"><a name="line2423"></a>2423                 @index += 1
</span><span class="uncovered1"><a name="line2424"></a>2424               else
</span><span class="uncovered0"><a name="line2425"></a>2425                 terminal_parse_failure('&gt;')
</span><span class="uncovered1"><a name="line2426"></a>2426                 r9 = nil
</span><span class="uncovered0"><a name="line2427"></a>2427               end
</span><span class="marked1"><a name="line2428"></a>2428               s1 &lt;&lt; r9
</span><span class="inferred0"><a name="line2429"></a>2429             end
</span><span class="inferred1"><a name="line2430"></a>2430           end
</span><span class="inferred0"><a name="line2431"></a>2431         end
</span><span class="marked1"><a name="line2432"></a>2432         if s1.last
</span><span class="marked0"><a name="line2433"></a>2433           r1 = (SyntaxNode).new(input, i1...index, s1)
</span><span class="marked1"><a name="line2434"></a>2434           r1.extend(NodeClassExpression1)
</span><span class="marked0"><a name="line2435"></a>2435           r1.extend(NodeClassExpression2)
</span><span class="inferred1"><a name="line2436"></a>2436         else
</span><span class="marked0"><a name="line2437"></a>2437           self.index = i1
</span><span class="marked1"><a name="line2438"></a>2438           r1 = nil
</span><span class="inferred0"><a name="line2439"></a>2439         end
</span><span class="marked1"><a name="line2440"></a>2440         if r1
</span><span class="marked0"><a name="line2441"></a>2441           r0 = r1
</span><span class="inferred1"><a name="line2442"></a>2442         else
</span><span class="marked0"><a name="line2443"></a>2443           if input.index('', index) == index
</span><span class="marked1"><a name="line2444"></a>2444             r10 = (SyntaxNode).new(input, index...(index + 0))
</span><span class="marked0"><a name="line2445"></a>2445             r10.extend(NodeClassExpression3)
</span><span class="marked1"><a name="line2446"></a>2446             @index += 0
</span><span class="uncovered0"><a name="line2447"></a>2447           else
</span><span class="uncovered1"><a name="line2448"></a>2448             terminal_parse_failure('')
</span><span class="uncovered0"><a name="line2449"></a>2449             r10 = nil
</span><span class="uncovered1"><a name="line2450"></a>2450           end
</span><span class="marked0"><a name="line2451"></a>2451           if r10
</span><span class="marked1"><a name="line2452"></a>2452             r0 = r10
</span><span class="uncovered0"><a name="line2453"></a>2453           else
</span><span class="uncovered1"><a name="line2454"></a>2454             self.index = i0
</span><span class="uncovered0"><a name="line2455"></a>2455             r0 = nil
</span><span class="uncovered1"><a name="line2456"></a>2456           end
</span><span class="uncovered0"><a name="line2457"></a>2457         end
</span><span class="inferred1"><a name="line2458"></a>2458 
</span><span class="marked0"><a name="line2459"></a>2459         node_cache[:node_class_expression][start_index] = r0
</span><span class="inferred1"><a name="line2460"></a>2460 
</span><span class="marked0"><a name="line2461"></a>2461         return r0
</span><span class="inferred1"><a name="line2462"></a>2462       end
</span><span class="inferred0"><a name="line2463"></a>2463 
</span><span class="marked1"><a name="line2464"></a>2464       module TrailingInlineModule0
</span><span class="marked0"><a name="line2465"></a>2465         def space
</span><span class="uncovered1"><a name="line2466"></a>2466           elements[0]
</span><span class="uncovered0"><a name="line2467"></a>2467         end
</span><span class="inferred1"><a name="line2468"></a>2468 
</span><span class="marked0"><a name="line2469"></a>2469         def inline_module
</span><span class="marked1"><a name="line2470"></a>2470           elements[1]
</span><span class="marked0"><a name="line2471"></a>2471         end
</span><span class="inferred1"><a name="line2472"></a>2472       end
</span><span class="inferred0"><a name="line2473"></a>2473 
</span><span class="marked1"><a name="line2474"></a>2474       module TrailingInlineModule1
</span><span class="marked0"><a name="line2475"></a>2475         def inline_modules
</span><span class="marked1"><a name="line2476"></a>2476           [inline_module]
</span><span class="marked0"><a name="line2477"></a>2477         end
</span><span class="inferred1"><a name="line2478"></a>2478               
</span><span class="marked0"><a name="line2479"></a>2479         def inline_module_name
</span><span class="uncovered1"><a name="line2480"></a>2480           inline_module.module_name
</span><span class="uncovered0"><a name="line2481"></a>2481         end
</span><span class="uncovered1"><a name="line2482"></a>2482       end
</span><span class="inferred0"><a name="line2483"></a>2483 
</span><span class="marked1"><a name="line2484"></a>2484       module TrailingInlineModule2
</span><span class="marked0"><a name="line2485"></a>2485         def inline_modules
</span><span class="marked1"><a name="line2486"></a>2486           []
</span><span class="marked0"><a name="line2487"></a>2487         end
</span><span class="inferred1"><a name="line2488"></a>2488     
</span><span class="marked0"><a name="line2489"></a>2489         def inline_module
</span><span class="marked1"><a name="line2490"></a>2490           nil 
</span><span class="marked0"><a name="line2491"></a>2491         end
</span><span class="inferred1"><a name="line2492"></a>2492     
</span><span class="marked0"><a name="line2493"></a>2493         def inline_module_name
</span><span class="uncovered1"><a name="line2494"></a>2494           nil
</span><span class="uncovered0"><a name="line2495"></a>2495         end
</span><span class="uncovered1"><a name="line2496"></a>2496       end
</span><span class="inferred0"><a name="line2497"></a>2497 
</span><span class="marked1"><a name="line2498"></a>2498       def _nt_trailing_inline_module
</span><span class="marked0"><a name="line2499"></a>2499         start_index = index
</span><span class="marked1"><a name="line2500"></a>2500         if node_cache[:trailing_inline_module].has_key?(index)
</span><span class="uncovered0"><a name="line2501"></a>2501           cached = node_cache[:trailing_inline_module][index]
</span><span class="uncovered1"><a name="line2502"></a>2502           @index = cached.interval.end if cached
</span><span class="uncovered0"><a name="line2503"></a>2503           return cached
</span><span class="uncovered1"><a name="line2504"></a>2504         end
</span><span class="inferred0"><a name="line2505"></a>2505 
</span><span class="marked1"><a name="line2506"></a>2506         i0 = index
</span><span class="marked0"><a name="line2507"></a>2507         i1, s1 = index, []
</span><span class="marked1"><a name="line2508"></a>2508         r2 = _nt_space
</span><span class="marked0"><a name="line2509"></a>2509         s1 &lt;&lt; r2
</span><span class="marked1"><a name="line2510"></a>2510         if r2
</span><span class="marked0"><a name="line2511"></a>2511           r3 = _nt_inline_module
</span><span class="marked1"><a name="line2512"></a>2512           s1 &lt;&lt; r3
</span><span class="inferred0"><a name="line2513"></a>2513         end
</span><span class="marked1"><a name="line2514"></a>2514         if s1.last
</span><span class="marked0"><a name="line2515"></a>2515           r1 = (SyntaxNode).new(input, i1...index, s1)
</span><span class="marked1"><a name="line2516"></a>2516           r1.extend(TrailingInlineModule0)
</span><span class="marked0"><a name="line2517"></a>2517           r1.extend(TrailingInlineModule1)
</span><span class="inferred1"><a name="line2518"></a>2518         else
</span><span class="marked0"><a name="line2519"></a>2519           self.index = i1
</span><span class="marked1"><a name="line2520"></a>2520           r1 = nil
</span><span class="inferred0"><a name="line2521"></a>2521         end
</span><span class="marked1"><a name="line2522"></a>2522         if r1
</span><span class="marked0"><a name="line2523"></a>2523           r0 = r1
</span><span class="inferred1"><a name="line2524"></a>2524         else
</span><span class="marked0"><a name="line2525"></a>2525           if input.index('', index) == index
</span><span class="marked1"><a name="line2526"></a>2526             r4 = (SyntaxNode).new(input, index...(index + 0))
</span><span class="marked0"><a name="line2527"></a>2527             r4.extend(TrailingInlineModule2)
</span><span class="marked1"><a name="line2528"></a>2528             @index += 0
</span><span class="uncovered0"><a name="line2529"></a>2529           else
</span><span class="uncovered1"><a name="line2530"></a>2530             terminal_parse_failure('')
</span><span class="uncovered0"><a name="line2531"></a>2531             r4 = nil
</span><span class="uncovered1"><a name="line2532"></a>2532           end
</span><span class="marked0"><a name="line2533"></a>2533           if r4
</span><span class="marked1"><a name="line2534"></a>2534             r0 = r4
</span><span class="uncovered0"><a name="line2535"></a>2535           else
</span><span class="uncovered1"><a name="line2536"></a>2536             self.index = i0
</span><span class="uncovered0"><a name="line2537"></a>2537             r0 = nil
</span><span class="uncovered1"><a name="line2538"></a>2538           end
</span><span class="uncovered0"><a name="line2539"></a>2539         end
</span><span class="inferred1"><a name="line2540"></a>2540 
</span><span class="marked0"><a name="line2541"></a>2541         node_cache[:trailing_inline_module][start_index] = r0
</span><span class="inferred1"><a name="line2542"></a>2542 
</span><span class="marked0"><a name="line2543"></a>2543         return r0
</span><span class="inferred1"><a name="line2544"></a>2544       end
</span><span class="inferred0"><a name="line2545"></a>2545 
</span><span class="marked1"><a name="line2546"></a>2546       module InlineModule0
</span><span class="inferred0"><a name="line2547"></a>2547       end
</span><span class="inferred1"><a name="line2548"></a>2548 
</span><span class="marked0"><a name="line2549"></a>2549       module InlineModule1
</span><span class="inferred1"><a name="line2550"></a>2550       end
</span><span class="inferred0"><a name="line2551"></a>2551 
</span><span class="marked1"><a name="line2552"></a>2552       def _nt_inline_module
</span><span class="marked0"><a name="line2553"></a>2553         start_index = index
</span><span class="marked1"><a name="line2554"></a>2554         if node_cache[:inline_module].has_key?(index)
</span><span class="uncovered0"><a name="line2555"></a>2555           cached = node_cache[:inline_module][index]
</span><span class="uncovered1"><a name="line2556"></a>2556           @index = cached.interval.end if cached
</span><span class="uncovered0"><a name="line2557"></a>2557           return cached
</span><span class="uncovered1"><a name="line2558"></a>2558         end
</span><span class="inferred0"><a name="line2559"></a>2559 
</span><span class="marked1"><a name="line2560"></a>2560         i0, s0 = index, []
</span><span class="marked0"><a name="line2561"></a>2561         if input.index('{', index) == index
</span><span class="marked1"><a name="line2562"></a>2562           r1 = (SyntaxNode).new(input, index...(index + 1))
</span><span class="marked0"><a name="line2563"></a>2563           @index += 1
</span><span class="inferred1"><a name="line2564"></a>2564         else
</span><span class="marked0"><a name="line2565"></a>2565           terminal_parse_failure('{')
</span><span class="marked1"><a name="line2566"></a>2566           r1 = nil
</span><span class="inferred0"><a name="line2567"></a>2567         end
</span><span class="marked1"><a name="line2568"></a>2568         s0 &lt;&lt; r1
</span><span class="marked0"><a name="line2569"></a>2569         if r1
</span><span class="marked1"><a name="line2570"></a>2570           s2, i2 = [], index
</span><span class="marked0"><a name="line2571"></a>2571           loop do
</span><span class="marked1"><a name="line2572"></a>2572             i3 = index
</span><span class="marked0"><a name="line2573"></a>2573             r4 = _nt_inline_module
</span><span class="marked1"><a name="line2574"></a>2574             if r4
</span><span class="uncovered0"><a name="line2575"></a>2575               r3 = r4
</span><span class="inferred1"><a name="line2576"></a>2576             else
</span><span class="marked0"><a name="line2577"></a>2577               i5, s5 = index, []
</span><span class="marked1"><a name="line2578"></a>2578               i6 = index
</span><span class="marked0"><a name="line2579"></a>2579               if input.index(Regexp.new('[{}]'), index) == index
</span><span class="marked1"><a name="line2580"></a>2580                 r7 = (SyntaxNode).new(input, index...(index + 1))
</span><span class="marked0"><a name="line2581"></a>2581                 @index += 1
</span><span class="inferred1"><a name="line2582"></a>2582               else
</span><span class="marked0"><a name="line2583"></a>2583                 r7 = nil
</span><span class="inferred1"><a name="line2584"></a>2584               end
</span><span class="marked0"><a name="line2585"></a>2585               if r7
</span><span class="marked1"><a name="line2586"></a>2586                 r6 = nil
</span><span class="inferred0"><a name="line2587"></a>2587               else
</span><span class="marked1"><a name="line2588"></a>2588                 self.index = i6
</span><span class="marked0"><a name="line2589"></a>2589                 r6 = SyntaxNode.new(input, index...index)
</span><span class="inferred1"><a name="line2590"></a>2590               end
</span><span class="marked0"><a name="line2591"></a>2591               s5 &lt;&lt; r6
</span><span class="marked1"><a name="line2592"></a>2592               if r6
</span><span class="marked0"><a name="line2593"></a>2593                 if index &lt; input_length
</span><span class="marked1"><a name="line2594"></a>2594                   r8 = (SyntaxNode).new(input, index...(index + 1))
</span><span class="marked0"><a name="line2595"></a>2595                   @index += 1
</span><span class="uncovered1"><a name="line2596"></a>2596                 else
</span><span class="uncovered0"><a name="line2597"></a>2597                   terminal_parse_failure(&quot;any character&quot;)
</span><span class="uncovered1"><a name="line2598"></a>2598                   r8 = nil
</span><span class="uncovered0"><a name="line2599"></a>2599                 end
</span><span class="marked1"><a name="line2600"></a>2600                 s5 &lt;&lt; r8
</span><span class="inferred0"><a name="line2601"></a>2601               end
</span><span class="marked1"><a name="line2602"></a>2602               if s5.last
</span><span class="marked0"><a name="line2603"></a>2603                 r5 = (SyntaxNode).new(input, i5...index, s5)
</span><span class="marked1"><a name="line2604"></a>2604                 r5.extend(InlineModule0)
</span><span class="inferred0"><a name="line2605"></a>2605               else
</span><span class="marked1"><a name="line2606"></a>2606                 self.index = i5
</span><span class="marked0"><a name="line2607"></a>2607                 r5 = nil
</span><span class="inferred1"><a name="line2608"></a>2608               end
</span><span class="marked0"><a name="line2609"></a>2609               if r5
</span><span class="marked1"><a name="line2610"></a>2610                 r3 = r5
</span><span class="inferred0"><a name="line2611"></a>2611               else
</span><span class="marked1"><a name="line2612"></a>2612                 self.index = i3
</span><span class="marked0"><a name="line2613"></a>2613                 r3 = nil
</span><span class="inferred1"><a name="line2614"></a>2614               end
</span><span class="inferred0"><a name="line2615"></a>2615             end
</span><span class="marked1"><a name="line2616"></a>2616             if r3
</span><span class="marked0"><a name="line2617"></a>2617               s2 &lt;&lt; r3
</span><span class="inferred1"><a name="line2618"></a>2618             else
</span><span class="marked0"><a name="line2619"></a>2619               break
</span><span class="inferred1"><a name="line2620"></a>2620             end
</span><span class="inferred0"><a name="line2621"></a>2621           end
</span><span class="marked1"><a name="line2622"></a>2622           r2 = SyntaxNode.new(input, i2...index, s2)
</span><span class="marked0"><a name="line2623"></a>2623           s0 &lt;&lt; r2
</span><span class="marked1"><a name="line2624"></a>2624           if r2
</span><span class="marked0"><a name="line2625"></a>2625             if input.index('}', index) == index
</span><span class="marked1"><a name="line2626"></a>2626               r9 = (SyntaxNode).new(input, index...(index + 1))
</span><span class="marked0"><a name="line2627"></a>2627               @index += 1
</span><span class="uncovered1"><a name="line2628"></a>2628             else
</span><span class="uncovered0"><a name="line2629"></a>2629               terminal_parse_failure('}')
</span><span class="uncovered1"><a name="line2630"></a>2630               r9 = nil
</span><span class="uncovered0"><a name="line2631"></a>2631             end
</span><span class="marked1"><a name="line2632"></a>2632             s0 &lt;&lt; r9
</span><span class="inferred0"><a name="line2633"></a>2633           end
</span><span class="inferred1"><a name="line2634"></a>2634         end
</span><span class="marked0"><a name="line2635"></a>2635         if s0.last
</span><span class="marked1"><a name="line2636"></a>2636           r0 = (InlineModule).new(input, i0...index, s0)
</span><span class="marked0"><a name="line2637"></a>2637           r0.extend(InlineModule1)
</span><span class="inferred1"><a name="line2638"></a>2638         else
</span><span class="marked0"><a name="line2639"></a>2639           self.index = i0
</span><span class="marked1"><a name="line2640"></a>2640           r0 = nil
</span><span class="inferred0"><a name="line2641"></a>2641         end
</span><span class="inferred1"><a name="line2642"></a>2642 
</span><span class="marked0"><a name="line2643"></a>2643         node_cache[:inline_module][start_index] = r0
</span><span class="inferred1"><a name="line2644"></a>2644 
</span><span class="marked0"><a name="line2645"></a>2645         return r0
</span><span class="inferred1"><a name="line2646"></a>2646       end
</span><span class="inferred0"><a name="line2647"></a>2647 
</span><span class="marked1"><a name="line2648"></a>2648       module KeywordInsideGrammar0
</span><span class="inferred0"><a name="line2649"></a>2649       end
</span><span class="inferred1"><a name="line2650"></a>2650 
</span><span class="marked0"><a name="line2651"></a>2651       def _nt_keyword_inside_grammar
</span><span class="marked1"><a name="line2652"></a>2652         start_index = index
</span><span class="marked0"><a name="line2653"></a>2653         if node_cache[:keyword_inside_grammar].has_key?(index)
</span><span class="uncovered1"><a name="line2654"></a>2654           cached = node_cache[:keyword_inside_grammar][index]
</span><span class="uncovered0"><a name="line2655"></a>2655           @index = cached.interval.end if cached
</span><span class="uncovered1"><a name="line2656"></a>2656           return cached
</span><span class="uncovered0"><a name="line2657"></a>2657         end
</span><span class="inferred1"><a name="line2658"></a>2658 
</span><span class="marked0"><a name="line2659"></a>2659         i0, s0 = index, []
</span><span class="marked1"><a name="line2660"></a>2660         i1 = index
</span><span class="marked0"><a name="line2661"></a>2661         if input.index('rule', index) == index
</span><span class="uncovered1"><a name="line2662"></a>2662           r2 = (SyntaxNode).new(input, index...(index + 4))
</span><span class="uncovered0"><a name="line2663"></a>2663           @index += 4
</span><span class="inferred1"><a name="line2664"></a>2664         else
</span><span class="marked0"><a name="line2665"></a>2665           terminal_parse_failure('rule')
</span><span class="marked1"><a name="line2666"></a>2666           r2 = nil
</span><span class="inferred0"><a name="line2667"></a>2667         end
</span><span class="marked1"><a name="line2668"></a>2668         if r2
</span><span class="uncovered0"><a name="line2669"></a>2669           r1 = r2
</span><span class="inferred1"><a name="line2670"></a>2670         else
</span><span class="marked0"><a name="line2671"></a>2671           if input.index('end', index) == index
</span><span class="marked1"><a name="line2672"></a>2672             r3 = (SyntaxNode).new(input, index...(index + 3))
</span><span class="marked0"><a name="line2673"></a>2673             @index += 3
</span><span class="inferred1"><a name="line2674"></a>2674           else
</span><span class="marked0"><a name="line2675"></a>2675             terminal_parse_failure('end')
</span><span class="marked1"><a name="line2676"></a>2676             r3 = nil
</span><span class="inferred0"><a name="line2677"></a>2677           end
</span><span class="marked1"><a name="line2678"></a>2678           if r3
</span><span class="marked0"><a name="line2679"></a>2679             r1 = r3
</span><span class="inferred1"><a name="line2680"></a>2680           else
</span><span class="marked0"><a name="line2681"></a>2681             self.index = i1
</span><span class="marked1"><a name="line2682"></a>2682             r1 = nil
</span><span class="inferred0"><a name="line2683"></a>2683           end
</span><span class="inferred1"><a name="line2684"></a>2684         end
</span><span class="marked0"><a name="line2685"></a>2685         s0 &lt;&lt; r1
</span><span class="marked1"><a name="line2686"></a>2686         if r1
</span><span class="marked0"><a name="line2687"></a>2687           i4 = index
</span><span class="marked1"><a name="line2688"></a>2688           r5 = _nt_non_space_char
</span><span class="marked0"><a name="line2689"></a>2689           if r5
</span><span class="uncovered1"><a name="line2690"></a>2690             r4 = nil
</span><span class="inferred0"><a name="line2691"></a>2691           else
</span><span class="marked1"><a name="line2692"></a>2692             self.index = i4
</span><span class="marked0"><a name="line2693"></a>2693             r4 = SyntaxNode.new(input, index...index)
</span><span class="inferred1"><a name="line2694"></a>2694           end
</span><span class="marked0"><a name="line2695"></a>2695           s0 &lt;&lt; r4
</span><span class="inferred1"><a name="line2696"></a>2696         end
</span><span class="marked0"><a name="line2697"></a>2697         if s0.last
</span><span class="marked1"><a name="line2698"></a>2698           r0 = (SyntaxNode).new(input, i0...index, s0)
</span><span class="marked0"><a name="line2699"></a>2699           r0.extend(KeywordInsideGrammar0)
</span><span class="inferred1"><a name="line2700"></a>2700         else
</span><span class="marked0"><a name="line2701"></a>2701           self.index = i0
</span><span class="marked1"><a name="line2702"></a>2702           r0 = nil
</span><span class="inferred0"><a name="line2703"></a>2703         end
</span><span class="inferred1"><a name="line2704"></a>2704 
</span><span class="marked0"><a name="line2705"></a>2705         node_cache[:keyword_inside_grammar][start_index] = r0
</span><span class="inferred1"><a name="line2706"></a>2706 
</span><span class="marked0"><a name="line2707"></a>2707         return r0
</span><span class="inferred1"><a name="line2708"></a>2708       end
</span><span class="inferred0"><a name="line2709"></a>2709 
</span><span class="marked1"><a name="line2710"></a>2710       module NonSpaceChar0
</span><span class="inferred0"><a name="line2711"></a>2711       end
</span><span class="inferred1"><a name="line2712"></a>2712 
</span><span class="marked0"><a name="line2713"></a>2713       def _nt_non_space_char
</span><span class="marked1"><a name="line2714"></a>2714         start_index = index
</span><span class="marked0"><a name="line2715"></a>2715         if node_cache[:non_space_char].has_key?(index)
</span><span class="uncovered1"><a name="line2716"></a>2716           cached = node_cache[:non_space_char][index]
</span><span class="uncovered0"><a name="line2717"></a>2717           @index = cached.interval.end if cached
</span><span class="uncovered1"><a name="line2718"></a>2718           return cached
</span><span class="uncovered0"><a name="line2719"></a>2719         end
</span><span class="inferred1"><a name="line2720"></a>2720 
</span><span class="marked0"><a name="line2721"></a>2721         i0, s0 = index, []
</span><span class="marked1"><a name="line2722"></a>2722         i1 = index
</span><span class="marked0"><a name="line2723"></a>2723         r2 = _nt_space
</span><span class="marked1"><a name="line2724"></a>2724         if r2
</span><span class="marked0"><a name="line2725"></a>2725           r1 = nil
</span><span class="uncovered1"><a name="line2726"></a>2726         else
</span><span class="uncovered0"><a name="line2727"></a>2727           self.index = i1
</span><span class="uncovered1"><a name="line2728"></a>2728           r1 = SyntaxNode.new(input, index...index)
</span><span class="uncovered0"><a name="line2729"></a>2729         end
</span><span class="marked1"><a name="line2730"></a>2730         s0 &lt;&lt; r1
</span><span class="marked0"><a name="line2731"></a>2731         if r1
</span><span class="uncovered1"><a name="line2732"></a>2732           if index &lt; input_length
</span><span class="uncovered0"><a name="line2733"></a>2733             r3 = (SyntaxNode).new(input, index...(index + 1))
</span><span class="uncovered1"><a name="line2734"></a>2734             @index += 1
</span><span class="uncovered0"><a name="line2735"></a>2735           else
</span><span class="uncovered1"><a name="line2736"></a>2736             terminal_parse_failure(&quot;any character&quot;)
</span><span class="uncovered0"><a name="line2737"></a>2737             r3 = nil
</span><span class="uncovered1"><a name="line2738"></a>2738           end
</span><span class="uncovered0"><a name="line2739"></a>2739           s0 &lt;&lt; r3
</span><span class="uncovered1"><a name="line2740"></a>2740         end
</span><span class="marked0"><a name="line2741"></a>2741         if s0.last
</span><span class="uncovered1"><a name="line2742"></a>2742           r0 = (SyntaxNode).new(input, i0...index, s0)
</span><span class="uncovered0"><a name="line2743"></a>2743           r0.extend(NonSpaceChar0)
</span><span class="inferred1"><a name="line2744"></a>2744         else
</span><span class="marked0"><a name="line2745"></a>2745           self.index = i0
</span><span class="marked1"><a name="line2746"></a>2746           r0 = nil
</span><span class="inferred0"><a name="line2747"></a>2747         end
</span><span class="inferred1"><a name="line2748"></a>2748 
</span><span class="marked0"><a name="line2749"></a>2749         node_cache[:non_space_char][start_index] = r0
</span><span class="inferred1"><a name="line2750"></a>2750 
</span><span class="marked0"><a name="line2751"></a>2751         return r0
</span><span class="inferred1"><a name="line2752"></a>2752       end
</span><span class="inferred0"><a name="line2753"></a>2753 
</span><span class="marked1"><a name="line2754"></a>2754       def _nt_alpha_char
</span><span class="marked0"><a name="line2755"></a>2755         start_index = index
</span><span class="marked1"><a name="line2756"></a>2756         if node_cache[:alpha_char].has_key?(index)
</span><span class="marked0"><a name="line2757"></a>2757           cached = node_cache[:alpha_char][index]
</span><span class="marked1"><a name="line2758"></a>2758           @index = cached.interval.end if cached
</span><span class="marked0"><a name="line2759"></a>2759           return cached
</span><span class="inferred1"><a name="line2760"></a>2760         end
</span><span class="inferred0"><a name="line2761"></a>2761 
</span><span class="marked1"><a name="line2762"></a>2762         if input.index(Regexp.new('[A-Za-z_]'), index) == index
</span><span class="marked0"><a name="line2763"></a>2763           r0 = (SyntaxNode).new(input, index...(index + 1))
</span><span class="marked1"><a name="line2764"></a>2764           @index += 1
</span><span class="inferred0"><a name="line2765"></a>2765         else
</span><span class="marked1"><a name="line2766"></a>2766           r0 = nil
</span><span class="inferred0"><a name="line2767"></a>2767         end
</span><span class="inferred1"><a name="line2768"></a>2768 
</span><span class="marked0"><a name="line2769"></a>2769         node_cache[:alpha_char][start_index] = r0
</span><span class="inferred1"><a name="line2770"></a>2770 
</span><span class="marked0"><a name="line2771"></a>2771         return r0
</span><span class="inferred1"><a name="line2772"></a>2772       end
</span><span class="inferred0"><a name="line2773"></a>2773 
</span><span class="marked1"><a name="line2774"></a>2774       def _nt_alphanumeric_char
</span><span class="marked0"><a name="line2775"></a>2775         start_index = index
</span><span class="marked1"><a name="line2776"></a>2776         if node_cache[:alphanumeric_char].has_key?(index)
</span><span class="marked0"><a name="line2777"></a>2777           cached = node_cache[:alphanumeric_char][index]
</span><span class="marked1"><a name="line2778"></a>2778           @index = cached.interval.end if cached
</span><span class="marked0"><a name="line2779"></a>2779           return cached
</span><span class="inferred1"><a name="line2780"></a>2780         end
</span><span class="inferred0"><a name="line2781"></a>2781 
</span><span class="marked1"><a name="line2782"></a>2782         i0 = index
</span><span class="marked0"><a name="line2783"></a>2783         r1 = _nt_alpha_char
</span><span class="marked1"><a name="line2784"></a>2784         if r1
</span><span class="marked0"><a name="line2785"></a>2785           r0 = r1
</span><span class="inferred1"><a name="line2786"></a>2786         else
</span><span class="marked0"><a name="line2787"></a>2787           if input.index(Regexp.new('[0-9]'), index) == index
</span><span class="uncovered1"><a name="line2788"></a>2788             r2 = (SyntaxNode).new(input, index...(index + 1))
</span><span class="uncovered0"><a name="line2789"></a>2789             @index += 1
</span><span class="inferred1"><a name="line2790"></a>2790           else
</span><span class="marked0"><a name="line2791"></a>2791             r2 = nil
</span><span class="inferred1"><a name="line2792"></a>2792           end
</span><span class="marked0"><a name="line2793"></a>2793           if r2
</span><span class="uncovered1"><a name="line2794"></a>2794             r0 = r2
</span><span class="inferred0"><a name="line2795"></a>2795           else
</span><span class="marked1"><a name="line2796"></a>2796             self.index = i0
</span><span class="marked0"><a name="line2797"></a>2797             r0 = nil
</span><span class="inferred1"><a name="line2798"></a>2798           end
</span><span class="inferred0"><a name="line2799"></a>2799         end
</span><span class="inferred1"><a name="line2800"></a>2800 
</span><span class="marked0"><a name="line2801"></a>2801         node_cache[:alphanumeric_char][start_index] = r0
</span><span class="inferred1"><a name="line2802"></a>2802 
</span><span class="marked0"><a name="line2803"></a>2803         return r0
</span><span class="inferred1"><a name="line2804"></a>2804       end
</span><span class="inferred0"><a name="line2805"></a>2805 
</span><span class="marked1"><a name="line2806"></a>2806       def _nt_space
</span><span class="marked0"><a name="line2807"></a>2807         start_index = index
</span><span class="marked1"><a name="line2808"></a>2808         if node_cache[:space].has_key?(index)
</span><span class="marked0"><a name="line2809"></a>2809           cached = node_cache[:space][index]
</span><span class="marked1"><a name="line2810"></a>2810           @index = cached.interval.end if cached
</span><span class="marked0"><a name="line2811"></a>2811           return cached
</span><span class="inferred1"><a name="line2812"></a>2812         end
</span><span class="inferred0"><a name="line2813"></a>2813 
</span><span class="marked1"><a name="line2814"></a>2814         s0, i0 = [], index
</span><span class="marked0"><a name="line2815"></a>2815         loop do
</span><span class="marked1"><a name="line2816"></a>2816           i1 = index
</span><span class="marked0"><a name="line2817"></a>2817           r2 = _nt_white
</span><span class="marked1"><a name="line2818"></a>2818           if r2
</span><span class="marked0"><a name="line2819"></a>2819             r1 = r2
</span><span class="inferred1"><a name="line2820"></a>2820           else
</span><span class="marked0"><a name="line2821"></a>2821             r3 = _nt_comment_to_eol
</span><span class="marked1"><a name="line2822"></a>2822             if r3
</span><span class="uncovered0"><a name="line2823"></a>2823               r1 = r3
</span><span class="inferred1"><a name="line2824"></a>2824             else
</span><span class="marked0"><a name="line2825"></a>2825               self.index = i1
</span><span class="marked1"><a name="line2826"></a>2826               r1 = nil
</span><span class="inferred0"><a name="line2827"></a>2827             end
</span><span class="inferred1"><a name="line2828"></a>2828           end
</span><span class="marked0"><a name="line2829"></a>2829           if r1
</span><span class="marked1"><a name="line2830"></a>2830             s0 &lt;&lt; r1
</span><span class="inferred0"><a name="line2831"></a>2831           else
</span><span class="marked1"><a name="line2832"></a>2832             break
</span><span class="inferred0"><a name="line2833"></a>2833           end
</span><span class="inferred1"><a name="line2834"></a>2834         end
</span><span class="marked0"><a name="line2835"></a>2835         if s0.empty?
</span><span class="marked1"><a name="line2836"></a>2836           self.index = i0
</span><span class="marked0"><a name="line2837"></a>2837           r0 = nil
</span><span class="inferred1"><a name="line2838"></a>2838         else
</span><span class="marked0"><a name="line2839"></a>2839           r0 = SyntaxNode.new(input, i0...index, s0)
</span><span class="inferred1"><a name="line2840"></a>2840         end
</span><span class="inferred0"><a name="line2841"></a>2841 
</span><span class="marked1"><a name="line2842"></a>2842         node_cache[:space][start_index] = r0
</span><span class="inferred0"><a name="line2843"></a>2843 
</span><span class="marked1"><a name="line2844"></a>2844         return r0
</span><span class="inferred0"><a name="line2845"></a>2845       end
</span><span class="inferred1"><a name="line2846"></a>2846 
</span><span class="marked0"><a name="line2847"></a>2847       module CommentToEol0
</span><span class="inferred1"><a name="line2848"></a>2848       end
</span><span class="inferred0"><a name="line2849"></a>2849 
</span><span class="marked1"><a name="line2850"></a>2850       module CommentToEol1
</span><span class="inferred0"><a name="line2851"></a>2851       end
</span><span class="inferred1"><a name="line2852"></a>2852 
</span><span class="marked0"><a name="line2853"></a>2853       def _nt_comment_to_eol
</span><span class="marked1"><a name="line2854"></a>2854         start_index = index
</span><span class="marked0"><a name="line2855"></a>2855         if node_cache[:comment_to_eol].has_key?(index)
</span><span class="uncovered1"><a name="line2856"></a>2856           cached = node_cache[:comment_to_eol][index]
</span><span class="uncovered0"><a name="line2857"></a>2857           @index = cached.interval.end if cached
</span><span class="uncovered1"><a name="line2858"></a>2858           return cached
</span><span class="uncovered0"><a name="line2859"></a>2859         end
</span><span class="inferred1"><a name="line2860"></a>2860 
</span><span class="marked0"><a name="line2861"></a>2861         i0, s0 = index, []
</span><span class="marked1"><a name="line2862"></a>2862         if input.index('#', index) == index
</span><span class="inferred0"><a name="line2863"></a>2863           r1 = (SyntaxNode).new(input, index...(index + 1))
</span><span class="uncovered1"><a name="line2864"></a>2864           @index += 1
</span><span class="inferred0"><a name="line2865"></a>2865         else
</span><span class="marked1"><a name="line2866"></a>2866           terminal_parse_failure('#')
</span><span class="marked0"><a name="line2867"></a>2867           r1 = nil
</span><span class="inferred1"><a name="line2868"></a>2868         end
</span><span class="marked0"><a name="line2869"></a>2869         s0 &lt;&lt; r1
</span><span class="marked1"><a name="line2870"></a>2870         if r1
</span><span class="uncovered0"><a name="line2871"></a>2871           s2, i2 = [], index
</span><span class="uncovered1"><a name="line2872"></a>2872           loop do
</span><span class="uncovered0"><a name="line2873"></a>2873             i3, s3 = index, []
</span><span class="uncovered1"><a name="line2874"></a>2874             i4 = index
</span><span class="uncovered0"><a name="line2875"></a>2875             if input.index(&quot;\n&quot;, index) == index
</span><span class="uncovered1"><a name="line2876"></a>2876               r5 = (SyntaxNode).new(input, index...(index + 1))
</span><span class="uncovered0"><a name="line2877"></a>2877               @index += 1
</span><span class="uncovered1"><a name="line2878"></a>2878             else
</span><span class="uncovered0"><a name="line2879"></a>2879               terminal_parse_failure(&quot;\n&quot;)
</span><span class="uncovered1"><a name="line2880"></a>2880               r5 = nil
</span><span class="uncovered0"><a name="line2881"></a>2881             end
</span><span class="uncovered1"><a name="line2882"></a>2882             if r5
</span><span class="uncovered0"><a name="line2883"></a>2883               r4 = nil
</span><span class="uncovered1"><a name="line2884"></a>2884             else
</span><span class="uncovered0"><a name="line2885"></a>2885               self.index = i4
</span><span class="uncovered1"><a name="line2886"></a>2886               r4 = SyntaxNode.new(input, index...index)
</span><span class="uncovered0"><a name="line2887"></a>2887             end
</span><span class="uncovered1"><a name="line2888"></a>2888             s3 &lt;&lt; r4
</span><span class="uncovered0"><a name="line2889"></a>2889             if r4
</span><span class="uncovered1"><a name="line2890"></a>2890               if index &lt; input_length
</span><span class="uncovered0"><a name="line2891"></a>2891                 r6 = (SyntaxNode).new(input, index...(index + 1))
</span><span class="uncovered1"><a name="line2892"></a>2892                 @index += 1
</span><span class="uncovered0"><a name="line2893"></a>2893               else
</span><span class="uncovered1"><a name="line2894"></a>2894                 terminal_parse_failure(&quot;any character&quot;)
</span><span class="uncovered0"><a name="line2895"></a>2895                 r6 = nil
</span><span class="uncovered1"><a name="line2896"></a>2896               end
</span><span class="uncovered0"><a name="line2897"></a>2897               s3 &lt;&lt; r6
</span><span class="uncovered1"><a name="line2898"></a>2898             end
</span><span class="uncovered0"><a name="line2899"></a>2899             if s3.last
</span><span class="uncovered1"><a name="line2900"></a>2900               r3 = (SyntaxNode).new(input, i3...index, s3)
</span><span class="uncovered0"><a name="line2901"></a>2901               r3.extend(CommentToEol0)
</span><span class="uncovered1"><a name="line2902"></a>2902             else
</span><span class="uncovered0"><a name="line2903"></a>2903               self.index = i3
</span><span class="uncovered1"><a name="line2904"></a>2904               r3 = nil
</span><span class="uncovered0"><a name="line2905"></a>2905             end
</span><span class="uncovered1"><a name="line2906"></a>2906             if r3
</span><span class="uncovered0"><a name="line2907"></a>2907               s2 &lt;&lt; r3
</span><span class="uncovered1"><a name="line2908"></a>2908             else
</span><span class="uncovered0"><a name="line2909"></a>2909               break
</span><span class="uncovered1"><a name="line2910"></a>2910             end
</span><span class="uncovered0"><a name="line2911"></a>2911           end
</span><span class="uncovered1"><a name="line2912"></a>2912           r2 = SyntaxNode.new(input, i2...index, s2)
</span><span class="uncovered0"><a name="line2913"></a>2913           s0 &lt;&lt; r2
</span><span class="uncovered1"><a name="line2914"></a>2914         end
</span><span class="marked0"><a name="line2915"></a>2915         if s0.last
</span><span class="uncovered1"><a name="line2916"></a>2916           r0 = (SyntaxNode).new(input, i0...index, s0)
</span><span class="uncovered0"><a name="line2917"></a>2917           r0.extend(CommentToEol1)
</span><span class="inferred1"><a name="line2918"></a>2918         else
</span><span class="marked0"><a name="line2919"></a>2919           self.index = i0
</span><span class="marked1"><a name="line2920"></a>2920           r0 = nil
</span><span class="inferred0"><a name="line2921"></a>2921         end
</span><span class="inferred1"><a name="line2922"></a>2922 
</span><span class="marked0"><a name="line2923"></a>2923         node_cache[:comment_to_eol][start_index] = r0
</span><span class="inferred1"><a name="line2924"></a>2924 
</span><span class="marked0"><a name="line2925"></a>2925         return r0
</span><span class="inferred1"><a name="line2926"></a>2926       end
</span><span class="inferred0"><a name="line2927"></a>2927 
</span><span class="marked1"><a name="line2928"></a>2928       def _nt_white
</span><span class="marked0"><a name="line2929"></a>2929         start_index = index
</span><span class="marked1"><a name="line2930"></a>2930         if node_cache[:white].has_key?(index)
</span><span class="uncovered0"><a name="line2931"></a>2931           cached = node_cache[:white][index]
</span><span class="uncovered1"><a name="line2932"></a>2932           @index = cached.interval.end if cached
</span><span class="uncovered0"><a name="line2933"></a>2933           return cached
</span><span class="uncovered1"><a name="line2934"></a>2934         end
</span><span class="inferred0"><a name="line2935"></a>2935 
</span><span class="marked1"><a name="line2936"></a>2936         if input.index(Regexp.new('[ \\t\\n\\r]'), index) == index
</span><span class="marked0"><a name="line2937"></a>2937           r0 = (SyntaxNode).new(input, index...(index + 1))
</span><span class="marked1"><a name="line2938"></a>2938           @index += 1
</span><span class="inferred0"><a name="line2939"></a>2939         else
</span><span class="marked1"><a name="line2940"></a>2940           r0 = nil
</span><span class="inferred0"><a name="line2941"></a>2941         end
</span><span class="inferred1"><a name="line2942"></a>2942 
</span><span class="marked0"><a name="line2943"></a>2943         node_cache[:white][start_index] = r0
</span><span class="inferred1"><a name="line2944"></a>2944 
</span><span class="marked0"><a name="line2945"></a>2945         return r0
</span><span class="inferred1"><a name="line2946"></a>2946       end
</span><span class="inferred0"><a name="line2947"></a>2947 
</span><span class="inferred1"><a name="line2948"></a>2948     end
</span><span class="inferred0"><a name="line2949"></a>2949 
</span><span class="marked1"><a name="line2950"></a>2950     class MetagrammarParser &lt; Treetop::Runtime::CompiledParser
</span><span class="marked0"><a name="line2951"></a>2951       include Metagrammar
</span><span class="inferred1"><a name="line2952"></a>2952     end
</span><span class="inferred0"><a name="line2953"></a>2953 
</span><span class="inferred1"><a name="line2954"></a>2954   end
</span><span class="inferred0"><a name="line2955"></a>2955 end
</span></pre><hr/>
    <p>Generated using the <a href='http://eigenclass.org/hiki.rb?rcov'>rcov code coverage analysis tool for Ruby</a>
   version 0.8.1.2.</p>
<p><a href='http://validator.w3.org/check/referer'><img src='http://www.w3.org/Icons/valid-xhtml10' height='31' alt='Valid XHTML 1.0!' width='88'/>
        </a>
      <a href='http://jigsaw.w3.org/css-validator/check/referer'><img src='http://jigsaw.w3.org/css-validator/images/vcss' alt='Valid CSS!' style='border:0;width:88px;height:31px'/>
        </a>
      </p>
    </body>
  </html>
